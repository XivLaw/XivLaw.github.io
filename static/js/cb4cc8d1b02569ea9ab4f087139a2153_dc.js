webpackJsonp([3],{"/Luh":function(t,e,i){(function(e){
/*!
 *
 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
!function(e){"use strict";"function"==typeof bootstrap?bootstrap("promise",e):t.exports=e()}(function(){"use strict";var t=!1;try{throw new Error}catch(e){t=!!e.stack}var i,n=x(),s=function(){},o=function(){var t={task:void 0,next:null},i=t,n=!1,s=void 0,l=!1,r=[];function a(){for(var e,i;t.next;)e=(t=t.next).task,t.task=void 0,(i=t.domain)&&(t.domain=void 0,i.enter()),h(e,i);for(;r.length;)h(e=r.pop());n=!1}function h(t,e){try{t()}catch(t){if(l)throw e&&e.exit(),setTimeout(a,0),e&&e.enter(),t;setTimeout(function(){throw t},0)}e&&e.exit()}if(o=function(t){i=i.next={task:t,domain:l&&e.domain,next:null},n||(n=!0,s())},"object"==typeof e&&"[object process]"===e.toString()&&e.nextTick)l=!0,s=function(){e.nextTick(a)};else if("function"==typeof setImmediate)s="undefined"!=typeof window?setImmediate.bind(window,a):function(){setImmediate(a)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=function(){s=u,c.port1.onmessage=a,a()};var u=function(){c.port2.postMessage(0)};s=function(){setTimeout(a,0),u()}}else s=function(){setTimeout(a,0)};return o.runAfter=function(t){r.push(t),n||(n=!0,s())},o}(),l=Function.call;function r(t){return function(){return l.apply(t,arguments)}}var a,h=r(Array.prototype.slice),c=r(Array.prototype.reduce||function(t,e){var i=0,n=this.length;if(1===arguments.length)for(;;){if(i in this){e=this[i++];break}if(++i>=n)throw new TypeError}for(;i<n;i++)i in this&&(e=t(e,this[i],i));return e}),u=r(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),d=r(Array.prototype.map||function(t,e){var i=this,n=[];return c(i,function(s,o,l){n.push(t.call(e,o,l,i))},void 0),n}),p=Object.create||function(t){function e(){}return e.prototype=t,new e},g=Object.defineProperty||function(t,e,i){return t[e]=i.value,t},f=r(Object.prototype.hasOwnProperty),y=Object.keys||function(t){var e=[];for(var i in t)f(t,i)&&e.push(i);return e},m=r(Object.prototype.toString);a="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var v="From previous event:";function C(e,i){if(t&&i.stack&&"object"==typeof e&&null!==e&&e.stack){for(var n=[],s=i;s;s=s.source)s.stack&&(!e.__minimumStackCounter__||e.__minimumStackCounter__>s.stackCounter)&&(g(e,"__minimumStackCounter__",{value:s.stackCounter,configurable:!0}),n.unshift(s.stack));n.unshift(e.stack);var o=function(t){for(var e=t.split("\n"),i=[],n=0;n<e.length;++n){var s=e[n];!b(s)&&(-1===(o=s).indexOf("(module.js:")&&-1===o.indexOf("(node.js:"))&&s&&i.push(s)}var o;return i.join("\n")}(n.join("\n"+v+"\n"));g(e,"stack",{value:o,configurable:!0})}}function S(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var i=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(i)return[i[1],Number(i[2])];var n=/.*@(.+):(\d+)$/.exec(t);return n?[n[1],Number(n[2])]:void 0}function b(t){var e=S(t);if(!e)return!1;var s=e[0],o=e[1];return s===i&&o>=n&&o<=G}function x(){if(t)try{throw new Error}catch(t){var e=t.stack.split("\n"),n=S(e[0].indexOf("@")>0?e[1]:e[2]);if(!n)return;return i=n[0],n[1]}}function _(t){return t instanceof L?t:B(t)?(e=t,i=T(),_.nextTick(function(){try{e.then(i.resolve,i.reject,i.notify)}catch(t){i.reject(t)}}),i.promise):W(t);var e,i}_.resolve=_,_.nextTick=o,_.longStackSupport=!1;var w=1;function T(){var e,i=[],n=[],s=p(T.prototype),o=p(L.prototype);if(o.promiseDispatch=function(t,s,o){var l=h(arguments);i?(i.push(l),"when"===s&&o[1]&&n.push(o[1])):_.nextTick(function(){e.promiseDispatch.apply(e,l)})},o.valueOf=function(){if(i)return o;var t=D(e);return I(t)&&(e=t),t},o.inspect=function(){return e?e.inspect():{state:"pending"}},_.longStackSupport&&t)try{throw new Error}catch(t){o.stack=t.stack.substring(t.stack.indexOf("\n")+1),o.stackCounter=w++}function l(s){e=s,_.longStackSupport&&t&&(o.source=s),c(i,function(t,e){_.nextTick(function(){s.promiseDispatch.apply(s,e)})},void 0),i=void 0,n=void 0}return s.promise=o,s.resolve=function(t){e||l(_(t))},s.fulfill=function(t){e||l(W(t))},s.reject=function(t){e||l(P(t))},s.notify=function(t){e||c(n,function(e,i){_.nextTick(function(){i(t)})},void 0)},s}function N(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=T();try{t(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}return e.promise}function O(t){return N(function(e,i){for(var n=0,s=t.length;n<s;n++)_(t[n]).then(e,i)})}function L(t,e,i){void 0===e&&(e=function(t){return P(new Error("Promise does not support operation: "+t))}),void 0===i&&(i=function(){return{state:"unknown"}});var n=p(L.prototype);if(n.promiseDispatch=function(i,s,o){var l;try{l=t[s]?t[s].apply(n,o):e.call(n,s,o)}catch(t){l=P(t)}i&&i(l)},n.inspect=i,i){var s=i();"rejected"===s.state&&(n.exception=s.reason),n.valueOf=function(){var t=i();return"pending"===t.state||"rejected"===t.state?n:t.value}}return n}function k(t,e,i,n){return _(t).then(e,i,n)}function D(t){if(I(t)){var e=t.inspect();if("fulfilled"===e.state)return e.value}return t}function I(t){return t instanceof L}function B(t){return(e=t)===Object(e)&&"function"==typeof t.then;var e}"object"==typeof e&&e&&Object({NODE_ENV:"production"})&&Object({NODE_ENV:"production"}).Q_DEBUG&&(_.longStackSupport=!0),_.defer=T,T.prototype.makeNodeResolver=function(){var t=this;return function(e,i){e?t.reject(e):arguments.length>2?t.resolve(h(arguments,1)):t.resolve(i)}},_.Promise=N,_.promise=N,N.race=O,N.all=A,N.reject=P,N.resolve=_,_.passByCopy=function(t){return t},L.prototype.passByCopy=function(){return this},_.join=function(t,e){return _(t).join(e)},L.prototype.join=function(t){return _([this,t]).spread(function(t,e){if(t===e)return t;throw new Error("Q can't join: not the same: "+t+" "+e)})},_.race=O,L.prototype.race=function(){return this.then(_.race)},_.makePromise=L,L.prototype.toString=function(){return"[object Promise]"},L.prototype.then=function(t,e,i){var n=this,s=T(),o=!1;return _.nextTick(function(){n.promiseDispatch(function(e){o||(o=!0,s.resolve(function(e){try{return"function"==typeof t?t(e):e}catch(t){return P(t)}}(e)))},"when",[function(t){o||(o=!0,s.resolve(function(t){if("function"==typeof e){C(t,n);try{return e(t)}catch(t){return P(t)}}return P(t)}(t)))}])}),n.promiseDispatch(void 0,"when",[void 0,function(t){var e,n=!1;try{e=function(t){return"function"==typeof i?i(t):t}(t)}catch(t){if(n=!0,!_.onerror)throw t;_.onerror(t)}n||s.notify(e)}]),s.promise},_.tap=function(t,e){return _(t).tap(e)},L.prototype.tap=function(t){return t=_(t),this.then(function(e){return t.fcall(e).thenResolve(e)})},_.when=k,L.prototype.thenResolve=function(t){return this.then(function(){return t})},_.thenResolve=function(t,e){return _(t).thenResolve(e)},L.prototype.thenReject=function(t){return this.then(function(){throw t})},_.thenReject=function(t,e){return _(t).thenReject(e)},_.nearer=D,_.isPromise=I,_.isPromiseAlike=B,_.isPending=function(t){return I(t)&&"pending"===t.inspect().state},L.prototype.isPending=function(){return"pending"===this.inspect().state},_.isFulfilled=function(t){return!I(t)||"fulfilled"===t.inspect().state},L.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},_.isRejected=function(t){return I(t)&&"rejected"===t.inspect().state},L.prototype.isRejected=function(){return"rejected"===this.inspect().state};var Y,R,M,E=[],H=[],F=[],Z=!0;function z(){E.length=0,H.length=0,Z||(Z=!0)}function P(t){var i=L({when:function(i){return i&&function(t){if(Z){var i=u(H,t);-1!==i&&("object"==typeof e&&"function"==typeof e.emit&&_.nextTick.runAfter(function(){var n=u(F,t);-1!==n&&(e.emit("rejectionHandled",E[i],t),F.splice(n,1))}),H.splice(i,1),E.splice(i,1))}}(this),i?i(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return function(t,i){Z&&("object"==typeof e&&"function"==typeof e.emit&&_.nextTick.runAfter(function(){-1!==u(H,t)&&(e.emit("unhandledRejection",i,t),F.push(t))}),H.push(t),i&&void 0!==i.stack?E.push(i.stack):E.push("(no stack) "+i))}(i,t),i}function W(t){return L({when:function(){return t},get:function(e){return t[e]},set:function(e,i){t[e]=i},delete:function(e){delete t[e]},post:function(e,i){return null===e||void 0===e?t.apply(void 0,i):t[e].apply(t,i)},apply:function(e,i){return t.apply(e,i)},keys:function(){return y(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function J(t,e,i){return _(t).spread(e,i)}function X(t,e,i){return _(t).dispatch(e,i)}function A(t){return k(t,function(t){var e=0,i=T();return c(t,function(n,s,o){var l;I(s)&&"fulfilled"===(l=s.inspect()).state?t[o]=l.value:(++e,k(s,function(n){t[o]=n,0==--e&&i.resolve(t)},i.reject,function(t){i.notify({index:o,value:t})}))},void 0),0===e&&i.resolve(t),i.promise})}function V(t){if(0===t.length)return _.resolve();var e=_.defer(),i=0;return c(t,function(n,s,o){var l=t[o];i++,k(l,function(t){e.resolve(t)},function(t){if(0==--i){var n=t||new Error(""+t);n.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+n.message,e.reject(n)}},function(t){e.notify({index:o,value:t})})},void 0),e.promise}function j(t){return k(t,function(t){return t=d(t,_),k(A(d(t,function(t){return k(t,s,s)})),function(){return t})})}_.resetUnhandledRejections=z,_.getUnhandledReasons=function(){return E.slice()},_.stopUnhandledRejectionTracking=function(){z(),Z=!1},z(),_.reject=P,_.fulfill=W,_.master=function(t){return L({isDef:function(){}},function(e,i){return X(t,e,i)},function(){return _(t).inspect()})},_.spread=J,L.prototype.spread=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},_.async=function(t){return function(){function e(t,e){var o;if("undefined"==typeof StopIteration){try{o=i[t](e)}catch(t){return P(t)}return o.done?_(o.value):k(o.value,n,s)}try{o=i[t](e)}catch(t){return function(t){return"[object StopIteration]"===m(t)||t instanceof a}(t)?_(t.value):P(t)}return k(o,n,s)}var i=t.apply(this,arguments),n=e.bind(e,"next"),s=e.bind(e,"throw");return n()}},_.spawn=function(t){_.done(_.async(t)())},_.return=function(t){throw new a(t)},_.promised=function(t){return function(){return J([this,A(arguments)],function(e,i){return t.apply(e,i)})}},_.dispatch=X,L.prototype.dispatch=function(t,e){var i=this,n=T();return _.nextTick(function(){i.promiseDispatch(n.resolve,t,e)}),n.promise},_.get=function(t,e){return _(t).dispatch("get",[e])},L.prototype.get=function(t){return this.dispatch("get",[t])},_.set=function(t,e,i){return _(t).dispatch("set",[e,i])},L.prototype.set=function(t,e){return this.dispatch("set",[t,e])},_.del=_.delete=function(t,e){return _(t).dispatch("delete",[e])},L.prototype.del=L.prototype.delete=function(t){return this.dispatch("delete",[t])},_.mapply=_.post=function(t,e,i){return _(t).dispatch("post",[e,i])},L.prototype.mapply=L.prototype.post=function(t,e){return this.dispatch("post",[t,e])},_.send=_.mcall=_.invoke=function(t,e){return _(t).dispatch("post",[e,h(arguments,2)])},L.prototype.send=L.prototype.mcall=L.prototype.invoke=function(t){return this.dispatch("post",[t,h(arguments,1)])},_.fapply=function(t,e){return _(t).dispatch("apply",[void 0,e])},L.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},_.try=_.fcall=function(t){return _(t).dispatch("apply",[void 0,h(arguments,1)])},L.prototype.fcall=function(){return this.dispatch("apply",[void 0,h(arguments)])},_.fbind=function(t){var e=_(t),i=h(arguments,1);return function(){return e.dispatch("apply",[this,i.concat(h(arguments))])}},L.prototype.fbind=function(){var t=this,e=h(arguments);return function(){return t.dispatch("apply",[this,e.concat(h(arguments))])}},_.keys=function(t){return _(t).dispatch("keys",[])},L.prototype.keys=function(){return this.dispatch("keys",[])},_.all=A,L.prototype.all=function(){return A(this)},_.any=V,L.prototype.any=function(){return V(this)},_.allResolved=(Y=j,R="allResolved",M="allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(R+" is deprecated, use "+M+" instead.",new Error("").stack),Y.apply(Y,arguments)}),L.prototype.allResolved=function(){return j(this)},_.allSettled=function(t){return _(t).allSettled()},L.prototype.allSettled=function(){return this.then(function(t){return A(d(t,function(t){function e(){return t.inspect()}return(t=_(t)).then(e,e)}))})},_.fail=_.catch=function(t,e){return _(t).then(void 0,e)},L.prototype.fail=L.prototype.catch=function(t){return this.then(void 0,t)},_.progress=function(t,e){return _(t).then(void 0,void 0,e)},L.prototype.progress=function(t){return this.then(void 0,void 0,t)},_.fin=_.finally=function(t,e){return _(t).finally(e)},L.prototype.fin=L.prototype.finally=function(t){if(!t||"function"!=typeof t.apply)throw new Error("Q can't apply finally callback");return t=_(t),this.then(function(e){return t.fcall().then(function(){return e})},function(e){return t.fcall().then(function(){throw e})})},_.done=function(t,e,i,n){return _(t).done(e,i,n)},L.prototype.done=function(t,i,n){var s=function(t){_.nextTick(function(){if(C(t,o),!_.onerror)throw t;_.onerror(t)})},o=t||i||n?this.then(t,i,n):this;"object"==typeof e&&e&&e.domain&&(s=e.domain.bind(s)),o.then(void 0,s)},_.timeout=function(t,e,i){return _(t).timeout(e,i)},L.prototype.timeout=function(t,e){var i=T(),n=setTimeout(function(){e&&"string"!=typeof e||((e=new Error(e||"Timed out after "+t+" ms")).code="ETIMEDOUT"),i.reject(e)},t);return this.then(function(t){clearTimeout(n),i.resolve(t)},function(t){clearTimeout(n),i.reject(t)},i.notify),i.promise},_.delay=function(t,e){return void 0===e&&(e=t,t=void 0),_(t).delay(e)},L.prototype.delay=function(t){return this.then(function(e){var i=T();return setTimeout(function(){i.resolve(e)},t),i.promise})},_.nfapply=function(t,e){return _(t).nfapply(e)},L.prototype.nfapply=function(t){var e=T(),i=h(t);return i.push(e.makeNodeResolver()),this.fapply(i).fail(e.reject),e.promise},_.nfcall=function(t){var e=h(arguments,1);return _(t).nfapply(e)},L.prototype.nfcall=function(){var t=h(arguments),e=T();return t.push(e.makeNodeResolver()),this.fapply(t).fail(e.reject),e.promise},_.nfbind=_.denodeify=function(t){if(void 0===t)throw new Error("Q can't wrap an undefined function");var e=h(arguments,1);return function(){var i=e.concat(h(arguments)),n=T();return i.push(n.makeNodeResolver()),_(t).fapply(i).fail(n.reject),n.promise}},L.prototype.nfbind=L.prototype.denodeify=function(){var t=h(arguments);return t.unshift(this),_.denodeify.apply(void 0,t)},_.nbind=function(t,e){var i=h(arguments,2);return function(){var n=i.concat(h(arguments)),s=T();return n.push(s.makeNodeResolver()),_(function(){return t.apply(e,arguments)}).fapply(n).fail(s.reject),s.promise}},L.prototype.nbind=function(){var t=h(arguments,0);return t.unshift(this),_.nbind.apply(void 0,t)},_.nmapply=_.npost=function(t,e,i){return _(t).npost(e,i)},L.prototype.nmapply=L.prototype.npost=function(t,e){var i=h(e||[]),n=T();return i.push(n.makeNodeResolver()),this.dispatch("post",[t,i]).fail(n.reject),n.promise},_.nsend=_.nmcall=_.ninvoke=function(t,e){var i=h(arguments,2),n=T();return i.push(n.makeNodeResolver()),_(t).dispatch("post",[e,i]).fail(n.reject),n.promise},L.prototype.nsend=L.prototype.nmcall=L.prototype.ninvoke=function(t){var e=h(arguments,1),i=T();return e.push(i.makeNodeResolver()),this.dispatch("post",[t,e]).fail(i.reject),i.promise},_.nodeify=function(t,e){return _(t).nodeify(e)},L.prototype.nodeify=function(t){if(!t)return this;this.then(function(e){_.nextTick(function(){t(null,e)})},function(e){_.nextTick(function(){t(e)})})},_.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var G=x();return _})}).call(e,i("W2nU"))},"1olR":function(t,e,i){"use strict";i("zL8q");var n=i("X361"),s={name:"enum-select",props:{option:{type:Object},value:{type:Number},text:{},disabled:{},readonly:{}},data:function(){return{cvalue:this._setCvalue(),enumlist:[],_enumMap:{},fieldName:"",_classId:"",_typeId:"",popState:!1,width:null,height:null,hideBorder:!1,autoSize:!0}},methods:{_setCvalue:function(){return this.value},setClassId:function(t){this._classId=t,this.refresh()},setTypeId:function(t){this._typeId=t,this.refresh()},getValue:function(){return this.cvalue},getOriginal:function(){return this.$data._enumMap[this.cvalue]},getSelector:function(){return this.$refs["enum-select"]},setWidth:function(t){"string"==typeof t&&t.endsWith("px")?this.width=t:"number"!=typeof t&&"string"!=typeof t||(this.width=t+"px")},setHeight:function(t){"string"==typeof t&&t.endsWith("px")?this.height=t:"number"!=typeof t&&"string"!=typeof t||(this.height=t+"px")},refresh:function(t,e){if(e&&(this._typeId=e),this._typeId){var i=this,s="necp/mapp/dem/query/service/metaEnum/getEnumItemVO";s+="?gid="+this._typeId,n.doPost(s,null,function(t){if(t instanceof Array){for(var e,n=0,s=t.length;n<s;n++)(e=t[n]).id=e.sort-1,e.text=e.caption,i.$data._enumMap[e.id]=e;i.$data.enumlist=t}})}},refreshOption:function(t,e){t&&(this.setWidth(t.width),this.setHeight(t.height),void 0!==t.autoSize&&null!=t.autoSize&&(this.autoSize=t.autoSize),void 0!==t.hideBorder&&null!=t.hideBorder&&(this.hideBorder=t.hideBorder),t[this.fieldName]?(this._classId=t[this.fieldName].classId,this._typeId=t[this.fieldName].typeId):(this._classId=t.classId,this._typeId=t.typeId),!0===e&&this.refresh())},_buildShowItem:function(t,e){var i=[{id:t,text:e,_type:"displayItem"}];this.enumlist=i},_showSelectEvent:function(t){this.popState=t,t&&(this.$data.enumlist&&this.$data.enumlist.length&&"displayItem"!==this.$data.enumlist[0]._type||this.refresh())},_inputEvent:function(){this.$emit("input",this.getValue())},_changeEvent:function(){this.$emit("change",this.getValue())},isDisabled:function(){return this.disabled||this.readonly},isReadOnly:function(){return this.readonly},_getPlaceholder:function(){return this.readonly?"":"请选择"}},mounted:function(){if(this.$vnode&&this.$vnode.data&&this.$vnode.data.model){var t=this.$vnode.data.model.expression.split(".");this.fieldName=t[t.length-1]}this.option&&this.refreshOption(this.option),this.text&&void 0!==this.value&&""!==this.value&&null!=this.value&&this._buildShowItem(this.value,this.text),"number"==typeof this.value&&this.value>-1||"string"==typeof this.value&&this.value.trim()},watch:{option:function(t){},value:function(t){var e=!1;"string"==typeof t&&""!=t.trim()?(this.cvalue=parseInt(t),e=!0):"number"==typeof t?(this.cvalue=t,e=!0):this.cvalue=null,e&&this.enumlist.length},text:function(t){this._buildShowItem(this.value,this.text)}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"enum-select-css":!t.autoSize},style:{width:t.width,height:t.height}},[i("el-select",{ref:"enum-select",class:{hideborder:t.hideBorder,readonly:t.isReadOnly()},staticStyle:{width:"100%"},attrs:{placeholder:t._getPlaceholder(),disabled:t.isDisabled(),clearable:""},on:{"visible-change":t._showSelectEvent,input:t._inputEvent,change:t._changeEvent},model:{value:t.cvalue,callback:function(e){t.cvalue=e},expression:"cvalue"}},t._l(t.enumlist,function(t){return i("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})}),1)],1)},staticRenderFns:[]};var l=i("VU/8")(s,o,!1,function(t){i("nrqG")},null,null);e.a=l.exports},"3Gyv":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"create",function(){return o});var n=i("X361");function s(){this.option,this.controller,this.vue}function o(t){var e=new s;return e.init(t),e}s.prototype={init:function(t){this.option=t,this.controller=t.controller},getOption:function(){return this.option},getController:function(){return this.controller},getVue:function(){return this.vue},getTableUI:function(t){var e=this.getItemUI(t);if(e)return e.ui},getItemUI:function(t){var e=n.replaceAll(t,"[.]","_");return this.vue.$refs[e]},getVueDataModel:function(){return this.getVue().dataModel},getConfig:function(){return this.getVue().config},refresh:function(t){this.stopWatch(),this.getVue().dataModel=t,this.createWatch()},getPageModel:function(){var t=this.getVue(),e={};return e.metaModel=t.metaModel,e.dataModel=t.dataModel,e.displayModel=t.displayModel,e.stateModel=t.stateModel,e.pageConfig=t.pageConfig,e},createVue:function(t){var e=this;this.vue=t,this.vue.$root.onAfterRender=function(t){e.getController().getEmitter().emit("onAfterRender",t)}},createWatch:function(){var t=this,e=this.getController().getBaseController().getModel(),i=e.getMainItems();i&&i.length&&(this.watchList=[],i.forEach(function(i){var n=t.vue.$watch("dataModel."+i.name,function(t,n){e.fireItemValueChanged(i,n,t)});t.watchList.push(n)}))},stopWatch:function(){if(this.watchList&&this.watchList.length)for(var t=0;t<this.watchList.length;t++){(0,this.watchList[t])()}},showNotify:function(t){n.showNotify(this.vue,t)},showConfirm:function(t,e,i){this.vue.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e&&e.call()}).catch(function(){i&&i.call()})}}},"3b4O":function(t,e){},"3fs2":function(t,e,i){var n=i("RY/4"),s=i("dSzd")("iterator"),o=i("/bQp");t.exports=i("FeBl").getIteratorMethod=function(t){if(void 0!=t)return t[s]||t["@@iterator"]||o[n(t)]}},"5ozj":function(t,e){},"5zde":function(t,e,i){i("zQR9"),i("qyJz"),t.exports=i("FeBl").Array.from},DFvq:function(t,e){},ES7J:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"create",function(){return o});var n=i("e2q+");function s(){this.option}function o(){return new s}s.prototype={init:function(t){this.vue=t,this.grid,this.displayVO,this.loadSize=t.loadSize,this.defaultOption={curEntity:{refGid:"",classId:"",typeId:"",inputerGid:"",caption:""},refTypeValues:[]},this.initOption(t.option)},refreshOption:function(t){this.initOption(t)},refreshIdName:function(t){var e=this,i=function(t,i){e.isContainByGid(t)||e.vue.datas.push({gid:t,text:i,name:i,NAME:i}),e.vue.titleShow=i},n=this.vue.value;if(t)i(n,t);else{if(n.indexOf&&-1!=n.indexOf(",")){var s=n.split(",");n=s[0]}var o=e.getNameFromDataByGid(n);if(o)i(n,o);else{var l=[];l.push({dataType:"entity",classId:this.defaultOption.curEntity.classId,typeId:this.defaultOption.curEntity.typeId,idNameModels:[{gid:n}]});this.doPost("necp/mapp/dem/query/service/component/idname/findList",l,function(t){if(t.data&&t.data[0]){var e=t.data[0].idNameModels;e&&e.forEach(function(t){if(t.gid==n){var e=t.name;i(n,e)}})}})}}},getNameFromDataByGid:function(t){var e;return this.vue.datas&&this.vue.datas.forEach(function(i){i.gid!=t||(e=i.name||i.NAME)}),e||this.vue.entityGridData&&this.vue.entityGridData.forEach(function(i){i.gid!=t||(e=i.name||i.NAME)}),e},isContainByGid:function(t){var e=!1;return this.vue.datas&&this.vue.datas.forEach(function(i){i.gid!=t||(e=!0)}),e},initOption:function(t){if(t&&t.refTypeValues&&t.refTypeValues.length>0){this.defaultOption.refTypeValues=t.refTypeValues;var e=this.defaultOption.refTypeValues[0];e.refCaption&&(this.vue.headerName=e.refCaption),this.setCurEntity(e),this.setCurExtFilters(e,t.filters)}},initSelectBoxData:function(t){var e=this,i={pageNum:1,pageSize:e.loadSize,count:!1};t&&(i.selectSearchText=t),e.findInputerDisplayVO(i,function(t){t&&(e.vue.datas=t.entitys)})},initTableData:function(){var t=this,e={pageNum:1,pageSize:2147483647,count:!0};e.searchInputerFilterVOs=t.getSearchInputerFilterVOs(),t.findInputerDisplayVO(e,function(e){if(e){if(t.vue.colData=t.getGridColumnOption(e.displayEntityItems),t.initTree(e),!e)return window.console&&console.error("初始化通用实体选择控件失败，所选实体服务未启动，或参数设置有误，请检查。"),void t.showNotify("初始化数据失败，所选实体服务未启动，或参数设置有误，请检查。");t.setEntityIdNameMap(e,function(){(function(e){t.vue.entityGridData=e.entitys,t.setIdName(e)}).call(null,e)})}})},initTree:function(t){if(t){var e=t.codeItem;if(e){this.vue.popentityType="treeTable";var i=[{text:e.caption,id:"#",linkId:"-1",itemCode:"0000"}],n=t.idNameMap[e.name];if(n)for(var s in n){var o=e.refTypeId,l=o.lastIndexOf(".")+1,r=o.substring(l);i.push({id:s,linkId:s,itemCode:("0000000"+s).slice(-8),entityItemGid:e.gid,classId:e.refClassId,typeId:r,dataType:e.dataType,text:n[s]})}this.vue.treeTableLink.children=e.name,this.vue.entityTreeData=i}else this.vue.popentityType="table"}},setCurEntity:function(t){this.defaultOption.curEntity.refGid=t.gid,this.defaultOption.curEntity.classId=t.refClassId,this.defaultOption.curEntity.typeId=t.refTypeId,this.defaultOption.curEntity.inputerGid=t.inputerGid,this.defaultOption.curEntity.caption=t.refCaption},setCurExtFilters:function(t,e){var i=this;i.defaultOption.filters=[];var n=t.refClassId,s=t.refTypeId;e&&e.forEach(function(t){t.refClassId==n&&t.refTypeId==s&&i.defaultOption.filters.push(t)})},findInputerDisplayVO:function(t,e){var i=this,n="necp/mapp/dem/service/genEntitySelect/find";n+="?classId="+i.defaultOption.curEntity.classId,n+="&typeId="+i.defaultOption.curEntity.typeId,n+="&inputerGid="+(i.defaultOption.curEntity.inputerGid||""),t.searchInputerFilterVOs||(t.searchInputerFilterVOs=[]),i.defaultOption.filters.forEach(function(e){t.searchInputerFilterVOs.push({operator:e.operator,valType:e.valType,val:e.val,entityItemGid:e.refItemGid})}),i.doPost(n,t,function(t){var n=t.data,s=n&&n.entitys;s&&s.forEach(function(t){t.name?t.text=t.name:t.NAME?t.text=t.NAME:t.nameExt?t.text=t.nameExt:t.text=t.gid}),i.displayVO=n,e&&e.call(null,n)})},getSearchInputerFilterVOs:function(){this.displayVO},setEntityIdNameMap:function(t,e){if(t.entitys&&0!=t.entitys.length){var i=[],n={};t.displayEntityItems.forEach(function(e){if("entity"===e.dataType){var s=[],o=e.refTypeValues[0];t.entitys.forEach(function(t){s.push({gid:t[e.name]})}),n[e.name]=o.refClassId+o.refTypeId,i.push({dataType:"entity",classId:o.refClassId,typeId:o.refTypeId,idNameModels:s})}}),this.doPost("necp/mapp/dem/query/service/component/idname/findList",i,function(i){var s=i.data;for(var o in n){var l=n[o];s.forEach(function(e){if(e.classId+e.typeId==l){var i={};e.idNameModels.forEach(function(t){i[t.gid]=t.name||t.nameExt||t.gid}),t.idNameMap[o]=i}})}e&&e.call()})}else e&&e.call()},setIdName:function(t){var e=t.idNameMap;if(e)for(var i in e){var n=e[i];n&&this.setEcpEntitySelectTableIdNameByProperty(i,n)}var s=t.displayEntityItems;if(s&&s.length>0)for(var o=0;o<s.length;o++)"boolean"==s[o].dataType&&this.setEcpEntitySelectTableIdNameByIndex(o,{true:"是",false:"否"})},setEcpEntitySelectTableIdNameByIndex:function(t,e){this.vue.colData[t].data=e},setEcpEntitySelectTableIdNameByProperty:function(t,e){this.vue.colData.forEach(function(i){i.prop===t&&(i.data=e)})},getGridColumnOption:function(t){var e=!1,i=[];return t&&t.forEach(function(t){e=!0,i.push({label:t.caption,prop:t.name})}),e||i.push({label:"gid",prop:"gid"}),i},doPost:function(t,e,i){n.a.doPost(t,e).then(function(t){i&&i.call(null,t)})},doGet:function(t,e){n.a.doGet(t).then(function(t){e&&e.call(null,t)})}}},Gu7T:function(t,e,i){"use strict";e.__esModule=!0;var n,s=i("c/Tr"),o=(n=s)&&n.__esModule?n:{default:n};e.default=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return(0,o.default)(t)}},JHcO:function(t,e){!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([,function(t,e,i){"use strict";i.r(e),null==window._ecp_remote_constants&&(window._ecp_remote_constants={ModelState:{DEFAULT:1,NEW:4,MODIFY:8,DELETE:2,SELECTED:16,ACTIVE:32,CHILD_MODIFY:64,EMPTY:128},EcpClass:{COMBOBOX:"ecp.component.comboBox",NUMBERBOX:"ecp.component.numberBox"},THOURSAND:1e3,ALL:"all",CURRENT:"current",ELEM_WIDTH_STYLE:["border-left-width","border-right-width","padding-left","padding-right","margin-left","margin-right"],ELEM_HEIGHT_STYLE:["border-top-height","border-bottom-height","padding-top","padding-bottom","margin-top","margin-bottom"],IE_ELEM_WIDTH_STYLE:["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight","marginLeft","marginRight"],IE_ELEM_HEIGHT_STYLE:["borderTopHeight","borderBottomHeight","paddingTop","paddingBottom","marginTop","marginBottom"],LETTER:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],TABLE_CELL_STYLE:["td.tfg-grid-select-border-all"],Portal:{SETTING_VIEW_NAME:"portal_setting_view_name",CACHE_VIEW:"portal_cache_view"},INPUT_KEYWORD:"输入关键字",DEFAULT_USERCODE:"-0000",DEFAULT_LOGINORGID:"-9999",GO_TO:"定位",OLD_PLATFORM_URL:"YGFMISWeb",COMMONSCENEBH:"10001",CTRL_UNUSABLE_EXTENDID:"authority.subfunc",CTRL_PRINCIPAL_TYPE:"all",RowHeight:{ROWHEIGHT_MAX:161,ROWHEIGHT_MIN:23,ROWHEIGHT_TOPBOTTON_MIN:26,ROWHEIGHT_MARK:10,ROWHEIGHT_PADDING:5},CellOfBlurECPType:["ecp.ui.datafield.NumberBox","ecp.ui.datafield.ValidateBox"],PRIMARY_KEY:"__Gid",CHI_ALL:"全部",TEN_MILLION:1e7,PROCESSOR_FORMAT:"ecp-component-processor-format-",Print:{SETPRINT:2,PRINT:1},NumUnit:{PERTHOURSAND:.001,PERCENT:.01,TEN:10,HUNDRED:100,THOURSAND:1e3,TEN_THOURSAND:1e4,HUNDRED_THOURSAND:1e5,MILLION:1e6,TEN_MILLION:1e7,HUNDRED_MILLION:1e8,BILLION:1e9},AMOUNT:{hundred:100,thousand:1e3,wanyuan:1e4,shiwanyuan:1e5,million:1e6,qianwanyuan:1e7,billion:1e8},CHINESE_L_NUMBER:["〇","一","二","三","四","五","六","七","八","九","十","百","千","万","亿","万亿","亿亿"],CHINESE_U_NUMBER:["零","壹","贰","叁","肆","伍","陆","柒","捌","玖","拾","佰","仟","萬","億","萬億","億億"],CHINESE_CURRENCY:["圆","元","角","分","厘"],CHINESE_DATETIME:["年","月","日","时","分","秒"],PrintOrPreview:{PRINT:1,PREVIEW:2},Punctuation:{DEFAULT:{COMMA:"，",SEMICOLON:"；",EXCALMATORY:"！"}},ExportStyle:{STYLE_DEFAULT:"d",STYLE_HEAD:"h",STYLE_TITLE:"t",STYLE_BOLD_CENTER:"b|c",STYLE_BOLD_LEFT:"b|l",STYLE_BOLD_RIGHT:"b|r",STYLE_BOLD:"b",STYLE_LEFT:"l",STYLE_RIGHT:"r",STYLE_CENTER:"c"},KeyCode:{ENTER:13,TAB:9,UP:38,DOWN:40,Left:37,Right:39,LEFT:37,RIGHT:39,BACKSPACE:8,ESC:27,DEL:46,PAGEUP:33,PAGEDOWN:34,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,C:67,D:68,N:78,F:84,O:79,P:80,LArrow:188,RArrow:190},QuickKey:{HELP:81},ScrollBarSize:17});var n=window._ecp_remote_constants;function s(){}s.prototype={isArray:function(t){return/\[object array\]/gi.test(Object.prototype.toString.call(t))},isNumber:function(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)},round:function(t,e,i){"number"!=typeof t&&(t=parseFloat(t));var n=Math.pow(10,e);return t*=n,null!=i&&(t+=5/Math.pow(10,i)),(t=Math.round(t))/n},formatNumber:function(t,e){return e=e>=0&&e<=20?e:2,""==(t=parseFloat((t+"").replace(/[^\d\.-]/g,"")).toFixed(e)+"")||isNaN(t)||(t=t.replace(/(\d{1,3})(?=(\d{3})+(?:$|\.))/g,"$1,")),t},format:function(t){var e=arguments.length;if(0!==e){if(1===e)return t;var i=arguments[1];"string"==typeof i&&(i=Array.prototype.slice.call(arguments,1)),e=i.length;for(var n=t,s=0;s<e;s++)n=n.replace(new RegExp("\\{\\s*"+s+"\\s*\\}","g"),i[s]);return n}},originalAngleBrackets:function(t){return!this.isNotEmpty(t)||"string"!=typeof t||this.isNumber(t)?t:t=(t=t.replace(/(&gt;|&lt;|&nbsp;)/g,function(t){return"&gt;"==t?">":"&lt;"==t?"<":"&nbsp;"==t?" ":void 0})).replace(/&amp;/g,"&")},escapeAngleBrackets:function(t){return!this.isNotEmpty(t)||"string"!=typeof t||this.isNumber(t)?t:t=(t=t.replace(/&/g,"&amp;")).replace(/[<> ]/g,function(t){return">"==t?"&gt;":"<"===t?"&lt;":" "===t?"&nbsp;":void 0})},replaceJquerySelecter:function(t){return t&&t.replace(/[\[,\],\.,\:]/g,function(t){return"\\"+t})},splitStr:function(t){return 0===(t=t.replace(/\[(\d*)\]/g,".$1")).indexOf(".")&&(t=t.replace(/(\.*)(.*)/,"$2")),t.split(".")},split:function(t,e,i,n){var s;if(null==t)s=null;else if(""===t||null==e||""===e)s=[t];else if(s=t.split(e),null!=i&&0!==i){var o=s.splice(i,s.length);s=[s.join(e),o.join(e)]}return null!=s&&"function"==typeof n&&(s=n(s)),s},formartToZh:function(t,e,i){function s(t,e){for(var i,n="",s=t.length,o=0;o<s;o++)i=+t[o],n+=c?e[i]:u?(i>1||o===s-1?e[i]:"")+(0===i?"":o<s-1?e[9+s-o-1]:""):e[i]+(0===i?"":o<s-1?e[9+s-o-1]:"");return n}var o,l="",r="",a=e.toLowerCase().startsWith("u"),h=e.toLowerCase().endsWith("m"),c=e.toLowerCase().endsWith("y"),u=e.toLowerCase().endsWith("d");if(h&&(o=a?n.CHINESE_CURRENCY[0]:n.CHINESE_CURRENCY[1]),t=(""+t).trim(),!0!==i&&!1!==i){var d="";return(t=t.split("."))[0]&&""!==t[0]&&((t[0].startsWith("-")||t[0].startsWith("+"))&&(d=t[0].substring(0,1),t[0]=t[0].from(1)),l=this.formartToZh(t[0],e,!1)),t[1]&&""!==t[1]&&(r=(h?"":"点")+this.formartToZh(t[1],e,!0)),d+(h?l+o+(""==r?"整":r):l+r)}var p=a?n.CHINESE_U_NUMBER:n.CHINESE_L_NUMBER,g=p[0];if(!1===i){for(var f,y=function(t){for(var e=[],i="",n=t.length,s=1;n--;s++)i=t[n]+i,s%4!=0&&0!==n||(e.push(i),i="");return e}(t),m=0,v=y.length;m<v;m++)f=s(y[m],p),f=this.removeZero(f,g),m>0&&(f+=p[12+m]),l=f+l;return l}if(!0===i)return r=h?function(t,e){for(var i,s="",o=0,l=(t=t.substring(0,3)).length;o<l;o++)s+=e[i=+t[o]]+(0===i?"":n.CHINESE_CURRENCY[o+2]);return s}(t,p):function(t,e){for(var i=(t=""+t).length,n="",s=0;s<i;s++)n+=e[t.charAt(s)];return n}(t,p),h&&(r=this.removeZero(r,g)),r},transferNumToMoney:function(t){return this.formartToZh(t,"um")},transferNumToChUpper:function(t){return this.formartToZh(t,"u")},transferNumToChLower:function(t){return this.formartToZh(t,"l")},getArguments:function(t,e,i){1===arguments.length&&(e=t,t=location.href);var n=new RegExp("(^|\\?|&|#)"+e+"=([^&]*)(\\s|&|$)","ig");if(!0===i&&(t=this.decodeSearch(t)),n.test(t)){var s=unescape(RegExp.$2.replace(/\+/g," ")),o=s.indexOf("#");return o>-1&&(s=s.substring(0,o)),s}},getAllArgument:function(t,e){var i={};if(null===t)return i;if(0===arguments.length?t=location.href:1===arguments.length&&"boolean"==typeof t?(e=t,t=location.href):"object"==typeof t&&"string"==typeof t.href&&(t=t.href),e=!!e,null==t||""===t)return i;var n=t.split("?");if(n.length>1){n[1]=this.decodeSearch(n[1]);for(var s=n[1].split(/[#&]/),o=0;o<s.length;o++){var l=s[o].split("=");e&&(l[0]=l[0].toLowerCase()),i[l[0]]=l[1]}}return i.url=n[0],i},setCookie:function(t,e,i,n){var s="";if(null!=i&&""!==i&&!isNaN(i)){var o=new Date;o.setTime(o.getTime()+i),s=";expires="+o.toGMTString()}null==n&&(n=""),document.cookie=t+"="+e+";path=/"+n+s},getCookie:function(t){for(var e="",i=document.cookie.split(";"),n=0;n<i.length;n++)if(i[n]&&-1!==i[n].indexOf(t+"=")){(e=i[n].split("="))instanceof Array&&e.length>0&&(e=e[1]);break}return e},getLanguage:function(){return this.getCookie("ecp_locale")},formatDate:function(t){return/^\d{4}[-\/]\d{2}$/.test(t)?t+="-01":/^\d{4}$/.test(t)&&(t+="-01-01"),t},strToTimeMillis:function(t){return t?(-1!==t.indexOf(".")&&(t=t.substring(0,t.indexOf("."))),+new Date(this.formatDate(t).replace(/-/g,"/"))):0},invalidDate:function(t){var e=t.replace(/^(\d{4})(\d{2})?(\d{2})?$/g,function(){return RegExp.$1+"-"+(RegExp.$2||"01")+"-"+(RegExp.$3||"01")});return"NaN"===new Date(e).valueOf().toString()||e},parseDate:function(t,e){if(""===t||null==t)return+new Date;if("number"==typeof t||"date"==typeof t)return+t;if("string"==typeof t){var i=this.invalidDate(t);if("string"==typeof i)return+new Date(i)}var n=this.strToTimeMillis(t);if(!isNaN(n))return n;e=e||/\b\((\-*\d*)\+\b/;var s=t.toString().match(e);return s?s[1]:+new Date},strToDate:function(t,e,i,n){if(null==t||""===t)return"";t=this.parseDate(t);var s=isNaN(t)?new Date:new Date(+t),o=s.getMonth()+1,l=s.getDate(),r=s.getHours(),a=s.getMinutes(),h=s.getSeconds(),c=(r<10?"0"+r:r)+":"+(a<10?"0"+a:a);return n&&(c+=":"+(h<10?"0"+h:h)),"Y"==i||"year"==i?s.getFullYear():"M"==i||"month"==i||"S"==i||"season"==i?s.getFullYear()+"-"+(o<10?"0"+o:o):s.getFullYear()+"-"+(o<10?"0"+o:o)+"-"+(l<10?"0"+l:l)+(e?" "+c:"")},ecpDateToDate:function(t,e){var i=!1;return!0===e&&(i=!0),this.strToDate(t,e,null,i)},dateToEcpDate:function(t){if(arguments.length){if(""===t)return t;var e=this.strToTimeMillis(t);return"/Date("+(e=isNaN(e)?+new Date:e)+"+0800)/"}return"/Date("+ +new Date+"+0800)/"},isEcpDate:function(t){return!(!this.isNotEmpty(t)||"string"!=typeof t)&&/^(\/Date\(){1}[0-9]+(\+0800\)\/)/.test(t)},getObj:function(){var t=null;if(!1===/msie/i.test(window.navigator.appVersion)){null==(t=document.getElementById("dlltool"))&&(t=document.createElement("embed")),t.id="dlltool",t.type="application/rpygtooljs",t.width=1,t.height=1;var e=document.getElementsByTagName("BODY"),i=document.createElement("DIV");i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.width="1px",i.style.height="1px",i.style.overflow="hidden",e[0].appendChild(i),i.appendChild(t)}else(t=new ActiveXObject("dllAdapter.dllAdapter")).utf8=0;return t},activeInvoke:function(t,e,i,n,s,o,l){"function"==typeof e?(l=e,e=null,i=null,n=null,s=null,o=null):"function"==typeof i?(l=i,i=null,n=null,s=null,o=null):"function"==typeof n?(l=n,n=null,s=null,o=null):"function"==typeof s?(l=s,s=null,o=null):"function"==typeof o&&(l=o,o=null);var r="name:"+t+"\n";if(""!==e&&(r+="method:"+e+"\n"),i instanceof Array&&i.length>0)for(var a=i.length,h=0;h<a;h++)r+="params:","number"==(c=typeof i[h])?r+="number\n":"boolean"===c?r+="boolean\n":/^[0-9]+\-[0-9]+\-[0-9]+ [0-9]+:[0-9]+:[0-9]+(.[0-9]+)?$/.test(i[h])?r+="datetime\n":/^[0-9]+\-[0-9]+\-[0-9]+$/.test(i[h])?r+="datetime\n":r+="string\n",r+=i[h]+" \n";if(n instanceof Array&&n.length>0)for(a=n.length,h=0;h<a;h++){r+="property:",r+=n[h].name;var c=typeof n[h].value;r+="number"===c?":number\n":"boolean"===c?":boolean\n":":string\n",r+=n[h].value+"\n"}!1!==s&&(r+="return:true\n"),""!==o&&null!=o&&(r="type:"+o+"\n"+r),r+="\0";var u=this;return new Promise(function(t,e){try{var i=u.getObj();if(null==i||"function"!=typeof i.caller&&0!==i.utf8){var n=new WebSocket("ws://localhost:2063");if(n.onerror=function(t){e(!1,""),"function"==typeof l&&l(!1,""),window.console&&window.console.error("create error:"+t.data),n.close()},n.onopen=function(t){window.console&&window.console.info("Connection established")},n.onclose=function(t){window.console&&window.console.info("Connection disconnection")},n.onmessage=function(e){t(!0,decodeURIComponent(e.data)),"function"==typeof l&&l(!0,decodeURIComponent(e.data)),window.console&&window.console.info(decodeURIComponent(e.data)),n.close()},null!=r&&""!==r)var s=setInterval(function(){1===n.readyState&&(n.send(r),clearInterval(s))},100);else e(!1,""),"function"==typeof l&&l(!1,"")}else{window.console&&window.console.info("use activeX to invoke com+.");var o=i.caller(r);i=null,t(!0,decodeURIComponent(o)),"function"==typeof l&&l(!0,decodeURIComponent(o))}}catch(t){window.console&&window.console.error("error:"+t.message),e(!1,""),"function"==typeof l&&l(!1,"")}})},fromRGBToHex:function(t){for(var e=t.replace(/^rgb\(([0-9]{0,3})\,\s([0-9]{0,3})\,\s([0-9]{0,3})\)/g,"$1 $2 $3").split(" "),i="#",n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],s=0;s<3;s++){for(var o=null,l=e[s],r=[];l>16;)o=l%16,l=l/16>>0,r.push(n[o]);r.push(n[l]),i+=r.reverse().join("")}return i},getQRCodeUrl:function(t,e){null==e&&(e=100);var i="/grm/ecp/barcodeServlet?content="+t+"&barcodeTypeId=QR&width="+e+"&height="+e;return this.getLocaHost()+i},isIDCard:function(t){return/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/.test(t)},isTele:function(t){return/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(t)},isMobile:function(t){return/^1[34578]\d{9}$/.test(t)},isEmail:function(t){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)},isPostid:function(t){return/[1-9]\d{5}(?!\d)/.test(t)},validate:function(t,e){var i=!0,n={qzz:{}},s="";if(this.isNotEmpty(t)&&this.isNotEmpty(e))if(/^email$/i.test(t))i=this.isEmail(e),s=n.qzz.emailVali;else if(/^telePhone$/i.test(t))i=this.isTele(e),s=n.qzz.teleVali;else if(/^mobileTelePhone$/i.test(t))i=this.isMobile(e),s=n.qzz.mobileVali;else if(/^postboat$/i.test(t))i=this.isPostid(e),s=n.qzz.postVali;else{if(!/^idcard$/i.test(t))return{state:!1,message:""};i=this.isIDCard(e),s=n.qzz.idcardVali}return{state:i,message:s}},setTimeZone:function(){var t=(new Date).getTimezoneOffset()/60;return t=t<0?"GMT+"+-t:"GMT-"+t,this.setCookie("ecp_timezone",t),t},isNotEmpty:function(t){var e=!0;if(null==t||""===t)e=!1;else if("object"==typeof t)if(this.isArray(t))e=t.length>0;else for(var i in e=!1,t){e=!0,window.console&&(window.console.info("this object has value:"+i),window.console.info(t[i]));break}return e},extend:function(t,e,i){if(null==t)return e;if(null==i?i=10:!0===i&&(i=0),this.isArray(e)){t=[];for(var n=0,s=e.length;n<s;n++){var o=e[n];null!=o&&"object"==typeof o&&i>0&&(o=this.extend({},e[n],i-1)),t.push(o)}}else for(var n in e){var l=null==e||null==e.__deep||!1!==e.__deep[n];null!=e[n]&&"object"==typeof e[n]&&l&&i>0?(t[n]||(t[n]={}),t[n]=this.extend(t[n],e[n],i-1)):t[n]=e[n]}return t},getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=location.search.substr(1).match(e);return null!=i?unescape(decodeURI(i[2])):null},strToJson:function(t){var e=t;if(/^([ \n\t]+)?[{\[]/.test(t))try{e=JSON.parse(t)}catch(i){window.console&&window.console.info(i);try{e=JSON.parse(t.replace(/([{,])([ ]+)?([a-z]+)([ ]+)?:/gi,'$1$2"$3"$4:'))}catch(i){window.console&&window.console.info(i),e=t}}return e},jsonToStr:function(t){return JSON.stringify(t)}},null==window._ecp_remote_utils&&(window._ecp_remote_utils=new s),e.default=window._ecp_remote_utils}])},LC74:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},Mhyx:function(t,e,i){var n=i("/bQp"),s=i("dSzd")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[s]===t)}},Nkn0:function(t,e,i){"use strict";var n=i("Dd8w"),s=i.n(n),o=i("zL8q"),l=i("pFYg"),r=i.n(l),a={name:"ecpSelect",props:s()({showmore:{default:!1,type:Boolean},value:[Object,Array,String,Number],textField:String,idField:String,data:{type:Array,require:!0},returnType:String},o.Select.props),data:function(){return{select:null,currentValue:this.getCurrentValue(),isFirst:!1}},mounted:function(){this.select=this.$refs.select},methods:{getCurrentValue:function(){var t=this;if(this.multiple){var e=Object.prototype.toString.call(this.value);if("[object Array]"!==e&&"[object Null]"!==e)return void console.error("当通用选择为多选时，绑定值必须为数组！")}if("object"===r()(this.value)){var i=null;return this.multiple?(i=[],this.value&&this.value.forEach(function(e){"object"===(void 0===e?"undefined":r()(e))?i.push(e[t.idField]):i.push(e)})):i=this.value?this.value[this.idField]:null,i||null}return this.value},returnCurrentValue:function(){var t=this,e=null;return"object"===this.returnType||"Object"===this.returnType?(e=[],this.data.forEach(function(i){if(t.multiple)"[object Array]"===Object.prototype.toString.call(t.value)&&t.currentValue.forEach(function(n,s){i[t.idField]!==n||e.push(i)});else if(i[t.idField]===t.currentValue)return void(e=i)})):e=this.currentValue,e},handleShowmore:function(){this.$emit("handle-more",this.returnCurrentValue())},input:function(){this.$emit("input",this.returnCurrentValue())},change:function(){this.$emit("change",this.returnCurrentValue())},blur:function(t){this.$emit("blur",t)},focus:function(t){this.isFirst=!0,this.$emit("focus",t)},clear:function(){this.$emit("clear")},visibleChange:function(t){this.$emit("visible-change",t)},removeTag:function(t){this.$emit("remove-tag",t)}},watch:{value:function(t){this.currentValue=this.getCurrentValue()}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:"ecp-select"+(t.showmore?" show-more":"")},[i("el-select",t._b({ref:"select",attrs:{collapseTags:"",clearable:!t.multiple,placeholder:"请输入..."},on:{input:t.input,"visible-change":t.visibleChange,"remove-tag":t.removeTag,change:t.change,clear:t.clear,blur:t.blur,focus:t.focus},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}},"el-select",t.$props,!1),t._l(t.data,function(e){return i("el-option",{key:e[t.idField],attrs:{label:e[t.textField],value:e[t.idField]}})}),1),t._v(" "),t.showmore?i("el-button",{staticClass:"el-icon-more",attrs:{size:t.size},on:{click:t.handleShowmore}}):t._e()],1)},staticRenderFns:[]};var c=i("VU/8")(a,h,!1,function(t){i("5ozj")},null,null).exports,u=i("Gu7T"),d=i.n(u),p={name:"ecpPopentity",props:{value:[Object,Array,String,Number],type:{type:String,default:"treeTable",validator:function(t){return["treeTable","tree","table"].indexOf(t)>=0}},size:String,top:String,width:String,multiple:Boolean,idField:String,treeIdField:String,textField:String,treeTextField:String,codeField:String,treeCodeField:String,codePolicy:String,treeCodePolicy:String,treeField:Object,returnType:String,colData:Array,tableData:Array,treeData:Array,treeLoadMethod:Function,pageSizes:{type:Array,default:function(){return[100,200,300,400]}},pageSize:{type:Number,default:100},total:Number},data:function(){return{visible:!1,treeDbClick:!1,treeSelectValue:null,tableSelectValue:null,currentValue:[],pageNumber:1,currentPageSize:this.pageSize,treeFilterText:"",tableFilterName:"",tableFilterType:1,tableFilterText:"",tableFilterForm:{name:"",type:1,text:""}}},methods:{show:function(){var t=this;this.visible=!0,this.pageNumber=1,this.currentPageSize=this.pageSize,this.treeFilterText="",this.tableFilterName=this.colData?this.colData[0].prop:"",this.tableFilterText="",this.tableFilterType=1,this.treeSelectValue=null,this.tableFilterForm={name:this.tableFilterName,type:this.tableFilterType,text:this.tableFilterText},this.multiple&&"[object Array]"===Object.prototype.toString.call(this.value)&&this.$nextTick(function(){"tree"===t.type?t.value.forEach(function(e){var i="object"===(void 0===e?"undefined":r()(e))?e[t.treeIdField||t.idField]:e;t.$refs.tree.setChecked(i,!0,!0)}):t.handleSelectCheck(t.value)})},close:function(){this.visible=!1},clearSelection:function(){this.multiple&&(this.currentValue=[],this.$refs.table.clearSelection())},handleTreeFilter:function(t,e){return!t||-1!==e[this.treeTextField||this.textField].indexOf(t)},handleTreeCurrentChange:function(t){var e=this;this.multiple||(this.treeDbClick?this.handleConfirm():(this.treeDbClick=!0,setTimeout(function(){e.treeDbClick=!1},300))),this.treeSelectValue=t,this.$emit("tree-select",t,this.tableFilter,this.pageInfo)},handleTableSelect:function(t,e){var i=this,n=!1,s=e[this.idField];t.forEach(function(t){if(t[i.idField]!==s);else{if(n=!0,"object"===i.returnType||"Object"===i.returnType){if(i.currentValue.filter(function(t){return t[i.idField]===s}).length>0)return}else if(i.currentValue.indexOf(s)>=0)return;i.currentValue.push("object"===i.returnType?e:s)}}),n||this.currentValue.forEach(function(t,e){t[i.idField]!==s&&t!==s||i.currentValue.splice(e,1)})},handleTableSelectAll:function(t){var e=this;if(t.length>0){var i=[];t.forEach(function(t){var n=!1;e.currentValue.forEach(function(i){("object"===(void 0===t?"undefined":r()(t))?t[e.idField]:t)!=("object"===(void 0===i?"undefined":r()(i))?i[e.idField]:i)||(n=!0)}),n||i.push(e.returnType?t:t[e.idField])}),i.length>0&&this.currentValue.push.apply(this.currentValue,i)}else{var n=[];this.currentValue.forEach(function(t,i){e.currentTableData.forEach(function(s){("object"===(void 0===t?"undefined":r()(t))?t[e.idField]:t)!=("object"===(void 0===s?"undefined":r()(s))?s[e.idField]:s)||n.push(i)})}),n.forEach(function(t,i){e.currentValue.splice(t-i,1)})}},handleTableCurrentChange:function(t){this.tableSelectValue=t},handleSearch:function(){this.tableFilterName=this.tableFilterForm.name,this.tableFilterType=this.tableFilterForm.type,this.tableFilterText=this.tableFilterForm.text,this.$emit("popentity-search",this.treeSelectValue,this.tableFilter,this.pageInfo)},handleConfirm:function(){var t=this,e=null;e="tree"==this.type?this.multiple?this.$refs.tree.getCheckedNodes():this.$refs.tree.getCurrentNode():this.multiple?this.currentValue:this.tableSelectValue;var i=void 0;this.multiple&&e.length>0||!this.multiple&&e?("object"===this.returnType||"Object"===this.returnType||"tree"!==this.type?i=e:this.multiple?(i=[],e.forEach(function(e){i.push(e[t.idField])})):i=e[this.idField],this.$emit("input",i),this.$emit("popentity-confirm",i),this.visible=!1):this.$message.error("请选择记录")},handleCellDbclick:function(t){if(!this.multiple){var e="object"===this.returnType?t:t[this.idField];this.$emit("input",e),this.$emit("popentity-confirm",e),this.visible=!1}},handleSizeChange:function(t){this.currentPageSize=t,this.$emit("size-change",this.treeSelectValue,this.tableFilter,this.pageInfo)},handlePageChange:function(t){this.pageNumber=t,this.$emit("page-change",this.treeSelectValue,this.tableFilter,this.pageInfo)},handleSelectCheck:function(t){var e=this;this.$nextTick(function(){t.forEach(function(t){e.currentTableData.forEach(function(i){("object"===(void 0===t?"undefined":r()(t))?t[e.idField]:t)!=("object"===(void 0===i?"undefined":r()(i))?i[e.idField]:i)||e.$refs.table.toggleRowSelection(i,!0)})})})},getJsTreeJson:function(t,e){if(!t||!t.length)return[];var i,n,s=[],o=e.treeCodeField,l=e.treeParentField;if(t.sort(function(t,e){return t[o].localeCompare(e[o])}),l)for(var r=this.doParentData(t,e),a=0,h=r.length;a<h;a++)i=this.createParentNode(r[a],l,e),s.push(i);else for(var c=0,u=t.length;c<u;c++)i=this.createNode(t[c],e),(n=this.getpNode(i,s))?n.children.push(i):s.push(i);return s},doParentData:function(t,e){for(var i=t.length,n=e.treeCodeField,s=e.treeParentField,o=0;o<i;o++){for(var l=t[o][s],r=!1,a=0;a<i;a++)if(t[a][n]==l){r=!0;break}r||(t[o].parent="#")}return t},createParentNode:function(t,e,i){var n=t,s=i.treeCodeField,o=i.treeTextField,l=i.treeCodePolicy;n.id=t[s],n.text=t[o],"#"!=n.parent&&(n.parent=t[e]);for(var r=l.split("-"),a=0,h=0,c=r.length;h<c&&n[s].length!=a+parseInt(r[h]);h++)a+=parseInt(r[h]);return n.pid=t[s].substr(0,a),n},createNode:function(t,e){var i=t,n=e.treeCodeField,s=e.treeTextField,o=(e.treeIdField,e.treeCodePolicy.split("-")),l=0;i.id=t[n],i.text=t[s];for(var r=0,a=o.length;r<a&&i[n].length!=l+parseInt(o[r]);r++)l+=parseInt(o[r]);return i.pid=t[n].substr(0,l),i.children=[],i},getpNode:function(t,e){for(var i=void 0,n=0,s=e.length;n<s;n++){if(i=e[n],!t.pid)return null;if(t.pid==i.id)return i;i.children.length&&(i=this.getpNode(t,i.children))}return i}},computed:{bodyWidth:function(){return this.width?this.width:"treeTable"==this.type?"1200px":"800px"},tableFilter:function(){return{name:this.tableFilterName,type:this.tableFilterType,text:this.tableFilterText}},pageInfo:function(){return{pageNumber:this.pageNumber,pageSizes:this.pageSizes,pageSize:this.currentPageSize,total:this.currentTotal}},currentTreeData:function(){var t=this.treeCodeField||this.codeField,e=this.treeCodePolicy||this.codePolicy;return t&&e?this.getJsTreeJson(this.treeData,{treeIdField:this.treeIdField||this.idField,treeTextField:this.treeTextField||this.textField,treeCodeField:t,treeCodePolicy:e}):this.treeData},filterTableData:function(){var t=this;if("tree"===this.type)return[];if(this.tableData){var e=this.treeSelectValue;return this.tableFilterName&&this.tableFilterText||e?this.tableData.filter(function(i){if(t.tableFilterName&&t.tableFilterText)if(1===t.tableFilterType){if(-1==String(i[t.tableFilterName]).indexOf(t.tableFilterText))return}else if(String(i[t.tableFilterName])!==t.tableFilterText)return;if(t.treeField&&t.treeField.parent&&t.treeField.children&&e)if(t.treeCodeField||t.treeCodePolicy){if(-1==String(i[t.treeField.children]).indexOf(String(e[t.treeField.parent])))return}else if(!e[t.treeField.parent]===i[t.treeField.children])return;return!0}):this.tableData}return[]},currentTableData:function(){if(this.total)return this.filterTableData;var t=this.filterTableData.length;if(t>this.pageSize){for(var e=[],i=(this.pageNumber-1)*this.currentPageSize,n=this.pageNumber*this.currentPageSize-1,s=n>t-1?t-1:n,o=i;o<=s;o++)e.push(this.filterTableData[o]);return e}return this.filterTableData},currentTotal:function(){return this.total||this.filterTableData.length}},watch:{value:function(t){t&&this.multiple?this.currentValue=[].concat(d()(t)):this.currentValue=[]},pageSize:function(t){this.currentPageSize=t},treeFilterText:function(t){this.$refs.tree.filter(t)},currentTableData:function(t){this.multiple&&this.visible&&this.handleSelectCheck(this.currentValue)}}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("el-dialog",{ref:"dialog",staticClass:"ecp-popentity",attrs:{"destroy-on-close":"",width:t.bodyWidth,top:t.top,visible:t.visible,"before-close":t.close},on:{"update:visible":function(e){t.visible=e}}},[i("el-row",{attrs:{gutter:10}},["table"!=t.type?i("el-col",{attrs:{span:"treeTable"==t.type?8:24}},[i("el-row",[i("el-input",{attrs:{size:t.size,"prefix-icon":"el-icon-search",placeholder:"搜索..."},model:{value:t.treeFilterText,callback:function(e){t.treeFilterText=e},expression:"treeFilterText"}})],1),t._v(" "),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("el-scrollbar",{staticClass:"ecp-popentity-body"},[i("el-tree",{ref:"tree",attrs:{"show-checkbox":t.multiple&&"treeTable"!=t.type,"default-expand-all":"","highlight-current":"",load:t.treeLoadMethod,lazy:t.treeLoadMethod,data:t.currentTreeData,"node-key":t.treeIdField||t.idField,"filter-node-method":t.handleTreeFilter,props:{label:t.treeTextField||t.textField},"expand-on-click-node":!1},on:{"current-change":t.handleTreeCurrentChange}})],1)],1)],1):t._e(),t._v(" "),"tree"!=t.type?i("el-col",{staticClass:"ecp-popentity-search",attrs:{span:"treeTable"==t.type?16:24}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-select",{attrs:{size:t.size},model:{value:t.tableFilterForm.name,callback:function(e){t.$set(t.tableFilterForm,"name",e)},expression:"tableFilterForm.name"}},t._l(t.colData,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.prop}})}),1)],1),t._v(" "),i("el-col",{attrs:{span:6}},[i("el-select",{attrs:{size:t.size},model:{value:t.tableFilterForm.type,callback:function(e){t.$set(t.tableFilterForm,"type",e)},expression:"tableFilterForm.type"}},[i("el-option",{attrs:{label:"包含",value:1}}),t._v(" "),i("el-option",{attrs:{label:"等于",value:0}})],1)],1),t._v(" "),i("el-col",{attrs:{span:6}},[i("el-input",{attrs:{size:t.size,placeholder:"请输入关键字"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearch(e)}},model:{value:t.tableFilterForm.text,callback:function(e){t.$set(t.tableFilterForm,"text",e)},expression:"tableFilterForm.text"}})],1),t._v(" "),i("el-col",{attrs:{span:4}},[i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:t.handleSearch}},[t._v("搜索")])],1)],1),t._v(" "),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("div",{staticClass:"ecp-popentity-body"},[i("el-row",[i("el-table",{ref:"table",attrs:{height:363,"highlight-current-row":"",border:"",stripe:"",expand:t.multiple,data:t.currentTableData},on:{select:t.handleTableSelect,"select-all":t.handleTableSelectAll,"cell-dblclick":t.handleCellDbclick,"current-change":t.handleTableCurrentChange}},[t.multiple?i("el-table-column",{attrs:{type:"selection",align:"center",width:40}}):t._e(),t._v(" "),t._l(t.colData,function(e,n){return i("el-table-column",t._b({key:n,scopedSlots:t._u([{key:"default",fn:function(i){return[t._v(t._s(e.data?e.data[i.row[e.prop]]:i.row[e.prop]))]}}],null,!0)},"el-table-column",e,!1))})],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.currentTableData.length,expression:"!currentTableData.length"}],staticClass:"ecp-popentity-table-modal"})],1),t._v(" "),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("el-col",{attrs:{span:24,align:"right"}},[i("el-pagination",{attrs:{small:"",background:"",size:"mini",layout:"total, sizes, prev, pager, next, jumper","current-page":t.pageNumber,"page-sizes":t.pageSizes,"page-size":t.currentPageSize,total:t.currentTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handlePageChange}})],1)],1)],1)])],1):t._e()],1),t._v(" "),i("div",{staticClass:"ecp-popentity-header",attrs:{slot:"title"},slot:"title"},[t._t("header",[t._v("实体选择")])],2),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:t.size},on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:t.size},on:{click:t.handleConfirm}},[t._v("确定")]),t._v(" "),t._t("footer")],2)],1):t._e()},staticRenderFns:[]};var f=i("VU/8")(p,g,!1,function(t){i("yrxK")},null,null).exports,y={name:"ecpEntityselect",components:{EcpSelect:c,EcpPopentity:f},props:s()({value:{require:!0},data:{type:Array,require:!0}},f.props,o.Select.props),data:function(){return{select:null,currentValue:this.value}},mounted:function(){this.select=this.$refs.select.select},methods:{handleMore:function(t){this.$refs.popentity.show(),this.$emit("handle-more",t)},handleTreeSelect:function(t,e,i){this.$emit("tree-select",t,e,i)},handlePopentitySearch:function(t,e,i){this.$emit("popentity-search",t,e,i)},handlePopentityConfirm:function(t){this.$emit("popentity-confirm",t)},handlePopentityClose:function(t){this.$emit("popentity-close",t)},handleBlur:function(t){this.$emit("blur",t)},handleFocus:function(t){this.$emit("focus",t)},handleInput:function(){this.$emit("input",this.currentValue)},handleChange:function(){this.$emit("change",this.currentValue)},handleClear:function(){this.$emit("clear")},handleVisibleChange:function(t){this.$emit("visible-change",t)},handleRemoveTag:function(t){this.$emit("remove-tag",t)}},watch:{value:function(t){this.currentValue=t}}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ecp-entityselect"},[i("ecp-select",t._b({ref:"select",attrs:{showmore:""},on:{input:t.handleInput,blur:t.handleBlur,focus:t.handleFocus,change:t.handleChange,clear:t.handleClear,"visible-change":t.handleVisibleChange,"remove-tag":t.handleRemoveTag,"handle-more":t.handleMore},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}},"ecp-select",t.$props,!1)),t._v(" "),i("ecp-popentity",t._b({ref:"popentity",attrs:{type:t.type},on:{input:t.handleInput,"tree-select":t.handleTreeSelect,"popentity-search":t.handlePopentitySearch,"popentity-confirm":t.handlePopentityConfirm,"popentity-close":t.handlePopentityClose},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}},"ecp-popentity",t.$props,!1),[i("div",{attrs:{slot:"header"},slot:"header"},[t._t("header",[t._v("实体选择")])],2)])],1)},staticRenderFns:[]},v=i("VU/8")(y,m,!1,null,null,null).exports,C=i("ES7J"),S={name:"App",props:["option","value","text","disabled"],model:{prop:"value",event:"change"},components:{EcpEntityselect:v},data:function(){var t=this.option;return{headerName:"实体选择",titleShow:null,selectDropDownState:!1,currentValue:t.multiple?[]:"",filterable:t.filterable,multiple:t.multiple,returnType:t.returnType,embedQzzGrid:t.embedQzzGrid,popentityType:"table",isReturnObject:"object"===t.returnType||"Object"===t.returnType,loadSize:t.loadSize&&"number"==typeof t.loadSize&&t.loadSize>0?t.loadSize:40,datas:[],entityTreeData:[],colData:[{}],entityGridData:[],treeTableLink:{parent:"linkId",children:""},idNameObj:{},controller:C.create()}},methods:{handle_change:function(t){this.$emit("change",this.getResDataByVal(t))},handle_popentity_change:function(t){var e=this,i=function(t){var i=[];return e.entityGridData&&e.entityGridData.forEach(function(e){t&&t.forEach(function(t){t.gid==e.gid&&i.push(e)})}),i},n=function(t){var i=[];return e.entityGridData&&e.entityGridData.forEach(function(e){t&&t.forEach(function(t){t==e.gid&&i.push(e)})}),i};this.isReturnObject&&this.multiple?this.datas=i(t):this.isReturnObject&&!this.multiple?this.datas=i([t]):!this.isReturnObject&&this.multiple?this.datas=n(t):this.isReturnObject||this.multiple||(this.datas=n([t])),this.$emit("change",this.getResDataByVal(t))},handle_more:function(){this.controller.initTableData()},handle_focus:function(){this.controller.initSelectBoxData()},isArray:function(t){return/\[object array\]/gi.test(Object.prototype.toString.call(t))},getResDataByVal:function(t){var e;return this.isReturnObject&&this.multiple||(this.isReturnObject&&!this.multiple?e=t:!this.isReturnObject&&this.multiple?(e="",t.forEach(function(t){e+=","+t}),e=e.substring(1)):this.isReturnObject||this.multiple||(e=t)),e},select_visible_change:function(t){this.selectDropDownState=t},select_clear:function(){this.value=""},handle_select_filter_method:function(t){var e=this;clearTimeout(e.timer),e.timer=setTimeout(function(){e.controller.initSelectBoxData(t)},300)},refreshOption:function(t){this.controller.refreshOption(t)},refreshFilters:function(t){this.option.filters=t},show:function(){this.controller.initTableData(),this.$refs.ecpentityselect.$refs.popentity.show()}},watch:{value:function(t){if(t){this.controller.refreshIdName(this.text);var e,i,n,s=this;this.isReturnObject&&this.multiple?(i=t,n=[],s.datas&&s.datas.forEach(function(t){i&&i.forEach(function(e){e.gid==t.gid&&n.push(t.gid)})}),e=n):this.isReturnObject&&!this.multiple?e="string"==typeof t?{gid:t}:t:!this.isReturnObject&&this.multiple?e=this.isArray(t)?t:t&&-1!=t.indexOf(",")?t.split(","):[t]:this.isReturnObject||this.multiple||(e=t),this.currentValue=e,this.titleShow=this.text}else this.currentValue=null},option:{handler:function(t,e){this.controller.refreshOption(t)},deep:!0}},mounted:function(){this.controller.init(this),this.embedQzzGrid&&this.controller.initSelectBoxData()},created:function(){this.option.filters||this.$set(this.option,"filters",[])}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ecp-entityselect",{ref:"ecpentityselect",attrs:{"append-to-body":"","modal-append-to-body":"",filterable:t.filterable,multiple:t.multiple,type:t.popentityType,returnType:t.returnType,idField:"gid",textField:"text",data:t.datas,treeIdField:"id",treeCodeField:"itemCode",treeTextField:"text",treeCodePolicy:"4-4-4-4-4-4-4-4-4-4",treeField:t.treeTableLink,treeData:t.entityTreeData,colData:t.colData,tableData:t.entityGridData,disabled:t.disabled,"close-on-press-escape":!1,"close-on-click-modal":!1,"filter-method":t.handle_select_filter_method,title:t.titleShow},on:{change:t.handle_change,"handle-more":t.handle_more,"popentity-confirm":t.handle_popentity_change,focus:t.handle_focus,"visible-change":t.select_visible_change,clear:t.select_clear},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}},[i("div",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.headerName))])])},staticRenderFns:[]},x=i("VU/8")(S,b,!1,null,null,null);e.a=x.exports},OMJi:function(t,e,i){(function(t){var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),i={},n=0;n<e.length;n++)i[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return i},s=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(r(arguments[i]));return e.join(" ")}i=1;for(var n=arguments,o=n.length,l=String(t).replace(s,function(t){if("%%"===t)return"%";if(i>=o)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return t}}),a=n[i];i<o;a=n[++i])f(a)||!S(a)?l+=" "+a:l+=" "+r(a);return l},e.deprecate=function(i,n){if(void 0!==t&&!0===t.noDeprecation)return i;if(void 0===t)return function(){return e.deprecate(i,n).apply(this,arguments)};var s=!1;return function(){if(!s){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),s=!0}return i.apply(this,arguments)}};var o,l={};function r(t,i){var n={seen:[],stylize:h};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(i)?n.showHidden=i:i&&e._extend(n,i),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),c(n,t,n.depth)}function a(t,e){var i=r.styles[e];return i?"["+r.colors[i][0]+"m"+t+"["+r.colors[i][1]+"m":t}function h(t,e){return t}function c(t,i,n){if(t.customInspect&&i&&_(i.inspect)&&i.inspect!==e.inspect&&(!i.constructor||i.constructor.prototype!==i)){var s=i.inspect(n,t);return m(s)||(s=c(t,s,n)),s}var o=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(m(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}if(y(e))return t.stylize(""+e,"number");if(g(e))return t.stylize(""+e,"boolean");if(f(e))return t.stylize("null","null")}(t,i);if(o)return o;var l=Object.keys(i),r=function(t){var e={};return t.forEach(function(t,i){e[t]=!0}),e}(l);if(t.showHidden&&(l=Object.getOwnPropertyNames(i)),x(i)&&(l.indexOf("message")>=0||l.indexOf("description")>=0))return u(i);if(0===l.length){if(_(i)){var a=i.name?": "+i.name:"";return t.stylize("[Function"+a+"]","special")}if(C(i))return t.stylize(RegExp.prototype.toString.call(i),"regexp");if(b(i))return t.stylize(Date.prototype.toString.call(i),"date");if(x(i))return u(i)}var h,S="",w=!1,T=["{","}"];(p(i)&&(w=!0,T=["[","]"]),_(i))&&(S=" [Function"+(i.name?": "+i.name:"")+"]");return C(i)&&(S=" "+RegExp.prototype.toString.call(i)),b(i)&&(S=" "+Date.prototype.toUTCString.call(i)),x(i)&&(S=" "+u(i)),0!==l.length||w&&0!=i.length?n<0?C(i)?t.stylize(RegExp.prototype.toString.call(i),"regexp"):t.stylize("[Object]","special"):(t.seen.push(i),h=w?function(t,e,i,n,s){for(var o=[],l=0,r=e.length;l<r;++l)O(e,String(l))?o.push(d(t,e,i,n,String(l),!0)):o.push("");return s.forEach(function(s){s.match(/^\d+$/)||o.push(d(t,e,i,n,s,!0))}),o}(t,i,n,r,l):l.map(function(e){return d(t,i,n,r,e,w)}),t.seen.pop(),function(t,e,i){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1];return i[0]+e+" "+t.join(", ")+" "+i[1]}(h,S,T)):T[0]+S+T[1]}function u(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,i,n,s,o){var l,r,a;if((a=Object.getOwnPropertyDescriptor(e,s)||{value:e[s]}).get?r=a.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):a.set&&(r=t.stylize("[Setter]","special")),O(n,s)||(l="["+s+"]"),r||(t.seen.indexOf(a.value)<0?(r=f(i)?c(t,a.value,null):c(t,a.value,i-1)).indexOf("\n")>-1&&(r=o?r.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+r.split("\n").map(function(t){return"   "+t}).join("\n")):r=t.stylize("[Circular]","special")),v(l)){if(o&&s.match(/^\d+$/))return r;(l=JSON.stringify(""+s)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(l=l.substr(1,l.length-2),l=t.stylize(l,"name")):(l=l.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),l=t.stylize(l,"string"))}return l+": "+r}function p(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function f(t){return null===t}function y(t){return"number"==typeof t}function m(t){return"string"==typeof t}function v(t){return void 0===t}function C(t){return S(t)&&"[object RegExp]"===w(t)}function S(t){return"object"==typeof t&&null!==t}function b(t){return S(t)&&"[object Date]"===w(t)}function x(t){return S(t)&&("[object Error]"===w(t)||t instanceof Error)}function _(t){return"function"==typeof t}function w(t){return Object.prototype.toString.call(t)}function T(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(i){if(v(o)&&(o=Object({NODE_ENV:"production"}).NODE_DEBUG||""),i=i.toUpperCase(),!l[i])if(new RegExp("\\b"+i+"\\b","i").test(o)){var n=t.pid;l[i]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",i,n,t)}}else l[i]=function(){};return l[i]},e.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=g,e.isNull=f,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=C,e.isObject=S,e.isDate=b,e.isError=x,e.isFunction=_,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=i("fC4T");var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,i;console.log("%s - %s",(t=new Date,i=[T(t.getHours()),T(t.getMinutes()),T(t.getSeconds())].join(":"),[t.getDate(),N[t.getMonth()],i].join(" ")),e.format.apply(e,arguments))},e.inherits=i("LC74"),e._extend=function(t,e){if(!e||!S(e))return t;for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t};var L="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function k(t,e){if(!t){var i=new Error("Promise was rejected with a falsy value");i.reason=t,t=i}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(L&&t[L]){var e;if("function"!=typeof(e=t[L]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,L,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,i,n=new Promise(function(t,n){e=t,i=n}),s=[],o=0;o<arguments.length;o++)s.push(arguments[o]);s.push(function(t,n){t?i(t):e(n)});try{t.apply(this,s)}catch(t){i(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),L&&Object.defineProperty(e,L,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=L,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function i(){for(var i=[],n=0;n<arguments.length;n++)i.push(arguments[n]);var s=i.pop();if("function"!=typeof s)throw new TypeError("The last argument must be of type Function");var o=this,l=function(){return s.apply(o,arguments)};e.apply(this,i).then(function(e){t.nextTick(l,null,e)},function(e){t.nextTick(k,e,l)})}return Object.setPrototypeOf(i,Object.getPrototypeOf(e)),Object.defineProperties(i,n(e)),i}}).call(e,i("W2nU"))},"RY/4":function(t,e,i){var n=i("R9M2"),s=i("dSzd")("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,i,l;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),s))?i:o?n(e):"Object"==(l=n(e))&&"function"==typeof e.callee?"Arguments":l}},WJJ6:function(t,e,i){"use strict";var n=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,r=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===s.call(t)},a=function(t){if(!t||"[object Object]"!==s.call(t))return!1;var e,i=n.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!i&&!o)return!1;for(e in t);return void 0===e||n.call(t,e)},h=function(t,e){o&&"__proto__"===e.name?o(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},c=function(t,e){if("__proto__"===e){if(!n.call(t,e))return;if(l)return l(t,e).value}return t[e]};t.exports=function t(){var e,i,n,s,o,l,u=arguments[0],d=1,p=arguments.length,g=!1;for("boolean"==typeof u&&(g=u,u=arguments[1]||{},d=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});d<p;++d)if(null!=(e=arguments[d]))for(i in e)n=c(u,i),u!==(s=c(e,i))&&(g&&s&&(a(s)||(o=r(s)))?(o?(o=!1,l=n&&r(n)?n:[]):l=n&&a(n)?n:{},h(u,{name:i,newValue:t(g,l,s)})):void 0!==s&&h(u,{name:i,newValue:s}));return u}},X361:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("e2q+"),s=i("7+uW"),o={name:"Ecpcontent",props:{ConfirmDetail:{default:"",type:String},ConfirmDes:{default:"提示",type:String},type:{default:!0,type:Boolean},visible:{default:!1,type:Boolean},cancelText:{default:"取消",type:String},successText:{default:"确定",type:String},showCancel:{default:!0,type:Boolean}},data:function(){return{showMore:!1}},mounted:function(){},methods:{close:function(){this.$emit("close")},cancel:function(){this.$emit("cancel")},success:function(){this.$emit("success")}},computed:{},watch:{}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-fade-in"}},[t.visible?i("div",{staticClass:"EcpConfirm",attrs:{id:"Ecpcontent"}},[i("div",{staticClass:"EcpConfirmBox"},[i("div",{staticClass:"title"},[i("span",{staticClass:"rept_modal_title"},[t._v("提示")]),t._v(" "),i("span",{staticClass:"el-icon-close",on:{click:t.close}})]),t._v(" "),i("div",{staticClass:"content",domProps:{innerHTML:t._s(t.ConfirmDes)}}),t._v(" "),0==t.type?i("div",{staticClass:"foot footer"},[t.showCancel?i("div",{staticClass:"rept_confirm_btn",on:{click:t.cancel}},[t._v("\n          "+t._s(t.cancelText)+"\n        ")]):t._e(),t._v(" "),i("div",{staticClass:"el-button--primary",on:{click:t.success}},[t._v("\n          "+t._s(t.successText)+"\n        ")])]):t._e(),t._v(" "),1==t.type?i("div",{staticClass:"foot"},[0==t.showMore?i("span",{on:{click:function(e){t.showMore=!0}}},[i("i",{staticClass:"el-icon-arrow-down"}),t._v("展开详细")]):i("span",{on:{click:function(e){t.showMore=!1}}},[i("i",{staticClass:"el-icon-arrow-up"}),t._v("隐藏详细")]),t._v(" "),i("div",{staticClass:"el-button--primary",on:{click:t.success}},[t._v("\n          关闭\n        ")])]):t._e(),t._v(" "),1==t.showMore&&1==t.type?i("div",{staticClass:"contenttext"},[i("div",{domProps:{innerHTML:t._s(t.ConfirmDetail)}})]):t._e()])]):t._e()])},staticRenderFns:[]};var r=i("VU/8")(o,l,!1,function(t){i("y8/q")},"data-v-11568fe8",null).exports,a=s.default.extend(r),h="",c=function(t){(h=new a({data:{},propsData:t})).$mount(),document.body.appendChild(h.$el),h.visible=!0,h.close=function(e){h.visible=!1,t.close&&t.close()},h.cancel=function(e){h.visible=!1,t.cancel&&t.cancel()},h.success=function(e){h.visible=!1,t.success&&t.success()}};i.d(e,"create",function(){return D}),i.d(e,"replaceAll",function(){return m}),i.d(e,"doPost",function(){return S}),i.d(e,"doGet",function(){return b}),i.d(e,"doPostSync",function(){return v}),i.d(e,"doGetSync",function(){return C}),i.d(e,"createDataFieldUI",function(){return _}),i.d(e,"getItemXpathByDataField",function(){return getItemXpathByDataField}),i.d(e,"extend",function(){return d}),i.d(e,"createEventEmitter",function(){return T}),i.d(e,"defer",function(){return N}),i.d(e,"isError",function(){return O}),i.d(e,"RequireUtil",function(){return f}),i.d(e,"waitFinished",function(){return B}),i.d(e,"initRequireConfig",function(){return I}),i.d(e,"showNotify",function(){return L});var u=i("OMJi"),d=i("WJJ6"),p=i("vzCy"),g=i("/Luh"),f=i("m8It"),y=i("Y00p");function m(t,e,i){return t.replace(new RegExp(e,"g"),i)}function v(t,e){return n.a.doPostSync(t,e)}function C(t,e){return n.a.doGetSync(t)}function S(t,e,i){n.a.doPost(t,e).then(function(t){var e=t.data;i&&i.call(null,e)})}function b(t,e){n.a.doGet(t).then(function(t){var i=t.data;e&&e.call(null,i)})}function x(){this.option=void 0,this.eventData=void 0,this.dataControl=void 0}function _(t,e){var i=new x;return i.init(t,e),i}function w(){this.emitter}function T(){var t=new w;return t.init(),t}function N(){return g.defer()}function O(t){return!(!t.data||!t.data.errMsg)||!(!t.data||!t.data.errCode)}function L(t,e){if(e&&-1!=e.indexOf("[DETAIL]")){var i=e.split("[DETAIL]"),n=i[0],s=i[1];c({ConfirmDes:n,ConfirmDetail:s,type:!0,close:function(){return!1},cancel:function(){return!1}})}else t.$notify.info({title:"消息",message:e,showClose:!1,duration:2e3})}function k(){this.option}function D(t){var e=new k;return e.init(t),e}function I(t){var e=g.defer(),i=f.requirejs;return i._initConfig||(i._initConfig=!0,t.webPath||(t.webPath=window.webPath),t.webPath||(t.webPath="/necp/mapp/dem"),i.config({waitSeconds:30,baseUrl:t.webPath,paths:{"ndm.core.single.controller":"assets/components/necp/dem/scripts/core/single/com.ygsoft.necp.genentity.core.single.controller","ndm.core.single.model":"assets/components/necp/dem/scripts/core/single/com.ygsoft.necp.genentity.core.single.model","ndm.core.single.view":"assets/components/necp/dem/scripts/core/single/com.ygsoft.necp.genentity.core.single.view","ndm.core.genentity.service":"assets/components/necp/dem/scripts/core/service/com.ygsoft.necp.genentity.core.base.service","ndm.core.idname.service":"assets/components/necp/dem/scripts/core/service/com.ygsoft.necp.genentity.core.idname.service","ndm.core.flow.service":"assets/components/necp/dem/scripts/core/service/com.ygsoft.necp.genentity.core.flow.service","ndm.core.feature":"assets/components/necp/dem/scripts/core/feature/com.ygsoft.necp.core.feature","ndm.core.util":"assets/components/necp/dem/scripts/core/util/com.ygsoft.necp.genentity.core.util"}})),e.resolve(),e.promise}function B(t){if(t)if(t.checkFinished())t.finishedDo();else{var e=t.waitTime?t.waitTime:10,i=(new Date).getTime();t[i]=setInterval(function(){if(t.checkFinished())try{t.finishedDo()}finally{clearInterval(t[i]),delete t[i]}},e)}}Array.prototype.remove=function(t){var e=this.indexOf(t);return e>=0&&(this.splice(e,1),!0)},x.prototype={init:function(t,e){this.eventData=t,this.option=e},getDataType:function(){return getDataTypeByPath(this.option.metaModel,this.eventData.getItemXpath())},setValue:function(){},getNewValue:function(){return this.eventData.getValue()},getOldValue:function(){return this.eventData.getOldValue()},getName:function(){return this.eventData.getItemXpath()},empty:function(){}},w.prototype={init:function(){this.emitter=new p},bind:function(t,e){this.emitter.on(t,e)},emit:function(t){this.emitter.emit(t)},unbind:function(t,e){this.emitter.removeListener(t,e)},listeners:function(t){return this.emitter.listeners(t)}},k.prototype={init:function(t){this.option=t},doPostSync:function(t,e){return n.a.doPostSync(t,e)},doGetSync:function(t,e){return n.a.doGetSync(t)},doPost:function(t,e,i){var s=this;n.a.doPost(t,e).then(function(t){if(!s.error(t)){var e=t.data;i&&i.call(null,e)}})},doGet:function(t,e){var i=this;n.a.doGet(t).then(function(t){if(!i.error(t)){var n=t.data;e&&e.call(null,n)}})},showNotify:function(t){this.option.showNotify?this.option.showNotify(t):this.option.vue&&L(this.option.vue,t)},error:function(t){return t.data&&t.data.errMsg?(this.showNotify(t.data.errMsg),!0):!(!t.data||!t.data.errCode)&&(t.data.moreInfoUrl?this.showNotify(t.data.moreInfoUrl):this.showNotify(t.data.errCode),!0)},createEventEmitter:T,defer:N,extend:d,requirejs:f.requirejs,utils:u,des:y,dialog:c}},Y00p:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i("f6Yr"),e.default=window._ecp_remote_des},bgFC:function(module,exports){!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=39)}({39:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(i18n,define){function require(){}function qdefine(t,e){for(var i=arguments[0],n=[],s=0,o=i.length;s<o;s++)"ecp.utils.i18n"==i[s]?n.push(i18n):n.push(null);"function"==typeof e&&e.apply(this,n)}
/*!
 * 基础控件类
 * ecp.qzz.base.js
 * 创建：qzz
 * 日期: 2014-03-1
 */null==window.qdefine&&(window.qdefine=define),qdefine([],function(){var t=!1;return null==window.qzz&&(window.qzz={}),null==window.ecp&&(window.ecp={}),window.qzz.index=0,window.qzz.Class=function(e,i,n){function s(){t||"function"==typeof this.init&&this.init.apply(this,arguments)}function o(t){return function(){var n=this.base;this.base=e.prototype[t];var s=i[t].apply(this,arguments);return this.base=n,s}}for(var l in"boolean"==typeof i&&(n=i),"object"==typeof e&&(i=e,e=null),e&&(t=!0,s.prototype=new e,s.prototype.constructor=s,t=!1),i)i.hasOwnProperty(l)&&(e&&"function"==typeof i[l]&&"function"==typeof s.prototype[l]?s.prototype[l]=o(l):s.prototype[l]=i[l]);for(var l in e)"function"==typeof e[l]&&(s[l]=e[l]);if(n)for(var l in s.prototype)"function"==typeof s.prototype[l]&&(s.prototype[l]=s.prototype[l].bind(this));return s},window.qzz.space=function(t){for(var e=t.split("."),i=window.qzz,n=0,s=e.length;n<s;n++)null!=e[n]&&""!==e[n]&&(null==i[e[n]]&&(i[e[n]]={}),i=i[e[n]])},window.qzz.Class}),null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.base"],function(){var t=window.qzz;return t.hz2py=t.Class({init:function(t){this.dic={strChineseFirstPY:"YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY",oMultiDiff:{19969:"DZ",19975:"WM",19988:"QJ",20048:"YL",20056:"SC",20060:"NM",20094:"QG",20127:"QJ",20167:"QC",20193:"YG",20250:"KH",20256:"ZC",20282:"SC",20285:"QJG",20291:"TD",20314:"YD",20340:"NE",20375:"TD",20389:"YJ",20391:"CZ",20415:"PB",20446:"YS",20447:"SQ",20504:"TC",20608:"KG",20854:"QJ",20857:"ZC",20911:"PF",20985:"AW",21032:"PB",21048:"XQ",21049:"SC",21089:"YS",21119:"JC",21242:"SB",21273:"SC",21305:"YP",21306:"QO",21330:"ZC",21333:"SDC",21345:"QK",21378:"CA",21397:"SC",21414:"XS",21442:"SC",21477:"JG",21480:"TD",21484:"ZS",21494:"YX",21505:"YX",21512:"HG",21523:"XH",21537:"PB",21542:"PF",21549:"KH",21571:"E",21574:"DA",21588:"TD",21589:"O",21618:"ZC",21621:"KHA",21632:"ZJ",21654:"KG",21679:"LKG",21683:"KH",21710:"A",21719:"YH",21734:"WOE",21769:"A",21780:"WN",21804:"XH",21834:"A",21899:"ZD",21903:"RN",21908:"WO",21939:"ZC",21956:"SA",21964:"YA",21970:"TD",22003:"A",22031:"JG",22040:"XS",22060:"ZC",22066:"ZC",22079:"MH",22129:"XJ",22179:"XA",22237:"NJ",22244:"TD",22280:"JQ",22300:"YH",22313:"XW",22331:"YQ",22343:"YJ",22351:"PH",22395:"DC",22412:"TD",22484:"PB",22500:"PB",22534:"ZD",22549:"DH",22561:"PB",22612:"TD",22771:"KQ",22831:"HB",22841:"JG",22855:"QJ",22865:"XQ",23013:"ML",23081:"WM",23487:"SX",23558:"QJ",23561:"YW",23586:"YW",23614:"YW",23615:"SN",23631:"PB",23646:"ZS",23663:"ZT",23673:"YG",23762:"TD",23769:"ZS",23780:"QJ",23884:"QK",24055:"XH",24113:"DC",24162:"ZC",24191:"GA",24273:"QJ",24324:"NL",24377:"TD",24378:"QJ",24439:"PF",24554:"ZS",24683:"TD",24694:"WE",24733:"LK",24925:"TN",25094:"ZG",25100:"XQ",25103:"XH",25153:"PB",25170:"PB",25179:"KG",25203:"PB",25240:"ZS",25282:"FB",25303:"NA",25324:"KG",25341:"ZY",25373:"WZ",25375:"XJ",25384:"A",25457:"A",25528:"SD",25530:"SC",25552:"TD",25774:"ZC",25874:"ZC",26044:"YW",26080:"WM",26292:"PB",26333:"PB",26355:"ZY",26366:"CZ",26397:"ZC",26399:"QJ",26415:"ZS",26451:"SB",26526:"ZC",26552:"JG",26561:"TD",26588:"JG",26597:"CZ",26629:"ZS",26638:"YL",26646:"XQ",26653:"KG",26657:"XJ",26727:"HG",26894:"ZC",26937:"ZS",26946:"ZC",26999:"KJ",27099:"KJ",27449:"YQ",27481:"XS",27542:"ZS",27663:"ZS",27748:"TS",27784:"SC",27788:"ZD",27795:"TD",27812:"O",27850:"PB",27852:"MB",27895:"SL",27898:"PL",27973:"QJ",27981:"KH",27986:"HX",27994:"XJ",28044:"YC",28065:"WG",28177:"SM",28267:"QJ",28291:"KH",28337:"ZQ",28463:"TL",28548:"DC",28601:"TD",28689:"PB",28805:"JG",28820:"QG",28846:"PB",28952:"TD",28975:"ZC",29100:"A",29325:"QJ",29575:"SL",29602:"FB",30010:"TD",30044:"CX",30058:"PF",30091:"YSP",30111:"YN",30229:"XJ",30427:"SC",30465:"SX",30631:"YQ",30655:"QJ",30684:"QJG",30707:"SD",30729:"XH",30796:"LG",30917:"PB",31074:"NM",31085:"JZ",31109:"SC",31181:"ZC",31192:"MLB",31293:"JQ",31400:"YX",31584:"YJ",31896:"ZN",31909:"ZY",31995:"XJ",32321:"PF",32327:"ZY",32418:"HG",32420:"XQ",32421:"HG",32438:"LG",32473:"GJ",32488:"TD",32521:"QJ",32527:"PB",32562:"ZSQ",32564:"JZ",32735:"ZD",32793:"PB",33071:"PF",33098:"XL",33100:"YA",33152:"PB",33261:"CX",33324:"BP",33333:"TD",33406:"YA",33426:"WM",33432:"PB",33445:"JG",33486:"ZN",33493:"TS",33507:"QJ",33540:"QJ",33544:"ZC",33564:"XQ",33617:"YT",33632:"QJ",33636:"XH",33637:"YX",33694:"WG",33705:"PF",33728:"YW",33882:"SR",34067:"WM",34074:"YW",34121:"QJ",34255:"ZC",34259:"XL",34425:"JH",34430:"XH",34485:"KH",34503:"YS",34532:"HG",34552:"XS",34558:"YE",34593:"ZL",34660:"YQ",34892:"XH",34928:"SC",34999:"QJ",35048:"PB",35059:"SC",35098:"ZC",35203:"TQ",35265:"JX",35299:"JX",35782:"SZ",35828:"YS",35830:"E",35843:"TD",35895:"YG",35977:"MH",36158:"JG",36228:"QJ",36426:"XQ",36466:"DC",36710:"JC",36711:"ZYG",36767:"PB",36866:"SK",36951:"YW",37034:"YX",37063:"XH",37218:"ZC",37325:"ZC",38063:"PB",38079:"TD",38085:"QY",38107:"DC",38116:"TD",38123:"YD",38224:"HG",38241:"XTC",38271:"ZC",38415:"YE",38426:"KH",38461:"YD",38463:"AE",38466:"PB",38477:"XJ",38518:"YT",38551:"WK",38585:"ZC",38704:"XS",38739:"LJ",38761:"GJ",38808:"SQ",39048:"JG",39049:"XJ",39052:"HG",39076:"CZ",39271:"XT",39534:"TD",39552:"TD",39584:"PB",39647:"SB",39730:"LG",39748:"TPB",40109:"ZQ",40479:"ND",40516:"HG",40536:"HG",40583:"QJ",40765:"YQ",40784:"QJ",40840:"YK",40863:"QJG"},pinyinDic:{"啊":"a","阿":"a","锕":"a","埃":"ai","挨":"ai","哎":"ai","唉":"ai","哀":"ai","皑":"ai","癌":"ai","蔼":"ai","矮":"ai","艾":"ai","碍":"ai","爱":"ai","隘":"ai","诶":"ai","捱":"ai","嗳":"ai","嗌":"ai","嫒":"ai","瑷":"ai","暧":"ai","砹":"ai","锿":"ai","霭":"ai","鞍":"an","氨":"an","安":"an","俺":"an","按":"an","暗":"an","岸":"an","胺":"an","案":"an","谙":"an","埯":"an","揞":"an","犴":"an","庵":"an","桉":"an","铵":"an","鹌":"an","顸":"an","黯":"an","肮":"ang","昂":"ang","盎":"ang","凹":"ao","敖":"ao","熬":"ao","翱":"ao","袄":"ao","傲":"ao","奥":"ao","懊":"ao","澳":"ao","坳":"ao","拗":"ao","嗷":"ao","噢":"ao","岙":"ao","廒":"ao","遨":"ao","媪":"ao","骜":"ao","聱":"ao","螯":"ao","鏊":"ao","鳌":"ao","鏖":"ao","芭":"ba","捌":"ba","扒":"ba","叭":"ba","吧":"ba","笆":"ba","八":"ba","疤":"ba","巴":"ba","拔":"ba","跋":"ba","靶":"ba","把":"ba","耙":"ba","坝":"ba","霸":"ba","罢":"ba","爸":"ba","茇":"ba","菝":"ba","萆":"ba","捭":"ba","岜":"ba","灞":"ba","杷":"ba","钯":"ba","粑":"ba","鲅":"ba","魃":"ba","白":"bai","柏":"bai","百":"bai","摆":"bai","佰":"bai","败":"bai","拜":"bai","稗":"bai","薜":"bai","掰":"bai","鞴":"bai","斑":"ban","班":"ban","搬":"ban","扳":"ban","般":"ban","颁":"ban","板":"ban","版":"ban","扮":"ban","拌":"ban","伴":"ban","瓣":"ban","半":"ban","办":"ban","绊":"ban","阪":"ban","坂":"ban","豳":"ban","钣":"ban","瘢":"ban","癍":"ban","舨":"ban","邦":"bang","帮":"bang","梆":"bang","榜":"bang","膀":"bang","绑":"bang","棒":"bang","磅":"bang","蚌":"bang","镑":"bang","傍":"bang","谤":"bang","蒡":"bang","螃":"bang","苞":"bao","胞":"bao","包":"bao","褒":"bao","雹":"bao","保":"bao","堡":"bao","饱":"bao","宝":"bao","抱":"bao","报":"bao","暴":"bao","豹":"bao","鲍":"bao","爆":"bao","勹":"bao","葆":"bao","宀":"bao","孢":"bao","煲":"bao","鸨":"bao","褓":"bao","趵":"bao","龅":"bao","剥":"bo","薄":"bo","玻":"bo","菠":"bo","播":"bo","拨":"bo","钵":"bo","波":"bo","博":"bo","勃":"bo","搏":"bo","铂":"bo","箔":"bo","伯":"bo","帛":"bo","舶":"bo","脖":"bo","膊":"bo","渤":"bo","泊":"bo","驳":"bo","亳":"bo","蕃":"bo","啵":"bo","饽":"bo","檗":"bo","擘":"bo","礴":"bo","钹":"bo","鹁":"bo","簸":"bo","跛":"bo","杯":"bei","碑":"bei","悲":"bei","卑":"bei","北":"bei","辈":"bei","背":"bei","贝":"bei","钡":"bei","倍":"bei","狈":"bei","备":"bei","惫":"bei","焙":"bei","被":"bei","孛":"bei","陂":"bei","邶":"bei","埤":"bei","蓓":"bei","呗":"bei","怫":"bei","悖":"bei","碚":"bei","鹎":"bei","褙":"bei","鐾":"bei","奔":"ben","苯":"ben","本":"ben","笨":"ben","畚":"ben","坌":"ben","锛":"ben","崩":"beng","绷":"beng","甭":"beng","泵":"beng","蹦":"beng","迸":"beng","唪":"beng","嘣":"beng","甏":"beng","逼":"bi","鼻":"bi","比":"bi","鄙":"bi","笔":"bi","彼":"bi","碧":"bi","蓖":"bi","蔽":"bi","毕":"bi","毙":"bi","毖":"bi","币":"bi","庇":"bi","痹":"bi","闭":"bi","敝":"bi","弊":"bi","必":"bi","辟":"bi","壁":"bi","臂":"bi","避":"bi","陛":"bi","匕":"bi","仳":"bi","俾":"bi","芘":"bi","荜":"bi","荸":"bi","吡":"bi","哔":"bi","狴":"bi","庳":"bi","愎":"bi","滗":"bi","濞":"bi","弼":"bi","妣":"bi","婢":"bi","嬖":"bi","璧":"bi","贲":"bi","畀":"bi","铋":"bi","秕":"bi","裨":"bi","筚":"bi","箅":"bi","篦":"bi","舭":"bi","襞":"bi","跸":"bi","髀":"bi","鞭":"bian","边":"bian","编":"bian","贬":"bian","扁":"bian","便":"bian","变":"bian","卞":"bian","辨":"bian","辩":"bian","辫":"bian","遍":"bian","匾":"bian","弁":"bian","苄":"bian","忭":"bian","汴":"bian","缏":"bian","煸":"bian","砭":"bian","碥":"bian","稹":"bian","窆":"bian","蝙":"bian","笾":"bian","鳊":"bian","标":"biao","彪":"biao","膘":"biao","表":"biao","婊":"biao","骠":"biao","飑":"biao","飙":"biao","飚":"biao","灬":"biao","镖":"biao","镳":"biao","瘭":"biao","裱":"biao","鳔":"biao","鳖":"bie","憋":"bie","别":"bie","瘪":"bie","蹩":"bie","鳘":"bie","彬":"bin","斌":"bin","濒":"bin","滨":"bin","宾":"bin","摈":"bin","傧":"bin","浜":"bin","缤":"bin","玢":"bin","殡":"bin","膑":"bin","镔":"bin","髌":"bin","鬓":"bin","兵":"bing","冰":"bing","柄":"bing","丙":"bing","秉":"bing","饼":"bing","炳":"bing","病":"bing","并":"bing","禀":"bing","邴":"bing","摒":"bing","绠":"bing","枋":"bing","槟":"bing","燹":"bing","捕":"bu","卜":"bu","哺":"bu","补":"bu","埠":"bu","不":"bu","布":"bu","步":"bu","簿":"bu","部":"bu","怖":"bu","拊":"bu","卟":"bu","逋":"bu","瓿":"bu","晡":"bu","钚":"bu","醭":"bu","擦":"ca","嚓":"ca","礤":"ca","猜":"cai","裁":"cai","材":"cai","才":"cai","财":"cai","睬":"cai","踩":"cai","采":"cai","彩":"cai","菜":"cai","蔡":"cai","餐":"can","参":"can","蚕":"can","残":"can","惭":"can","惨":"can","灿":"can","骖":"can","璨":"can","粲":"can","黪":"can","苍":"cang","舱":"cang","仓":"cang","沧":"cang","藏":"cang","伧":"cang","操":"cao","糙":"cao","槽":"cao","曹":"cao","草":"cao","艹":"cao","嘈":"cao","漕":"cao","螬":"cao","艚":"cao","厕":"ce","策":"ce","侧":"ce","册":"ce","测":"ce","刂":"ce","帻":"ce","恻":"ce","层":"ceng","蹭":"ceng","噌":"ceng","插":"cha","叉":"cha","茬":"cha","茶":"cha","查":"cha","碴":"cha","搽":"cha","察":"cha","岔":"cha","差":"cha","诧":"cha","猹":"cha","馇":"cha","汊":"cha","姹":"cha","杈":"cha","楂":"cha","槎":"cha","檫":"cha","钗":"cha","锸":"cha","镲":"cha","衩":"cha","拆":"chai","柴":"chai","豺":"chai","侪":"chai","茈":"chai","瘥":"chai","虿":"chai","龇":"chai","搀":"chan","掺":"chan","蝉":"chan","馋":"chan","谗":"chan","缠":"chan","铲":"chan","产":"chan","阐":"chan","颤":"chan","冁":"chan","谄":"chan","谶":"chan","蒇":"chan","廛":"chan","忏":"chan","潺":"chan","澶":"chan","孱":"chan","羼":"chan","婵":"chan","嬗":"chan","骣":"chan","觇":"chan","禅":"chan","镡":"chan","裣":"chan","蟾":"chan","躔":"chan","昌":"chang","猖":"chang","场":"chang","尝":"chang","常":"chang","长":"chang","偿":"chang","肠":"chang","厂":"chang","敞":"chang","畅":"chang","唱":"chang","倡":"chang","伥":"chang","鬯":"chang","苌":"chang","菖":"chang","徜":"chang","怅":"chang","惝":"chang","阊":"chang","娼":"chang","嫦":"chang","昶":"chang","氅":"chang","鲳":"chang","超":"chao","抄":"chao","钞":"chao","朝":"chao","嘲":"chao","潮":"chao","巢":"chao","吵":"chao","炒":"chao","怊":"chao","绉":"chao","晁":"chao","耖":"chao","车":"che","扯":"che","撤":"che","掣":"che","彻":"che","澈":"che","坼":"che","屮":"che","砗":"che","郴":"chen","臣":"chen","辰":"chen","尘":"chen","晨":"chen","忱":"chen","沉":"chen","陈":"chen","趁":"chen","衬":"chen","称":"chen","谌":"chen","抻":"chen","嗔":"chen","宸":"chen","琛":"chen","榇":"chen","肜":"chen","胂":"chen","碜":"chen","龀":"chen","撑":"cheng","城":"cheng","橙":"cheng","成":"cheng","呈":"cheng","乘":"cheng","程":"cheng","惩":"cheng","澄":"cheng","诚":"cheng","承":"cheng","逞":"cheng","骋":"cheng","秤":"cheng","埕":"cheng","嵊":"cheng","徵":"cheng","浈":"cheng","枨":"cheng","柽":"cheng","樘":"cheng","晟":"cheng","塍":"cheng","瞠":"cheng","铖":"cheng","裎":"cheng","蛏":"cheng","酲":"cheng","吃":"chi","痴":"chi","持":"chi","匙":"chi","池":"chi","迟":"chi","弛":"chi","驰":"chi","耻":"chi","齿":"chi","侈":"chi","尺":"chi","赤":"chi","翅":"chi","斥":"chi","炽":"chi","傺":"chi","墀":"chi","芪":"chi","茌":"chi","搋":"chi","叱":"chi","哧":"chi","啻":"chi","嗤":"chi","彳":"chi","饬":"chi","沲":"chi","媸":"chi","敕":"chi","胝":"chi","眙":"chi","眵":"chi","鸱":"chi","瘛":"chi","褫":"chi","蚩":"chi","螭":"chi","笞":"chi","篪":"chi","豉":"chi","踅":"chi","踟":"chi","魑":"chi","充":"chong","冲":"chong","虫":"chong","崇":"chong","宠":"chong","茺":"chong","忡":"chong","憧":"chong","铳":"chong","艟":"chong","抽":"chou","酬":"chou","畴":"chou","踌":"chou","稠":"chou","愁":"chou","筹":"chou","仇":"chou","绸":"chou","瞅":"chou","丑":"chou","俦":"chou","圳":"chou","帱":"chou","惆":"chou","溴":"chou","妯":"chou","瘳":"chou","雠":"chou","鲋":"chou","臭":"chu","初":"chu","出":"chu","橱":"chu","厨":"chu","躇":"chu","锄":"chu","雏":"chu","滁":"chu","除":"chu","楚":"chu","础":"chu","储":"chu","矗":"chu","搐":"chu","触":"chu","处":"chu","亍":"chu","刍":"chu","憷":"chu","绌":"chu","杵":"chu","楮":"chu","樗":"chu","蜍":"chu","蹰":"chu","黜":"chu","揣":"chuan","川":"chuan","穿":"chuan","椽":"chuan","传":"chuan","船":"chuan","喘":"chuan","串":"chuan","掾":"chuan","舛":"chuan","惴":"chuan","遄":"chuan","巛":"chuan","氚":"chuan","钏":"chuan","镩":"chuan","舡":"chuan","疮":"chuang","窗":"chuang","幢":"chuang","床":"chuang","闯":"chuang","创":"chuang","怆":"chuang","吹":"chui","炊":"chui","捶":"chui","锤":"chui","垂":"chui","陲":"chui","棰":"chui","槌":"chui","春":"chun","椿":"chun","醇":"chun","唇":"chun","淳":"chun","纯":"chun","蠢":"chun","促":"chun","莼":"chun","沌":"chun","肫":"chun","朐":"chun","鹑":"chun","蝽":"chun","戳":"chuo","绰":"chuo","蔟":"chuo","辶":"chuo","辍":"chuo","镞":"chuo","踔":"chuo","龊":"chuo","疵":"ci","茨":"ci","磁":"ci","雌":"ci","辞":"ci","慈":"ci","瓷":"ci","词":"ci","此":"ci","刺":"ci","赐":"ci","次":"ci","荠":"ci","呲":"ci","嵯":"ci","鹚":"ci","螅":"ci","糍":"ci","趑":"ci","聪":"cong","葱":"cong","囱":"cong","匆":"cong","从":"cong","丛":"cong","偬":"cong","苁":"cong","淙":"cong","骢":"cong","琮":"cong","璁":"cong","枞":"cong","凑":"cu","粗":"cu","醋":"cu","簇":"cu","猝":"cu","殂":"cu","蹙":"cu","蹿":"cuan","篡":"cuan","窜":"cuan","汆":"cuan","撺":"cuan","昕":"cuan","爨":"cuan","摧":"cui","崔":"cui","催":"cui","脆":"cui","瘁":"cui","粹":"cui","淬":"cui","翠":"cui","萃":"cui","悴":"cui","璀":"cui","榱":"cui","隹":"cui","村":"cun","存":"cun","寸":"cun","磋":"cun","忖":"cun","皴":"cun","撮":"cuo","搓":"cuo","措":"cuo","挫":"cuo","错":"cuo","厝":"cuo","脞":"cuo","锉":"cuo","矬":"cuo","痤":"cuo","鹾":"cuo","蹉":"cuo","躜":"cuo","搭":"da","达":"da","答":"da","瘩":"da","打":"da","大":"da","耷":"da","哒":"da","嗒":"da","怛":"da","妲":"da","疸":"da","褡":"da","笪":"da","靼":"da","鞑":"da","呆":"dai","歹":"dai","傣":"dai","戴":"dai","带":"dai","殆":"dai","代":"dai","贷":"dai","袋":"dai","待":"dai","逮":"dai","怠":"dai","埭":"dai","甙":"dai","呔":"dai","岱":"dai","迨":"dai","逯":"dai","骀":"dai","绐":"dai","玳":"dai","黛":"dai","耽":"dan","担":"dan","丹":"dan","单":"dan","郸":"dan","掸":"dan","胆":"dan","旦":"dan","氮":"dan","但":"dan","惮":"dan","淡":"dan","诞":"dan","弹":"dan","蛋":"dan","亻":"dan","儋":"dan","卩":"dan","萏":"dan","啖":"dan","澹":"dan","檐":"dan","殚":"dan","赕":"dan","眈":"dan","瘅":"dan","聃":"dan","箪":"dan","当":"dang","挡":"dang","党":"dang","荡":"dang","档":"dang","谠":"dang","凼":"dang","菪":"dang","宕":"dang","砀":"dang","铛":"dang","裆":"dang","刀":"dao","捣":"dao","蹈":"dao","倒":"dao","岛":"dao","祷":"dao","导":"dao","到":"dao","稻":"dao","悼":"dao","道":"dao","盗":"dao","叨":"dao","啁":"dao","忉":"dao","洮":"dao","氘":"dao","焘":"dao","忑":"dao","纛":"dao","德":"de","得":"de","的":"de","锝":"de","蹬":"deng","灯":"deng","登":"deng","等":"deng","瞪":"deng","凳":"deng","邓":"deng","噔":"deng","嶝":"deng","戥":"deng","磴":"deng","镫":"deng","簦":"deng","堤":"di","低":"di","滴":"di","迪":"di","敌":"di","笛":"di","狄":"di","涤":"di","翟":"di","嫡":"di","抵":"di","底":"di","地":"di","蒂":"di","第":"di","帝":"di","弟":"di","递":"di","缔":"di","氐":"di","籴":"di","诋":"di","谛":"di","邸":"di","坻":"di","莜":"di","荻":"di","嘀":"di","娣":"di","柢":"di","棣":"di","觌":"di","砥":"di","碲":"di","睇":"di","镝":"di","羝":"di","骶":"di","颠":"dian","掂":"dian","滇":"dian","碘":"dian","点":"dian","典":"dian","靛":"dian","垫":"dian","电":"dian","佃":"dian","甸":"dian","店":"dian","惦":"dian","奠":"dian","淀":"dian","殿":"dian","丶":"dian","阽":"dian","坫":"dian","埝":"dian","巅":"dian","玷":"dian","癜":"dian","癫":"dian","簟":"dian","踮":"dian","碉":"diao","叼":"diao","雕":"diao","凋":"diao","刁":"diao","掉":"diao","吊":"diao","钓":"diao","调":"diao","轺":"diao","铞":"diao","蜩":"diao","粜":"diao","貂":"diao","跌":"die","爹":"die","碟":"die","蝶":"die","迭":"die","谍":"die","叠":"die","佚":"die","垤":"die","堞":"die","揲":"die","喋":"die","渫":"die","轶":"die","牒":"die","瓞":"die","褶":"die","耋":"die","蹀":"die","鲽":"die","鳎":"die","丁":"ding","盯":"ding","叮":"ding","钉":"ding","顶":"ding","鼎":"ding","锭":"ding","定":"ding","订":"ding","丢":"ding","仃":"ding","啶":"ding","玎":"ding","腚":"ding","碇":"ding","町":"ding","铤":"ding","疔":"ding","耵":"ding","酊":"ding","东":"dong","冬":"dong","董":"dong","懂":"dong","动":"dong","栋":"dong","侗":"dong","恫":"dong","冻":"dong","洞":"dong","垌":"dong","咚":"dong","岽":"dong","峒":"dong","夂":"dong","氡":"dong","胨":"dong","胴":"dong","硐":"dong","鸫":"dong","兜":"dou","抖":"dou","斗":"dou","陡":"dou","豆":"dou","逗":"dou","痘":"dou","蔸":"dou","钭":"dou","窦":"dou","窬":"dou","蚪":"dou","篼":"dou","酡":"dou","都":"du","督":"du","毒":"du","犊":"du","独":"du","读":"du","堵":"du","睹":"du","赌":"du","杜":"du","镀":"du","肚":"du","度":"du","渡":"du","妒":"du","芏":"du","嘟":"du","渎":"du","椟":"du","橐":"du","牍":"du","蠹":"du","笃":"du","髑":"du","黩":"du","端":"duan","短":"duan","锻":"duan","段":"duan","断":"duan","缎":"duan","彖":"duan","椴":"duan","煅":"duan","簖":"duan","堆":"dui","兑":"dui","队":"dui","对":"dui","怼":"dui","憝":"dui","碓":"dui","墩":"dun","吨":"dun","蹲":"dun","敦":"dun","顿":"dun","囤":"dun","钝":"dun","盾":"dun","遁":"dun","炖":"dun","砘":"dun","礅":"dun","盹":"dun","镦":"dun","趸":"dun","掇":"duo","哆":"duo","多":"duo","夺":"duo","垛":"duo","躲":"duo","朵":"duo","跺":"duo","舵":"duo","剁":"duo","惰":"duo","堕":"duo","咄":"duo","哚":"duo","缍":"duo","柁":"duo","铎":"duo","裰":"duo","踱":"duo","蛾":"e","峨":"e","鹅":"e","俄":"e","额":"e","讹":"e","娥":"e","恶":"e","厄":"e","扼":"e","遏":"e","鄂":"e","饿":"e","噩":"e","谔":"e","垩":"e","垭":"e","苊":"e","莪":"e","萼":"e","呃":"e","愕":"e","屙":"e","婀":"e","轭":"e","曷":"e","腭":"e","硪":"e","锇":"e","锷":"e","鹗":"e","颚":"e","鳄":"e","恩":"en","蒽":"en","摁":"en","唔":"en","嗯":"en","而":"er","儿":"er","耳":"er","尔":"er","饵":"er","洱":"er","二":"er","贰":"er","迩":"er","珥":"er","铒":"er","鸸":"er","鲕":"er","发":"fa","罚":"fa","筏":"fa","伐":"fa","乏":"fa","阀":"fa","法":"fa","珐":"fa","垡":"fa","砝":"fa","藩":"fan","帆":"fan","番":"fan","翻":"fan","樊":"fan","矾":"fan","钒":"fan","繁":"fan","凡":"fan","烦":"fan","反":"fan","返":"fan","范":"fan","贩":"fan","犯":"fan","饭":"fan","泛":"fan","蘩":"fan","幡":"fan","犭":"fan","梵":"fan","攵":"fan","燔":"fan","畈":"fan","蹯":"fan","坊":"fang","芳":"fang","方":"fang","肪":"fang","房":"fang","防":"fang","妨":"fang","仿":"fang","访":"fang","纺":"fang","放":"fang","匚":"fang","邡":"fang","彷":"fang","钫":"fang","舫":"fang","鲂":"fang","菲":"fei","非":"fei","啡":"fei","飞":"fei","肥":"fei","匪":"fei","诽":"fei","吠":"fei","肺":"fei","废":"fei","沸":"fei","费":"fei","芾":"fei","狒":"fei","悱":"fei","淝":"fei","妃":"fei","绋":"fei","绯":"fei","榧":"fei","腓":"fei","斐":"fei","扉":"fei","祓":"fei","砩":"fei","镄":"fei","痱":"fei","蜚":"fei","篚":"fei","翡":"fei","霏":"fei","鲱":"fei","芬":"fen","酚":"fen","吩":"fen","氛":"fen","分":"fen","纷":"fen","坟":"fen","焚":"fen","汾":"fen","粉":"fen","奋":"fen","份":"fen","忿":"fen","愤":"fen","粪":"fen","偾":"fen","瀵":"fen","棼":"fen","愍":"fen","鲼":"fen","鼢":"fen","丰":"feng","封":"feng","枫":"feng","蜂":"feng","峰":"feng","锋":"feng","风":"feng","疯":"feng","烽":"feng","逢":"feng","冯":"feng","缝":"feng","讽":"feng","奉":"feng","凤":"feng","俸":"feng","酆":"feng","葑":"feng","沣":"feng","砜":"feng","佛":"fu","否":"fu","夫":"fu","敷":"fu","肤":"fu","孵":"fu","扶":"fu","拂":"fu","辐":"fu","幅":"fu","氟":"fu","符":"fu","伏":"fu","俘":"fu","服":"fu","浮":"fu","涪":"fu","福":"fu","袱":"fu","弗":"fu","甫":"fu","抚":"fu","辅":"fu","俯":"fu","釜":"fu","斧":"fu","脯":"fu","腑":"fu","府":"fu","腐":"fu","赴":"fu","副":"fu","覆":"fu","赋":"fu","复":"fu","傅":"fu","付":"fu","阜":"fu","父":"fu","腹":"fu","负":"fu","富":"fu","讣":"fu","附":"fu","妇":"fu","缚":"fu","咐":"fu","匐":"fu","凫":"fu","郛":"fu","芙":"fu","苻":"fu","茯":"fu","莩":"fu","菔":"fu","呋":"fu","幞":"fu","滏":"fu","艴":"fu","孚":"fu","驸":"fu","绂":"fu","桴":"fu","赙":"fu","黻":"fu","黼":"fu","罘":"fu","稃":"fu","馥":"fu","虍":"fu","蚨":"fu","蜉":"fu","蝠":"fu","蝮":"fu","麸":"fu","趺":"fu","跗":"fu","鳆":"fu","噶":"ga","嘎":"ga","蛤":"ga","尬":"ga","呷":"ga","尕":"ga","尜":"ga","旮":"ga","钆":"ga","该":"gai","改":"gai","概":"gai","钙":"gai","盖":"gai","溉":"gai","丐":"gai","陔":"gai","垓":"gai","戤":"gai","赅":"gai","胲":"gai","干":"gan","甘":"gan","杆":"gan","柑":"gan","竿":"gan","肝":"gan","赶":"gan","感":"gan","秆":"gan","敢":"gan","赣":"gan","坩":"gan","苷":"gan","尴":"gan","擀":"gan","泔":"gan","淦":"gan","澉":"gan","绀":"gan","橄":"gan","旰":"gan","矸":"gan","疳":"gan","酐":"gan","冈":"gang","刚":"gang","钢":"gang","缸":"gang","肛":"gang","纲":"gang","岗":"gang","港":"gang","戆":"gang","罡":"gang","颃":"gang","筻":"gang","杠":"gong","工":"gong","攻":"gong","功":"gong","恭":"gong","龚":"gong","供":"gong","躬":"gong","公":"gong","宫":"gong","弓":"gong","巩":"gong","汞":"gong","拱":"gong","贡":"gong","共":"gong","蕻":"gong","廾":"gong","咣":"gong","珙":"gong","肱":"gong","蚣":"gong","蛩":"gong","觥":"gong","篙":"gao","皋":"gao","高":"gao","膏":"gao","羔":"gao","糕":"gao","搞":"gao","镐":"gao","稿":"gao","告":"gao","睾":"gao","诰":"gao","郜":"gao","蒿":"gao","藁":"gao","缟":"gao","槔":"gao","槁":"gao","杲":"gao","锆":"gao","哥":"ge","歌":"ge","搁":"ge","戈":"ge","鸽":"ge","胳":"ge","疙":"ge","割":"ge","革":"ge","葛":"ge","格":"ge","阁":"ge","隔":"ge","铬":"ge","个":"ge","各":"ge","鬲":"ge","仡":"ge","哿":"ge","塥":"ge","嗝":"ge","纥":"ge","搿":"ge","膈":"ge","硌":"ge","铪":"ge","镉":"ge","袼":"ge","颌":"ge","虼":"ge","舸":"ge","骼":"ge","髂":"ge","给":"gei","根":"gen","跟":"gen","亘":"gen","茛":"gen","哏":"gen","艮":"gen","耕":"geng","更":"geng","庚":"geng","羹":"geng","埂":"geng","耿":"geng","梗":"geng","哽":"geng","赓":"geng","鲠":"geng","钩":"gou","勾":"gou","沟":"gou","苟":"gou","狗":"gou","垢":"gou","构":"gou","购":"gou","够":"gou","佝":"gou","诟":"gou","岣":"gou","遘":"gou","媾":"gou","缑":"gou","觏":"gou","彀":"gou","鸲":"gou","笱":"gou","篝":"gou","鞲":"gou","辜":"gu","菇":"gu","咕":"gu","箍":"gu","估":"gu","沽":"gu","孤":"gu","姑":"gu","鼓":"gu","古":"gu","蛊":"gu","骨":"gu","谷":"gu","股":"gu","故":"gu","顾":"gu","固":"gu","雇":"gu","嘏":"gu","诂":"gu","菰":"gu","哌":"gu","崮":"gu","汩":"gu","梏":"gu","轱":"gu","牯":"gu","牿":"gu","胍":"gu","臌":"gu","毂":"gu","瞽":"gu","罟":"gu","钴":"gu","锢":"gu","瓠":"gu","鸪":"gu","鹄":"gu","痼":"gu","蛄":"gu","酤":"gu","觚":"gu","鲴":"gu","骰":"gu","鹘":"gu","刮":"gua","瓜":"gua","剐":"gua","寡":"gua","挂":"gua","褂":"gua","卦":"gua","诖":"gua","呱":"gua","栝":"gua","鸹":"gua","乖":"guai","拐":"guai","怪":"guai","哙":"guai","棺":"guan","关":"guan","官":"guan","冠":"guan","观":"guan","管":"guan","馆":"guan","罐":"guan","惯":"guan","灌":"guan","贯":"guan","倌":"guan","莞":"guan","掼":"guan","涫":"guan","盥":"guan","鹳":"guan","鳏":"guan","光":"guang","广":"guang","逛":"guang","犷":"guang","桄":"guang","胱":"guang","疒":"guang","瑰":"gui","规":"gui","圭":"gui","硅":"gui","归":"gui","龟":"gui","闺":"gui","轨":"gui","鬼":"gui","诡":"gui","癸":"gui","桂":"gui","柜":"gui","跪":"gui","贵":"gui","刽":"gui","匦":"gui","刿":"gui","庋":"gui","宄":"gui","妫":"gui","桧":"gui","炅":"gui","晷":"gui","皈":"gui","簋":"gui","鲑":"gui","鳜":"gui","辊":"gun","滚":"gun","棍":"gun","丨":"gun","衮":"gun","绲":"gun","磙":"gun","鲧":"gun","锅":"guo","郭":"guo","国":"guo","果":"guo","裹":"guo","过":"guo","馘":"guo","蠃":"guo","埚":"guo","掴":"guo","呙":"guo","囗":"guo","帼":"guo","崞":"guo","猓":"guo","椁":"guo","虢":"guo","锞":"guo","聒":"guo","蜮":"guo","蜾":"guo","蝈":"guo","哈":"ha","骸":"hai","孩":"hai","海":"hai","氦":"hai","亥":"hai","害":"hai","骇":"hai","咴":"hai","嗨":"hai","颏":"hai","醢":"hai","酣":"han","憨":"han","邯":"han","韩":"han","含":"han","涵":"han","寒":"han","函":"han","喊":"han","罕":"han","翰":"han","撼":"han","捍":"han","旱":"han","憾":"han","悍":"han","焊":"han","汗":"han","汉":"han","邗":"han","菡":"han","撖":"han","阚":"han","瀚":"han","晗":"han","焓":"han","颔":"han","蚶":"han","鼾":"han","夯":"hen","痕":"hen","很":"hen","狠":"hen","恨":"hen","杭":"hang","航":"hang","沆":"hang","绗":"hang","珩":"hang","桁":"hang","壕":"hao","嚎":"hao","豪":"hao","毫":"hao","郝":"hao","好":"hao","耗":"hao","号":"hao","浩":"hao","薅":"hao","嗥":"hao","嚆":"hao","濠":"hao","灏":"hao","昊":"hao","皓":"hao","颢":"hao","蚝":"hao","呵":"he","喝":"he","荷":"he","菏":"he","核":"he","禾":"he","和":"he","何":"he","合":"he","盒":"he","貉":"he","阂":"he","河":"he","涸":"he","赫":"he","褐":"he","鹤":"he","贺":"he","诃":"he","劾":"he","壑":"he","藿":"he","嗑":"he","嗬":"he","阖":"he","盍":"he","蚵":"he","翮":"he","嘿":"hei","黑":"hei","哼":"heng","亨":"heng","横":"heng","衡":"heng","恒":"heng","訇":"heng","蘅":"heng","轰":"hong","哄":"hong","烘":"hong","虹":"hong","鸿":"hong","洪":"hong","宏":"hong","弘":"hong","红":"hong","黉":"hong","讧":"hong","荭":"hong","薨":"hong","闳":"hong","泓":"hong","喉":"hou","侯":"hou","猴":"hou","吼":"hou","厚":"hou","候":"hou","后":"hou","堠":"hou","後":"hou","逅":"hou","瘊":"hou","篌":"hou","糇":"hou","鲎":"hou","骺":"hou","呼":"hu","乎":"hu","忽":"hu","瑚":"hu","壶":"hu","葫":"hu","胡":"hu","蝴":"hu","狐":"hu","糊":"hu","湖":"hu","弧":"hu","虎":"hu","唬":"hu","护":"hu","互":"hu","沪":"hu","户":"hu","冱":"hu","唿":"hu","囫":"hu","岵":"hu","猢":"hu","怙":"hu","惚":"hu","浒":"hu","滹":"hu","琥":"hu","槲":"hu","轷":"hu","觳":"hu","烀":"hu","煳":"hu","戽":"hu","扈":"hu","祜":"hu","鹕":"hu","鹱":"hu","笏":"hu","醐":"hu","斛":"hu","花":"hua","哗":"hua","华":"hua","猾":"hua","滑":"hua","画":"hua","划":"hua","化":"hua","话":"hua","劐":"hua","浍":"hua","骅":"hua","桦":"hua","铧":"hua","稞":"hua","槐":"huai","徊":"huai","怀":"huai","淮":"huai","坏":"huai","还":"huai","踝":"huai","欢":"huan","环":"huan","桓":"huan","缓":"huan","换":"huan","患":"huan","唤":"huan","痪":"huan","豢":"huan","焕":"huan","涣":"huan","宦":"huan","幻":"huan","郇":"huan","奂":"huan","垸":"huan","擐":"huan","圜":"huan","洹":"huan","浣":"huan","漶":"huan","寰":"huan","逭":"huan","缳":"huan","锾":"huan","鲩":"huan","鬟":"huan","荒":"huang","慌":"huang","黄":"huang","磺":"huang","蝗":"huang","簧":"huang","皇":"huang","凰":"huang","惶":"huang","煌":"huang","晃":"huang","幌":"huang","恍":"huang","谎":"huang","隍":"huang","徨":"huang","湟":"huang","潢":"huang","遑":"huang","璜":"huang","肓":"huang","癀":"huang","蟥":"huang","篁":"huang","鳇":"huang","灰":"hui","挥":"hui","辉":"hui","徽":"hui","恢":"hui","蛔":"hui","回":"hui","毁":"hui","悔":"hui","慧":"hui","卉":"hui","惠":"hui","晦":"hui","贿":"hui","秽":"hui","会":"hui","烩":"hui","汇":"hui","讳":"hui","诲":"hui","绘":"hui","诙":"hui","茴":"hui","荟":"hui","蕙":"hui","哕":"hui","喙":"hui","隳":"hui","洄":"hui","彗":"hui","缋":"hui","珲":"hui","晖":"hui","恚":"hui","虺":"hui","蟪":"hui","麾":"hui","荤":"hun","昏":"hun","婚":"hun","魂":"hun","浑":"hun","混":"hun","诨":"hun","馄":"hun","阍":"hun","溷":"hun","缗":"hun","豁":"huo","活":"huo","伙":"huo","火":"huo","获":"huo","或":"huo","惑":"huo","霍":"huo","货":"huo","祸":"huo","攉":"huo","嚯":"huo","夥":"huo","钬":"huo","锪":"huo","镬":"huo","耠":"huo","蠖":"huo","击":"ji","圾":"ji","基":"ji","机":"ji","畸":"ji","稽":"ji","积":"ji","箕":"ji","肌":"ji","饥":"ji","迹":"ji","激":"ji","讥":"ji","鸡":"ji","姬":"ji","绩":"ji","缉":"ji","吉":"ji","极":"ji","棘":"ji","辑":"ji","籍":"ji","集":"ji","及":"ji","急":"ji","疾":"ji","汲":"ji","即":"ji","嫉":"ji","级":"ji","挤":"ji","几":"ji","脊":"ji","己":"ji","蓟":"ji","技":"ji","冀":"ji","季":"ji","伎":"ji","祭":"ji","剂":"ji","悸":"ji","济":"ji","寄":"ji","寂":"ji","计":"ji","记":"ji","既":"ji","忌":"ji","际":"ji","妓":"ji","继":"ji","纪":"ji","居":"ji","丌":"ji","乩":"ji","剞":"ji","佶":"ji","佴":"ji","脔":"ji","墼":"ji","芨":"ji","芰":"ji","萁":"ji","蒺":"ji","蕺":"ji","掎":"ji","叽":"ji","咭":"ji","哜":"ji","唧":"ji","岌":"ji","嵴":"ji","洎":"ji","彐":"ji","屐":"ji","骥":"ji","畿":"ji","玑":"ji","楫":"ji","殛":"ji","戟":"ji","戢":"ji","赍":"ji","觊":"ji","犄":"ji","齑":"ji","矶":"ji","羁":"ji","嵇":"ji","稷":"ji","瘠":"ji","瘵":"ji","虮":"ji","笈":"ji","笄":"ji","暨":"ji","跻":"ji","跽":"ji","霁":"ji","鲚":"ji","鲫":"ji","髻":"ji","麂":"ji","嘉":"jia","枷":"jia","夹":"jia","佳":"jia","家":"jia","加":"jia","荚":"jia","颊":"jia","贾":"jia","甲":"jia","钾":"jia","假":"jia","稼":"jia","价":"jia","架":"jia","驾":"jia","嫁":"jia","伽":"jia","郏":"jia","拮":"jia","岬":"jia","浃":"jia","迦":"jia","珈":"jia","戛":"jia","胛":"jia","恝":"jia","铗":"jia","镓":"jia","痂":"jia","蛱":"jia","笳":"jia","袈":"jia","跏":"jia","歼":"jian","监":"jian","坚":"jian","尖":"jian","笺":"jian","间":"jian","煎":"jian","兼":"jian","肩":"jian","艰":"jian","奸":"jian","缄":"jian","茧":"jian","检":"jian","柬":"jian","碱":"jian","硷":"jian","拣":"jian","捡":"jian","简":"jian","俭":"jian","剪":"jian","减":"jian","荐":"jian","槛":"jian","鉴":"jian","践":"jian","贱":"jian","见":"jian","键":"jian","箭":"jian","件":"jian","健":"jian","舰":"jian","剑":"jian","饯":"jian","渐":"jian","溅":"jian","涧":"jian","建":"jian","僭":"jian","谏":"jian","谫":"jian","菅":"jian","蒹":"jian","搛":"jian","囝":"jian","湔":"jian","蹇":"jian","謇":"jian","缣":"jian","枧":"jian","柙":"jian","楗":"jian","戋":"jian","戬":"jian","牮":"jian","犍":"jian","毽":"jian","腱":"jian","睑":"jian","锏":"jian","鹣":"jian","裥":"jian","笕":"jian","箴":"jian","翦":"jian","趼":"jian","踺":"jian","鲣":"jian","鞯":"jian","僵":"jiang","姜":"jiang","将":"jiang","浆":"jiang","江":"jiang","疆":"jiang","蒋":"jiang","桨":"jiang","奖":"jiang","讲":"jiang","匠":"jiang","酱":"jiang","降":"jiang","茳":"jiang","洚":"jiang","绛":"jiang","缰":"jiang","犟":"jiang","礓":"jiang","耩":"jiang","糨":"jiang","豇":"jiang","蕉":"jiao","椒":"jiao","礁":"jiao","焦":"jiao","胶":"jiao","交":"jiao","郊":"jiao","浇":"jiao","骄":"jiao","娇":"jiao","嚼":"jiao","搅":"jiao","铰":"jiao","矫":"jiao","侥":"jiao","脚":"jiao","狡":"jiao","角":"jiao","饺":"jiao","缴":"jiao","绞":"jiao","剿":"jiao","教":"jiao","酵":"jiao","轿":"jiao","较":"jiao","叫":"jiao","佼":"jiao","僬":"jiao","茭":"jiao","挢":"jiao","噍":"jiao","峤":"jiao","徼":"jiao","姣":"jiao","纟":"jiao","敫":"jiao","皎":"jiao","鹪":"jiao","蛟":"jiao","醮":"jiao","跤":"jiao","鲛":"jiao","窖":"jie","揭":"jie","接":"jie","皆":"jie","秸":"jie","街":"jie","阶":"jie","截":"jie","劫":"jie","节":"jie","桔":"jie","杰":"jie","捷":"jie","睫":"jie","竭":"jie","洁":"jie","结":"jie","解":"jie","姐":"jie","戒":"jie","藉":"jie","芥":"jie","界":"jie","借":"jie","介":"jie","疥":"jie","诫":"jie","届":"jie","偈":"jie","讦":"jie","诘":"jie","喈":"jie","嗟":"jie","獬":"jie","婕":"jie","孑":"jie","桀":"jie","獒":"jie","碣":"jie","锴":"jie","疖":"jie","袷":"jie","颉":"jie","蚧":"jie","羯":"jie","鲒":"jie","骱":"jie","髫":"jie","巾":"jin","筋":"jin","斤":"jin","金":"jin","今":"jin","津":"jin","襟":"jin","紧":"jin","锦":"jin","仅":"jin","谨":"jin","进":"jin","靳":"jin","晋":"jin","禁":"jin","近":"jin","烬":"jin","浸":"jin","尽":"jin","卺":"jin","荩":"jin","堇":"jin","噤":"jin","馑":"jin","廑":"jin","妗":"jin","缙":"jin","瑾":"jin","槿":"jin","赆":"jin","觐":"jin","钅":"jin","锓":"jin","衿":"jin","矜":"jin","劲":"jing","荆":"jing","兢":"jing","茎":"jing","睛":"jing","晶":"jing","鲸":"jing","京":"jing","惊":"jing","精":"jing","粳":"jing","经":"jing","井":"jing","警":"jing","景":"jing","颈":"jing","静":"jing","境":"jing","敬":"jing","镜":"jing","径":"jing","痉":"jing","靖":"jing","竟":"jing","竞":"jing","净":"jing","刭":"jing","儆":"jing","阱":"jing","菁":"jing","獍":"jing","憬":"jing","泾":"jing","迳":"jing","弪":"jing","婧":"jing","肼":"jing","胫":"jing","腈":"jing","旌":"jing","炯":"jiong","窘":"jiong","冂":"jiong","迥":"jiong","扃":"jiong","揪":"jiu","究":"jiu","纠":"jiu","玖":"jiu","韭":"jiu","久":"jiu","灸":"jiu","九":"jiu","酒":"jiu","厩":"jiu","救":"jiu","旧":"jiu","臼":"jiu","舅":"jiu","咎":"jiu","就":"jiu","疚":"jiu","僦":"jiu","啾":"jiu","阄":"jiu","柩":"jiu","桕":"jiu","鹫":"jiu","赳":"jiu","鬏":"jiu","鞠":"ju","拘":"ju","狙":"ju","疽":"ju","驹":"ju","菊":"ju","局":"ju","咀":"ju","矩":"ju","举":"ju","沮":"ju","聚":"ju","拒":"ju","据":"ju","巨":"ju","具":"ju","距":"ju","踞":"ju","锯":"ju","俱":"ju","句":"ju","惧":"ju","炬":"ju","剧":"ju","倨":"ju","讵":"ju","苣":"ju","苴":"ju","莒":"ju","掬":"ju","遽":"ju","屦":"ju","琚":"ju","枸":"ju","椐":"ju","榘":"ju","榉":"ju","橘":"ju","犋":"ju","飓":"ju","钜":"ju","锔":"ju","窭":"ju","裾":"ju","趄":"ju","醵":"ju","踽":"ju","龃":"ju","雎":"ju","鞫":"ju","捐":"juan","鹃":"juan","娟":"juan","倦":"juan","眷":"juan","卷":"juan","绢":"juan","鄄":"juan","狷":"juan","涓":"juan","桊":"juan","蠲":"juan","锩":"juan","镌":"juan","隽":"juan","撅":"jue","攫":"jue","抉":"jue","掘":"jue","倔":"jue","爵":"jue","觉":"jue","决":"jue","诀":"jue","绝":"jue","厥":"jue","劂":"jue","谲":"jue","矍":"jue","蕨":"jue","噘":"jue","崛":"jue","獗":"jue","孓":"jue","珏":"jue","桷":"jue","橛":"jue","爝":"jue","镢":"jue","蹶":"jue","觖":"jue","均":"jun","菌":"jun","钧":"jun","军":"jun","君":"jun","峻":"jun","俊":"jun","竣":"jun","浚":"jun","郡":"jun","骏":"jun","捃":"jun","狻":"jun","皲":"jun","筠":"jun","麇":"jun","喀":"ka","咖":"ka","卡":"ka","佧":"ka","咔":"ka","胩":"ka","咯":"ke","坷":"ke","苛":"ke","柯":"ke","棵":"ke","磕":"ke","颗":"ke","科":"ke","壳":"ke","咳":"ke","可":"ke","渴":"ke","克":"ke","刻":"ke","客":"ke","课":"ke","岢":"ke","恪":"ke","溘":"ke","骒":"ke","缂":"ke","珂":"ke","轲":"ke","氪":"ke","瞌":"ke","钶":"ke","疴":"ke","窠":"ke","蝌":"ke","髁":"ke","开":"kai","揩":"kai","楷":"kai","凯":"kai","慨":"kai","剀":"kai","垲":"kai","蒈":"kai","忾":"kai","恺":"kai","铠":"kai","锎":"kai","刊":"kan","堪":"kan","勘":"kan","坎":"kan","砍":"kan","看":"kan","侃":"kan","凵":"kan","莰":"kan","莶":"kan","戡":"kan","龛":"kan","瞰":"kan","康":"kang","慷":"kang","糠":"kang","扛":"kang","抗":"kang","亢":"kang","炕":"kang","坑":"kang","伉":"kang","闶":"kang","钪":"kang","考":"kao","拷":"kao","烤":"kao","靠":"kao","尻":"kao","栲":"kao","犒":"kao","铐":"kao","肯":"ken","啃":"ken","垦":"ken","恳":"ken","垠":"ken","裉":"ken","颀":"ken","吭":"keng","忐":"keng","铿":"keng","空":"kong","恐":"kong","孔":"kong","控":"kong","倥":"kong","崆":"kong","箜":"kong","抠":"kou","口":"kou","扣":"kou","寇":"kou","芤":"kou","蔻":"kou","叩":"kou","眍":"kou","筘":"kou","枯":"ku","哭":"ku","窟":"ku","苦":"ku","酷":"ku","库":"ku","裤":"ku","刳":"ku","堀":"ku","喾":"ku","绔":"ku","骷":"ku","夸":"kua","垮":"kua","挎":"kua","跨":"kua","胯":"kua","侉":"kua","块":"kuai","筷":"kuai","侩":"kuai","快":"kuai","蒯":"kuai","郐":"kuai","蒉":"kuai","狯":"kuai","脍":"kuai","宽":"kuan","款":"kuan","髋":"kuan","匡":"kuang","筐":"kuang","狂":"kuang","框":"kuang","矿":"kuang","眶":"kuang","旷":"kuang","况":"kuang","诓":"kuang","诳":"kuang","邝":"kuang","圹":"kuang","夼":"kuang","哐":"kuang","纩":"kuang","贶":"kuang","亏":"kui","盔":"kui","岿":"kui","窥":"kui","葵":"kui","奎":"kui","魁":"kui","傀":"kui","馈":"kui","愧":"kui","溃":"kui","馗":"kui","匮":"kui","夔":"kui","隗":"kui","揆":"kui","喹":"kui","喟":"kui","悝":"kui","愦":"kui","阕":"kui","逵":"kui","暌":"kui","睽":"kui","聩":"kui","蝰":"kui","篑":"kui","臾":"kui","跬":"kui","坤":"kun","昆":"kun","捆":"kun","困":"kun","悃":"kun","阃":"kun","琨":"kun","锟":"kun","醌":"kun","鲲":"kun","髡":"kun","括":"kuo","扩":"kuo","廓":"kuo","阔":"kuo","蛞":"kuo","垃":"la","拉":"la","喇":"la","蜡":"la","腊":"la","辣":"la","啦":"la","剌":"la","摺":"la","邋":"la","旯":"la","砬":"la","瘌":"la","莱":"lai","来":"lai","赖":"lai","崃":"lai","徕":"lai","涞":"lai","濑":"lai","赉":"lai","睐":"lai","铼":"lai","癞":"lai","籁":"lai","蓝":"lan","婪":"lan","栏":"lan","拦":"lan","篮":"lan","阑":"lan","兰":"lan","澜":"lan","谰":"lan","揽":"lan","览":"lan","懒":"lan","缆":"lan","烂":"lan","滥":"lan","啉":"lan","岚":"lan","懔":"lan","漤":"lan","榄":"lan","斓":"lan","罱":"lan","镧":"lan","褴":"lan","琅":"lang","榔":"lang","狼":"lang","廊":"lang","郎":"lang","朗":"lang","浪":"lang","莨":"lang","蒗":"lang","啷":"lang","阆":"lang","锒":"lang","稂":"lang","螂":"lang","捞":"lao","劳":"lao","牢":"lao","老":"lao","佬":"lao","姥":"lao","酪":"lao","烙":"lao","涝":"lao","唠":"lao","崂":"lao","栳":"lao","铑":"lao","铹":"lao","痨":"lao","醪":"lao","勒":"le","乐":"le","肋":"le","仂":"le","叻":"le","嘞":"le","泐":"le","鳓":"le","雷":"lei","镭":"lei","蕾":"lei","磊":"lei","累":"lei","儡":"lei","垒":"lei","擂":"lei","类":"lei","泪":"lei","羸":"lei","诔":"lei","荽":"lei","咧":"lei","漯":"lei","嫘":"lei","缧":"lei","檑":"lei","耒":"lei","酹":"lei","棱":"ling","冷":"ling","拎":"ling","玲":"ling","菱":"ling","零":"ling","龄":"ling","铃":"ling","伶":"ling","羚":"ling","凌":"ling","灵":"ling","陵":"ling","岭":"ling","领":"ling","另":"ling","令":"ling","酃":"ling","塄":"ling","苓":"ling","呤":"ling","囹":"ling","泠":"ling","绫":"ling","柃":"ling","棂":"ling","瓴":"ling","聆":"ling","蛉":"ling","翎":"ling","鲮":"ling","楞":"leng","愣":"leng","厘":"li","梨":"li","犁":"li","黎":"li","篱":"li","狸":"li","离":"li","漓":"li","理":"li","李":"li","里":"li","鲤":"li","礼":"li","莉":"li","荔":"li","吏":"li","栗":"li","丽":"li","厉":"li","励":"li","砾":"li","历":"li","利":"li","傈":"li","例":"li","俐":"li","痢":"li","立":"li","粒":"li","沥":"li","隶":"li","力":"li","璃":"li","哩":"li","俪":"li","俚":"li","郦":"li","坜":"li","苈":"li","莅":"li","蓠":"li","藜":"li","捩":"li","呖":"li","唳":"li","喱":"li","猁":"li","溧":"li","澧":"li","逦":"li","娌":"li","嫠":"li","骊":"li","缡":"li","珞":"li","枥":"li","栎":"li","轹":"li","戾":"li","砺":"li","詈":"li","罹":"li","锂":"li","鹂":"li","疠":"li","疬":"li","蛎":"li","蜊":"li","蠡":"li","笠":"li","篥":"li","粝":"li","醴":"li","跞":"li","雳":"li","鲡":"li","鳢":"li","黧":"li","俩":"lian","联":"lian","莲":"lian","连":"lian","镰":"lian","廉":"lian","怜":"lian","涟":"lian","帘":"lian","敛":"lian","脸":"lian","链":"lian","恋":"lian","炼":"lian","练":"lian","挛":"lian","蔹":"lian","奁":"lian","潋":"lian","濂":"lian","娈":"lian","琏":"lian","楝":"lian","殓":"lian","臁":"lian","膦":"lian","裢":"lian","蠊":"lian","鲢":"lian","粮":"liang","凉":"liang","梁":"liang","粱":"liang","良":"liang","两":"liang","辆":"liang","量":"liang","晾":"liang","亮":"liang","谅":"liang","墚":"liang","椋":"liang","踉":"liang","靓":"liang","魉":"liang","撩":"liao","聊":"liao","僚":"liao","疗":"liao","燎":"liao","寥":"liao","辽":"liao","潦":"liao","了":"liao","撂":"liao","镣":"liao","廖":"liao","料":"liao","蓼":"liao","尥":"liao","嘹":"liao","獠":"liao","寮":"liao","缭":"liao","钌":"liao","鹩":"liao","耢":"liao","列":"lie","裂":"lie","烈":"lie","劣":"lie","猎":"lie","冽":"lie","埒":"lie","洌":"lie","趔":"lie","躐":"lie","鬣":"lie","琳":"lin","林":"lin","磷":"lin","霖":"lin","临":"lin","邻":"lin","鳞":"lin","淋":"lin","凛":"lin","赁":"lin","吝":"lin","蔺":"lin","嶙":"lin","廪":"lin","遴":"lin","檩":"lin","辚":"lin","瞵":"lin","粼":"lin","躏":"lin","麟":"lin","溜":"liu","琉":"liu","榴":"liu","硫":"liu","馏":"liu","留":"liu","刘":"liu","瘤":"liu","流":"liu","柳":"liu","六":"liu","抡":"liu","偻":"liu","蒌":"liu","泖":"liu","浏":"liu","遛":"liu","骝":"liu","绺":"liu","旒":"liu","熘":"liu","锍":"liu","镏":"liu","鹨":"liu","鎏":"liu","龙":"long","聋":"long","咙":"long","笼":"long","窿":"long","隆":"long","垄":"long","拢":"long","陇":"long","弄":"long","垅":"long","茏":"long","泷":"long","珑":"long","栊":"long","胧":"long","砻":"long","癃":"long","楼":"lou","娄":"lou","搂":"lou","篓":"lou","漏":"lou","陋":"lou","喽":"lou","嵝":"lou","镂":"lou","瘘":"lou","耧":"lou","蝼":"lou","髅":"lou","芦":"lu","卢":"lu","颅":"lu","庐":"lu","炉":"lu","掳":"lu","卤":"lu","虏":"lu","鲁":"lu","麓":"lu","碌":"lu","露":"lu","路":"lu","赂":"lu","鹿":"lu","潞":"lu","禄":"lu","录":"lu","陆":"lu","戮":"lu","垆":"lu","摅":"lu","撸":"lu","噜":"lu","泸":"lu","渌":"lu","漉":"lu","璐":"lu","栌":"lu","橹":"lu","轳":"lu","辂":"lu","辘":"lu","氇":"lu","胪":"lu","镥":"lu","鸬":"lu","鹭":"lu","簏":"lu","舻":"lu","鲈":"lu","驴":"lv","吕":"lv","铝":"lv","侣":"lv","旅":"lv","履":"lv","屡":"lv","缕":"lv","虑":"lv","氯":"lv","律":"lv","率":"lv","滤":"lv","绿":"lv","捋":"lv","闾":"lv","榈":"lv","膂":"lv","稆":"lv","褛":"lv","峦":"luan","孪":"luan","滦":"luan","卵":"luan","乱":"luan","栾":"luan","鸾":"luan","銮":"luan","掠":"lue","略":"lue","锊":"lue","轮":"lun","伦":"lun","仑":"lun","沦":"lun","纶":"lun","论":"lun","囵":"lun","萝":"luo","螺":"luo","罗":"luo","逻":"luo","锣":"luo","箩":"luo","骡":"luo","裸":"luo","落":"luo","洛":"luo","骆":"luo","络":"luo","倮":"luo","荦":"luo","摞":"luo","猡":"luo","泺":"luo","椤":"luo","脶":"luo","镙":"luo","瘰":"luo","雒":"luo","妈":"ma","麻":"ma","玛":"ma","码":"ma","蚂":"ma","马":"ma","骂":"ma","嘛":"ma","吗":"ma","唛":"ma","犸":"ma","嬷":"ma","杩":"ma","麽":"ma","埋":"mai","买":"mai","麦":"mai","卖":"mai","迈":"mai","脉":"mai","劢":"mai","荬":"mai","咪":"mai","霾":"mai","瞒":"man","馒":"man","蛮":"man","满":"man","蔓":"man","曼":"man","慢":"man","漫":"man","谩":"man","墁":"man","幔":"man","缦":"man","熳":"man","镘":"man","颟":"man","螨":"man","鳗":"man","鞔":"man","芒":"mang","茫":"mang","盲":"mang","忙":"mang","莽":"mang","邙":"mang","漭":"mang","朦":"mang","硭":"mang","蟒":"mang","氓":"meng","萌":"meng","蒙":"meng","檬":"meng","盟":"meng","锰":"meng","猛":"meng","梦":"meng","孟":"meng","勐":"meng","甍":"meng","瞢":"meng","懵":"meng","礞":"meng","虻":"meng","蜢":"meng","蠓":"meng","艋":"meng","艨":"meng","黾":"meng","猫":"miao","苗":"miao","描":"miao","瞄":"miao","藐":"miao","秒":"miao","渺":"miao","庙":"miao","妙":"miao","喵":"miao","邈":"miao","缈":"miao","缪":"miao","杪":"miao","淼":"miao","眇":"miao","鹋":"miao","蜱":"miao","茅":"mao","锚":"mao","毛":"mao","矛":"mao","铆":"mao","卯":"mao","茂":"mao","冒":"mao","帽":"mao","貌":"mao","贸":"mao","侔":"mao","袤":"mao","勖":"mao","茆":"mao","峁":"mao","瑁":"mao","昴":"mao","牦":"mao","耄":"mao","旄":"mao","懋":"mao","瞀":"mao","蛑":"mao","蝥":"mao","蟊":"mao","髦":"mao","么":"me","玫":"mei","枚":"mei","梅":"mei","酶":"mei","霉":"mei","煤":"mei","没":"mei","眉":"mei","媒":"mei","镁":"mei","每":"mei","美":"mei","昧":"mei","寐":"mei","妹":"mei","媚":"mei","坶":"mei","莓":"mei","嵋":"mei","猸":"mei","浼":"mei","湄":"mei","楣":"mei","镅":"mei","鹛":"mei","袂":"mei","魅":"mei","门":"men","闷":"men","们":"men","扪":"men","玟":"men","焖":"men","懑":"men","钔":"men","眯":"mi","醚":"mi","靡":"mi","糜":"mi","迷":"mi","谜":"mi","弥":"mi","米":"mi","秘":"mi","觅":"mi","泌":"mi","蜜":"mi","密":"mi","幂":"mi","芈":"mi","冖":"mi","谧":"mi","蘼":"mi","嘧":"mi","猕":"mi","獯":"mi","汨":"mi","宓":"mi","弭":"mi","脒":"mi","敉":"mi","糸":"mi","縻":"mi","麋":"mi","棉":"mian","眠":"mian","绵":"mian","冕":"mian","免":"mian","勉":"mian","娩":"mian","缅":"mian","面":"mian","沔":"mian","湎":"mian","腼":"mian","眄":"mian","蔑":"mie","灭":"mie","咩":"mie","蠛":"mie","篾":"mie","民":"min","抿":"min","皿":"min","敏":"min","悯":"min","闽":"min","苠":"min","岷":"min","闵":"min","泯":"min","珉":"min","明":"ming","螟":"ming","鸣":"ming","铭":"ming","名":"ming","命":"ming","冥":"ming","茗":"ming","溟":"ming","暝":"ming","瞑":"ming","酩":"ming","谬":"miu","摸":"mo","摹":"mo","蘑":"mo","模":"mo","膜":"mo","磨":"mo","摩":"mo","魔":"mo","抹":"mo","末":"mo","莫":"mo","墨":"mo","默":"mo","沫":"mo","漠":"mo","寞":"mo","陌":"mo","谟":"mo","茉":"mo","蓦":"mo","馍":"mo","嫫":"mo","镆":"mo","秣":"mo","瘼":"mo","耱":"mo","蟆":"mo","貊":"mo","貘":"mo","谋":"mou","牟":"mou","某":"mou","厶":"mou","哞":"mou","婺":"mou","眸":"mou","鍪":"mou","拇":"mu","牡":"mu","亩":"mu","姆":"mu","母":"mu","墓":"mu","暮":"mu","幕":"mu","募":"mu","慕":"mu","木":"mu","目":"mu","睦":"mu","牧":"mu","穆":"mu","仫":"mu","苜":"mu","呒":"mu","沐":"mu","毪":"mu","钼":"mu","拿":"na","哪":"na","呐":"na","钠":"na","那":"na","娜":"na","纳":"na","内":"na","捺":"na","肭":"na","镎":"na","衲":"na","箬":"na","氖":"nai","乃":"nai","奶":"nai","耐":"nai","奈":"nai","鼐":"nai","艿":"nai","萘":"nai","柰":"nai","南":"nan","男":"nan","难":"nan","囊":"nan","喃":"nan","囡":"nan","楠":"nan","腩":"nan","蝻":"nan","赧":"nan","挠":"nao","脑":"nao","恼":"nao","闹":"nao","孬":"nao","垴":"nao","猱":"nao","瑙":"nao","硇":"nao","铙":"nao","蛲":"nao","淖":"ne","呢":"ne","讷":"ne","馁":"nei","嫩":"nen","能":"neng","枘":"nen","恁":"nen","妮":"ni","霓":"ni","倪":"ni","泥":"ni","尼":"ni","拟":"ni","你":"ni","匿":"ni","腻":"ni","逆":"ni","溺":"ni","伲":"ni","坭":"ni","猊":"ni","怩":"ni","滠":"ni","昵":"ni","旎":"ni","祢":"ni","慝":"ni","睨":"ni","铌":"ni","鲵":"ni","蔫":"nian","拈":"nian","年":"nian","碾":"nian","撵":"nian","捻":"nian","念":"nian","廿":"nian","辇":"nian","黏":"nian","鲇":"nian","鲶":"nian","娘":"niang","酿":"niang","鸟":"niao","尿":"niao","茑":"niao","嬲":"niao","脲":"niao","袅":"niao","捏":"nie","聂":"nie","孽":"nie","啮":"nie","镊":"nie","镍":"nie","涅":"nie","乜":"nie","陧":"nie","蘖":"nie","嗫":"nie","肀":"nie","颞":"nie","臬":"nie","蹑":"nie","您":"nin","柠":"nin","狞":"ning","凝":"ning","宁":"ning","拧":"ning","泞":"ning","佞":"ning","蓥":"ning","咛":"ning","甯":"ning","聍":"ning","牛":"niu","扭":"niu","钮":"niu","纽":"niu","狃":"niu","忸":"niu","妞":"niu","蚴":"niu","脓":"nong","浓":"nong","农":"nong","侬":"nong","奴":"nu","努":"nu","怒":"nu","呶":"nu","帑":"nu","弩":"nu","胬":"nu","孥":"nu","驽":"nu","女":"nv","恧":"nv","钕":"nv","衄":"nv","暖":"nuan","虐":"nuenue","疟":"nue","谑":"nue","挪":"nuo","懦":"nuo","糯":"nuo","诺":"nuo","傩":"nuo","搦":"nuo","喏":"nuo","锘":"nuo","哦":"ou","欧":"ou","鸥":"ou","殴":"ou","藕":"ou","呕":"ou","偶":"ou","沤":"ou","怄":"ou","瓯":"ou","耦":"ou","啪":"pa","趴":"pa","爬":"pa","帕":"pa","怕":"pa","琶":"pa","葩":"pa","筢":"pa","拍":"pai","排":"pai","牌":"pai","徘":"pai","湃":"pai","派":"pai","俳":"pai","蒎":"pai","攀":"pan","潘":"pan","盘":"pan","磐":"pan","盼":"pan","畔":"pan","判":"pan","叛":"pan","爿":"pan","泮":"pan","袢":"pan","襻":"pan","蟠":"pan","蹒":"pan","乓":"pang","庞":"pang","旁":"pang","耪":"pang","胖":"pang","滂":"pang","逄":"pang","抛":"pao","咆":"pao","刨":"pao","炮":"pao","袍":"pao","跑":"pao","泡":"pao","匏":"pao","狍":"pao","庖":"pao","脬":"pao","疱":"pao","呸":"pei","胚":"pei","培":"pei","裴":"pei","赔":"pei","陪":"pei","配":"pei","佩":"pei","沛":"pei","掊":"pei","辔":"pei","帔":"pei","淠":"pei","旆":"pei","锫":"pei","醅":"pei","霈":"pei","喷":"pen","盆":"pen","湓":"pen","砰":"peng","抨":"peng","烹":"peng","澎":"peng","彭":"peng","蓬":"peng","棚":"peng","硼":"peng","篷":"peng","膨":"peng","朋":"peng","鹏":"peng","捧":"peng","碰":"peng","坯":"peng","堋":"peng","嘭":"peng","怦":"peng","蟛":"peng","砒":"pi","霹":"pi","批":"pi","披":"pi","劈":"pi","琵":"pi","毗":"pi","啤":"pi","脾":"pi","疲":"pi","皮":"pi","匹":"pi","痞":"pi","僻":"pi","屁":"pi","譬":"pi","丕":"pi","陴":"pi","邳":"pi","郫":"pi","圮":"pi","鼙":"pi","擗":"pi","噼":"pi","庀":"pi","媲":"pi","纰":"pi","枇":"pi","甓":"pi","睥":"pi","罴":"pi","铍":"pi","痦":"pi","癖":"pi","疋":"pi","蚍":"pi","貔":"pi","篇":"pian","偏":"pian","片":"pian","骗":"pian","谝":"pian","骈":"pian","犏":"pian","胼":"pian","褊":"pian","翩":"pian","蹁":"pian","飘":"piao","漂":"piao","瓢":"piao","票":"piao","剽":"piao","嘌":"piao","嫖":"piao","缥":"piao","殍":"piao","瞟":"piao","螵":"piao","撇":"pie","瞥":"pie","丿":"pie","苤":"pie","氕":"pie","拼":"pin","频":"pin","贫":"pin","品":"pin","聘":"pin","拚":"pin","姘":"pin","嫔":"pin","榀":"pin","牝":"pin","颦":"pin","乒":"ping","坪":"ping","苹":"ping","萍":"ping","平":"ping","凭":"ping","瓶":"ping","评":"ping","屏":"ping","俜":"ping","娉":"ping","枰":"ping","鲆":"ping","坡":"po","泼":"po","颇":"po","婆":"po","破":"po","魄":"po","迫":"po","粕":"po","叵":"po","鄱":"po","溥":"po","珀":"po","钋":"po","钷":"po","皤":"po","笸":"po","剖":"pou","裒":"pou","踣":"pou","扑":"pu","铺":"pu","仆":"pu","莆":"pu","葡":"pu","菩":"pu","蒲":"pu","埔":"pu","朴":"pu","圃":"pu","普":"pu","浦":"pu","谱":"pu","曝":"pu","瀑":"pu","匍":"pu","噗":"pu","濮":"pu","璞":"pu","氆":"pu","镤":"pu","镨":"pu","蹼":"pu","期":"qi","欺":"qi","栖":"qi","戚":"qi","妻":"qi","七":"qi","凄":"qi","漆":"qi","柒":"qi","沏":"qi","其":"qi","棋":"qi","奇":"qi","歧":"qi","畦":"qi","崎":"qi","脐":"qi","齐":"qi","旗":"qi","祈":"qi","祁":"qi","骑":"qi","起":"qi","岂":"qi","乞":"qi","企":"qi","启":"qi","契":"qi","砌":"qi","器":"qi","气":"qi","迄":"qi","弃":"qi","汽":"qi","泣":"qi","讫":"qi","亟":"qi","亓":"qi","圻":"qi","芑":"qi","萋":"qi","葺":"qi","嘁":"qi","屺":"qi","岐":"qi","汔":"qi","淇":"qi","骐":"qi","绮":"qi","琪":"qi","琦":"qi","杞":"qi","桤":"qi","槭":"qi","欹":"qi","祺":"qi","憩":"qi","碛":"qi","蛴":"qi","蜞":"qi","綦":"qi","綮":"qi","趿":"qi","蹊":"qi","鳍":"qi","麒":"qi","掐":"qia","恰":"qia","洽":"qia","葜":"qia","牵":"qian","扦":"qian","钎":"qian","铅":"qian","千":"qian","迁":"qian","签":"qian","仟":"qian","谦":"qian","乾":"qian","黔":"qian","钱":"qian","钳":"qian","前":"qian","潜":"qian","遣":"qian","浅":"qian","谴":"qian","堑":"qian","嵌":"qian","欠":"qian","歉":"qian","佥":"qian","阡":"qian","芊":"qian","芡":"qian","荨":"qian","掮":"qian","岍":"qian","悭":"qian","慊":"qian","骞":"qian","搴":"qian","褰":"qian","缱":"qian","椠":"qian","肷":"qian","愆":"qian","钤":"qian","虔":"qian","箝":"qian","枪":"qiang","呛":"qiang","腔":"qiang","羌":"qiang","墙":"qiang","蔷":"qiang","强":"qiang","抢":"qiang","嫱":"qiang","樯":"qiang","戗":"qiang","炝":"qiang","锖":"qiang","锵":"qiang","镪":"qiang","襁":"qiang","蜣":"qiang","羟":"qiang","跫":"qiang","跄":"qiang","橇":"qiao","锹":"qiao","敲":"qiao","悄":"qiao","桥":"qiao","瞧":"qiao","乔":"qiao","侨":"qiao","巧":"qiao","鞘":"qiao","撬":"qiao","翘":"qiao","峭":"qiao","俏":"qiao","窍":"qiao","劁":"qiao","诮":"qiao","谯":"qiao","荞":"qiao","愀":"qiao","憔":"qiao","缲":"qiao","樵":"qiao","毳":"qiao","硗":"qiao","跷":"qiao","鞒":"qiao","切":"qie","茄":"qie","且":"qie","怯":"qie","窃":"qie","郄":"qie","唼":"qie","惬":"qie","妾":"qie","挈":"qie","锲":"qie","箧":"qie","钦":"qin","侵":"qin","亲":"qin","秦":"qin","琴":"qin","勤":"qin","芹":"qin","擒":"qin","禽":"qin","寝":"qin","沁":"qin","芩":"qin","蓁":"qin","蕲":"qin","揿":"qin","吣":"qin","嗪":"qin","噙":"qin","溱":"qin","檎":"qin","螓":"qin","衾":"qin","青":"qing","轻":"qing","氢":"qing","倾":"qing","卿":"qing","清":"qing","擎":"qing","晴":"qing","氰":"qing","情":"qing","顷":"qing","请":"qing","庆":"qing","倩":"qing","苘":"qing","圊":"qing","檠":"qing","磬":"qing","蜻":"qing","罄":"qing","箐":"qing","謦":"qing","鲭":"qing","黥":"qing","琼":"qiong","穷":"qiong","邛":"qiong","茕":"qiong","穹":"qiong","筇":"qiong","銎":"qiong","秋":"qiu","丘":"qiu","邱":"qiu","球":"qiu","求":"qiu","囚":"qiu","酋":"qiu","泅":"qiu","俅":"qiu","氽":"qiu","巯":"qiu","艽":"qiu","犰":"qiu","湫":"qiu","逑":"qiu","遒":"qiu","楸":"qiu","赇":"qiu","鸠":"qiu","虬":"qiu","蚯":"qiu","蝤":"qiu","裘":"qiu","糗":"qiu","鳅":"qiu","鼽":"qiu","趋":"qu","区":"qu","蛆":"qu","曲":"qu","躯":"qu","屈":"qu","驱":"qu","渠":"qu","取":"qu","娶":"qu","龋":"qu","趣":"qu","去":"qu","诎":"qu","劬":"qu","蕖":"qu","蘧":"qu","岖":"qu","衢":"qu","阒":"qu","璩":"qu","觑":"qu","氍":"qu","祛":"qu","磲":"qu","癯":"qu","蛐":"qu","蠼":"qu","麴":"qu","瞿":"qu","黢":"qu","圈":"quan","颧":"quan","权":"quan","醛":"quan","泉":"quan","全":"quan","痊":"quan","拳":"quan","犬":"quan","券":"quan","劝":"quan","诠":"quan","荃":"quan","獾":"quan","悛":"quan","绻":"quan","辁":"quan","畎":"quan","铨":"quan","蜷":"quan","筌":"quan","鬈":"quan","缺":"que","炔":"que","瘸":"que","却":"que","鹊":"que","榷":"que","确":"que","雀":"que","阙":"que","悫":"que","裙":"qun","群":"qun","逡":"qun","然":"ran","燃":"ran","冉":"ran","染":"ran","苒":"ran","髯":"ran","瓤":"rang","壤":"rang","攘":"rang","嚷":"rang","让":"rang","禳":"rang","穰":"rang","饶":"rao","扰":"rao","绕":"rao","荛":"rao","娆":"rao","桡":"rao","惹":"ruo","若":"ruo","弱":"ruo","热":"re","偌":"re","壬":"ren","仁":"ren","人":"ren","忍":"ren","韧":"ren","任":"ren","认":"ren","刃":"ren","妊":"ren","纫":"ren","仞":"ren","荏":"ren","葚":"ren","饪":"ren","轫":"ren","稔":"ren","衽":"ren","扔":"reng","仍":"reng","日":"ri","戎":"rong","茸":"rong","蓉":"rong","荣":"rong","融":"rong","熔":"rong","溶":"rong","容":"rong","绒":"rong","冗":"rong","嵘":"rong","狨":"rong","缛":"rong","榕":"rong","蝾":"rong","揉":"rou","柔":"rou","肉":"rou","糅":"rou","蹂":"rou","鞣":"rou","茹":"ru","蠕":"ru","儒":"ru","孺":"ru","如":"ru","辱":"ru","乳":"ru","汝":"ru","入":"ru","褥":"ru","蓐":"ru","薷":"ru","嚅":"ru","洳":"ru","溽":"ru","濡":"ru","铷":"ru","襦":"ru","颥":"ru","软":"ruan","阮":"ruan","朊":"ruan","蕊":"rui","瑞":"rui","锐":"rui","芮":"rui","蕤":"rui","睿":"rui","蚋":"rui","闰":"run","润":"run","撒":"sa","洒":"sa","萨":"sa","卅":"sa","仨":"sa","挲":"sa","飒":"sa","腮":"sai","鳃":"sai","塞":"sai","赛":"sai","噻":"sai","三":"san","叁":"san","伞":"san","散":"san","彡":"san","馓":"san","氵":"san","毵":"san","糁":"san","霰":"san","桑":"sang","嗓":"sang","丧":"sang","搡":"sang","磉":"sang","颡":"sang","搔":"sao","骚":"sao","扫":"sao","嫂":"sao","埽":"sao","臊":"sao","瘙":"sao","鳋":"sao","瑟":"se","色":"se","涩":"se","啬":"se","铩":"se","铯":"se","穑":"se","森":"sen","僧":"seng","莎":"sha","砂":"sha","杀":"sha","刹":"sha","沙":"sha","纱":"sha","傻":"sha","啥":"sha","煞":"sha","脎":"sha","歃":"sha","痧":"sha","裟":"sha","霎":"sha","鲨":"sha","筛":"shai","晒":"shai","酾":"shai","珊":"shan","苫":"shan","杉":"shan","山":"shan","删":"shan","煽":"shan","衫":"shan","闪":"shan","陕":"shan","擅":"shan","赡":"shan","膳":"shan","善":"shan","汕":"shan","扇":"shan","缮":"shan","剡":"shan","讪":"shan","鄯":"shan","埏":"shan","芟":"shan","潸":"shan","姗":"shan","骟":"shan","膻":"shan","钐":"shan","疝":"shan","蟮":"shan","舢":"shan","跚":"shan","鳝":"shan","墒":"shang","伤":"shang","商":"shang","赏":"shang","晌":"shang","上":"shang","尚":"shang","裳":"shang","垧":"shang","绱":"shang","殇":"shang","熵":"shang","觞":"shang","梢":"shao","捎":"shao","稍":"shao","烧":"shao","芍":"shao","勺":"shao","韶":"shao","少":"shao","哨":"shao","邵":"shao","绍":"shao","劭":"shao","苕":"shao","潲":"shao","蛸":"shao","笤":"shao","筲":"shao","艄":"shao","奢":"she","赊":"she","蛇":"she","舌":"she","舍":"she","赦":"she","摄":"she","射":"she","慑":"she","涉":"she","社":"she","设":"she","厍":"she","佘":"she","猞":"she","畲":"she","麝":"she","砷":"shen","申":"shen","呻":"shen","伸":"shen","身":"shen","深":"shen","娠":"shen","绅":"shen","神":"shen","沈":"shen","审":"shen","婶":"shen","甚":"shen","肾":"shen","慎":"shen","渗":"shen","诜":"shen","谂":"shen","吲":"shen","哂":"shen","渖":"shen","椹":"shen","矧":"shen","蜃":"shen","声":"sheng","生":"sheng","甥":"sheng","牲":"sheng","升":"sheng","绳":"sheng","省":"sheng","盛":"sheng","剩":"sheng","胜":"sheng","圣":"sheng","丞":"sheng","渑":"sheng","媵":"sheng","眚":"sheng","笙":"sheng","师":"shi","失":"shi","狮":"shi","施":"shi","湿":"shi","诗":"shi","尸":"shi","虱":"shi","十":"shi","石":"shi","拾":"shi","时":"shi","什":"shi","食":"shi","蚀":"shi","实":"shi","识":"shi","史":"shi","矢":"shi","使":"shi","屎":"shi","驶":"shi","始":"shi","式":"shi","示":"shi","士":"shi","世":"shi","柿":"shi","事":"shi","拭":"shi","誓":"shi","逝":"shi","势":"shi","是":"shi","嗜":"shi","噬":"shi","适":"shi","仕":"shi","侍":"shi","释":"shi","饰":"shi","氏":"shi","市":"shi","恃":"shi","室":"shi","视":"shi","试":"shi","谥":"shi","埘":"shi","莳":"shi","蓍":"shi","弑":"shi","唑":"shi","饣":"shi","轼":"shi","耆":"shi","贳":"shi","炻":"shi","礻":"shi","铈":"shi","铊":"shi","螫":"shi","舐":"shi","筮":"shi","豕":"shi","鲥":"shi","鲺":"shi","收":"shou","手":"shou","首":"shou","守":"shou","寿":"shou","授":"shou","售":"shou","受":"shou","瘦":"shou","兽":"shou","扌":"shou","狩":"shou","绶":"shou","艏":"shou","蔬":"shu","枢":"shu","梳":"shu","殊":"shu","抒":"shu","输":"shu","叔":"shu","舒":"shu","淑":"shu","疏":"shu","书":"shu","赎":"shu","孰":"shu","熟":"shu","薯":"shu","暑":"shu","曙":"shu","署":"shu","蜀":"shu","黍":"shu","鼠":"shu","属":"shu","术":"shu","述":"shu","树":"shu","束":"shu","戍":"shu","竖":"shu","墅":"shu","庶":"shu","数":"shu","漱":"shu","恕":"shu","倏":"shu","塾":"shu","菽":"shu","忄":"shu","沭":"shu","涑":"shu","澍":"shu","姝":"shu","纾":"shu","毹":"shu","腧":"shu","殳":"shu","镯":"shu","秫":"shu","鹬":"shu","刷":"shua","耍":"shua","唰":"shua","涮":"shua","摔":"shuai","衰":"shuai","甩":"shuai","帅":"shuai","蟀":"shuai","栓":"shuan","拴":"shuan","闩":"shuan","霜":"shuang","双":"shuang","爽":"shuang","孀":"shuang","谁":"shui","水":"shui","睡":"shui","税":"shui","吮":"shun","瞬":"shun","顺":"shun","舜":"shun","恂":"shun","说":"shuo","硕":"shuo","朔":"shuo","烁":"shuo","蒴":"shuo","搠":"shuo","嗍":"shuo","濯":"shuo","妁":"shuo","槊":"shuo","铄":"shuo","斯":"si","撕":"si","嘶":"si","思":"si","私":"si","司":"si","丝":"si","死":"si","肆":"si","寺":"si","嗣":"si","四":"si","伺":"si","似":"si","饲":"si","巳":"si","厮":"si","俟":"si","兕":"si","菥":"si","咝":"si","汜":"si","泗":"si","澌":"si","姒":"si","驷":"si","缌":"si","祀":"si","祠":"si","锶":"si","鸶":"si","耜":"si","蛳":"si","笥":"si","松":"song","耸":"song","怂":"song","颂":"song","送":"song","宋":"song","讼":"song","诵":"song","凇":"song","菘":"song","崧":"song","嵩":"song","忪":"song","悚":"song","淞":"song","竦":"song","搜":"sou","艘":"sou","擞":"sou","嗽":"sou","叟":"sou","嗖":"sou","嗾":"sou","馊":"sou","溲":"sou","飕":"sou","瞍":"sou","锼":"sou","螋":"sou","苏":"su","酥":"su","俗":"su","素":"su","速":"su","粟":"su","僳":"su","塑":"su","溯":"su","宿":"su","诉":"su","肃":"su","夙":"su","谡":"su","蔌":"su","嗉":"su","愫":"su","簌":"su","觫":"su","稣":"su","酸":"suan","蒜":"suan","算":"suan","虽":"sui","隋":"sui","随":"sui","绥":"sui","髓":"sui","碎":"sui","岁":"sui","穗":"sui","遂":"sui","隧":"sui","祟":"sui","蓑":"sui","冫":"sui","谇":"sui","濉":"sui","邃":"sui","燧":"sui","眭":"sui","睢":"sui","孙":"sun","损":"sun","笋":"sun","荪":"sun","狲":"sun","飧":"sun","榫":"sun","跣":"sun","隼":"sun","梭":"suo","唆":"suo","缩":"suo","琐":"suo","索":"suo","锁":"suo","所":"suo","唢":"suo","嗦":"suo","娑":"suo","桫":"suo","睃":"suo","羧":"suo","塌":"ta","他":"ta","它":"ta","她":"ta","塔":"ta","獭":"ta","挞":"ta","蹋":"ta","踏":"ta","闼":"ta","溻":"ta","遢":"ta","榻":"ta","沓":"ta","胎":"tai","苔":"tai","抬":"tai","台":"tai","泰":"tai","酞":"tai","太":"tai","态":"tai","汰":"tai","邰":"tai","薹":"tai","肽":"tai","炱":"tai","钛":"tai","跆":"tai","鲐":"tai","坍":"tan","摊":"tan","贪":"tan","瘫":"tan","滩":"tan","坛":"tan","檀":"tan","痰":"tan","潭":"tan","谭":"tan","谈":"tan","坦":"tan","毯":"tan","袒":"tan","碳":"tan","探":"tan","叹":"tan","炭":"tan","郯":"tan","蕈":"tan","昙":"tan","钽":"tan","锬":"tan","覃":"tan","汤":"tang","塘":"tang","搪":"tang","堂":"tang","棠":"tang","膛":"tang","唐":"tang","糖":"tang","傥":"tang","饧":"tang","溏":"tang","瑭":"tang","铴":"tang","镗":"tang","耥":"tang","螗":"tang","螳":"tang","羰":"tang","醣":"tang","倘":"thang","躺":"thang","淌":"thang","趟":"theng","烫":"theng","掏":"tao","涛":"tao","滔":"tao","绦":"tao","萄":"tao","桃":"tao","逃":"tao","淘":"tao","陶":"tao","讨":"tao","套":"tao","挑":"tao","鼗":"tao","啕":"tao","韬":"tao","饕":"tao","特":"te","藤":"teng","腾":"teng","疼":"teng","誊":"teng","滕":"teng","梯":"ti","剔":"ti","踢":"ti","锑":"ti","提":"ti","题":"ti","蹄":"ti","啼":"ti","体":"ti","替":"ti","嚏":"ti","惕":"ti","涕":"ti","剃":"ti","屉":"ti","荑":"ti","悌":"ti","逖":"ti","绨":"ti","缇":"ti","鹈":"ti","裼":"ti","醍":"ti","天":"tian","添":"tian","填":"tian","田":"tian","甜":"tian","恬":"tian","舔":"tian","腆":"tian","掭":"tian","忝":"tian","阗":"tian","殄":"tian","畋":"tian","钿":"tian","蚺":"tian","条":"tiao","迢":"tiao","眺":"tiao","跳":"tiao","佻":"tiao","祧":"tiao","铫":"tiao","窕":"tiao","龆":"tiao","鲦":"tiao","贴":"tie","铁":"tie","帖":"tie","萜":"tie","餮":"tie","厅":"ting","听":"ting","烃":"ting","汀":"ting","廷":"ting","停":"ting","亭":"ting","庭":"ting","挺":"ting","艇":"ting","莛":"ting","葶":"ting","婷":"ting","梃":"ting","蜓":"ting","霆":"ting","通":"tong","桐":"tong","酮":"tong","瞳":"tong","同":"tong","铜":"tong","彤":"tong","童":"tong","桶":"tong","捅":"tong","筒":"tong","统":"tong","痛":"tong","佟":"tong","僮":"tong","仝":"tong","茼":"tong","嗵":"tong","恸":"tong","潼":"tong","砼":"tong","偷":"tou","投":"tou","头":"tou","透":"tou","亠":"tou","凸":"tu","秃":"tu","突":"tu","图":"tu","徒":"tu","途":"tu","涂":"tu","屠":"tu","土":"tu","吐":"tu","兔":"tu","堍":"tu","荼":"tu","菟":"tu","钍":"tu","酴":"tu","湍":"tuan","团":"tuan","疃":"tuan","推":"tui","颓":"tui","腿":"tui","蜕":"tui","褪":"tui","退":"tui","忒":"tui","煺":"tui","吞":"tun","屯":"tun","臀":"tun","饨":"tun","暾":"tun","豚":"tun","窀":"tun","拖":"tuo","托":"tuo","脱":"tuo","鸵":"tuo","陀":"tuo","驮":"tuo","驼":"tuo","椭":"tuo","妥":"tuo","拓":"tuo","唾":"tuo","乇":"tuo","佗":"tuo","坨":"tuo","庹":"tuo","沱":"tuo","柝":"tuo","砣":"tuo","箨":"tuo","舄":"tuo","跎":"tuo","鼍":"tuo","挖":"wa","哇":"wa","蛙":"wa","洼":"wa","娃":"wa","瓦":"wa","袜":"wa","佤":"wa","娲":"wa","腽":"wa","歪":"wai","外":"wai","豌":"wan","弯":"wan","湾":"wan","玩":"wan","顽":"wan","丸":"wan","烷":"wan","完":"wan","碗":"wan","挽":"wan","晚":"wan","皖":"wan","惋":"wan","宛":"wan","婉":"wan","万":"wan","腕":"wan","剜":"wan","芄":"wan","苋":"wan","菀":"wan","纨":"wan","绾":"wan","琬":"wan","脘":"wan","畹":"wan","蜿":"wan","箢":"wan","汪":"wang","王":"wang","亡":"wang","枉":"wang","网":"wang","往":"wang","旺":"wang","望":"wang","忘":"wang","妄":"wang","罔":"wang","尢":"wang","惘":"wang","辋":"wang","魍":"wang","威":"wei","巍":"wei","微":"wei","危":"wei","韦":"wei","违":"wei","桅":"wei","围":"wei","唯":"wei","惟":"wei","为":"wei","潍":"wei","维":"wei","苇":"wei","萎":"wei","委":"wei","伟":"wei","伪":"wei","尾":"wei","纬":"wei","未":"wei","蔚":"wei","味":"wei","畏":"wei","胃":"wei","喂":"wei","魏":"wei","位":"wei","渭":"wei","谓":"wei","尉":"wei","慰":"wei","卫":"wei","倭":"wei","偎":"wei","诿":"wei","隈":"wei","葳":"wei","薇":"wei","帏":"wei","帷":"wei","崴":"wei","嵬":"wei","猥":"wei","猬":"wei","闱":"wei","沩":"wei","洧":"wei","涠":"wei","逶":"wei","娓":"wei","玮":"wei","韪":"wei","軎":"wei","炜":"wei","煨":"wei","熨":"wei","痿":"wei","艉":"wei","鲔":"wei","瘟":"wen","温":"wen","蚊":"wen","文":"wen","闻":"wen","纹":"wen","吻":"wen","稳":"wen","紊":"wen","问":"wen","刎":"wen","愠":"wen","阌":"wen","汶":"wen","璺":"wen","韫":"wen","殁":"wen","雯":"wen","嗡":"weng","翁":"weng","瓮":"weng","蓊":"weng","蕹":"weng","挝":"wo","蜗":"wo","涡":"wo","窝":"wo","我":"wo","斡":"wo","卧":"wo","握":"wo","沃":"wo","莴":"wo","幄":"wo","渥":"wo","杌":"wo","肟":"wo","龌":"wo","巫":"wu","呜":"wu","钨":"wu","乌":"wu","污":"wu","诬":"wu","屋":"wu","无":"wu","芜":"wu","梧":"wu","吾":"wu","吴":"wu","毋":"wu","武":"wu","五":"wu","捂":"wu","午":"wu","舞":"wu","伍":"wu","侮":"wu","坞":"wu","戊":"wu","雾":"wu","晤":"wu","物":"wu","勿":"wu","务":"wu","悟":"wu","误":"wu","兀":"wu","仵":"wu","阢":"wu","邬":"wu","圬":"wu","芴":"wu","庑":"wu","怃":"wu","忤":"wu","浯":"wu","寤":"wu","迕":"wu","妩":"wu","骛":"wu","牾":"wu","焐":"wu","鹉":"wu","鹜":"wu","蜈":"wu","鋈":"wu","鼯":"wu","昔":"xi","熙":"xi","析":"xi","西":"xi","硒":"xi","矽":"xi","晰":"xi","嘻":"xi","吸":"xi","锡":"xi","牺":"xi","稀":"xi","息":"xi","希":"xi","悉":"xi","膝":"xi","夕":"xi","惜":"xi","熄":"xi","烯":"xi","溪":"xi","汐":"xi","犀":"xi","檄":"xi","袭":"xi","席":"xi","习":"xi","媳":"xi","喜":"xi","铣":"xi","洗":"xi","系":"xi","隙":"xi","戏":"xi","细":"xi","僖":"xi","兮":"xi","隰":"xi","郗":"xi","茜":"xi","葸":"xi","蓰":"xi","奚":"xi","唏":"xi","徙":"xi","饩":"xi","阋":"xi","浠":"xi","淅":"xi","屣":"xi","嬉":"xi","玺":"xi","樨":"xi","曦":"xi","觋":"xi","欷":"xi","熹":"xi","禊":"xi","禧":"xi","钸":"xi","皙":"xi","穸":"xi","蜥":"xi","蟋":"xi","舾":"xi","羲":"xi","粞":"xi","翕":"xi","醯":"xi","鼷":"xi","瞎":"xia","虾":"xia","匣":"xia","霞":"xia","辖":"xia","暇":"xia","峡":"xia","侠":"xia","狭":"xia","下":"xia","厦":"xia","夏":"xia","吓":"xia","掀":"xia","葭":"xia","嗄":"xia","狎":"xia","遐":"xia","瑕":"xia","硖":"xia","瘕":"xia","罅":"xia","黠":"xia","锨":"xian","先":"xian","仙":"xian","鲜":"xian","纤":"xian","咸":"xian","贤":"xian","衔":"xian","舷":"xian","闲":"xian","涎":"xian","弦":"xian","嫌":"xian","显":"xian","险":"xian","现":"xian","献":"xian","县":"xian","腺":"xian","馅":"xian","羡":"xian","宪":"xian","陷":"xian","限":"xian","线":"xian","冼":"xian","藓":"xian","岘":"xian","猃":"xian","暹":"xian","娴":"xian","氙":"xian","祆":"xian","鹇":"xian","痫":"xian","蚬":"xian","筅":"xian","籼":"xian","酰":"xian","跹":"xian","相":"xiang","厢":"xiang","镶":"xiang","香":"xiang","箱":"xiang","襄":"xiang","湘":"xiang","乡":"xiang","翔":"xiang","祥":"xiang","详":"xiang","想":"xiang","响":"xiang","享":"xiang","项":"xiang","巷":"xiang","橡":"xiang","像":"xiang","向":"xiang","象":"xiang","芗":"xiang","葙":"xiang","饷":"xiang","庠":"xiang","骧":"xiang","缃":"xiang","蟓":"xiang","鲞":"xiang","飨":"xiang","萧":"xiao","硝":"xiao","霄":"xiao","削":"xiao","哮":"xiao","嚣":"xiao","销":"xiao","消":"xiao","宵":"xiao","淆":"xiao","晓":"xiao","小":"xiao","孝":"xiao","校":"xiao","肖":"xiao","啸":"xiao","笑":"xiao","效":"xiao","哓":"xiao","咻":"xiao","崤":"xiao","潇":"xiao","逍":"xiao","骁":"xiao","绡":"xiao","枭":"xiao","枵":"xiao","筱":"xiao","箫":"xiao","魈":"xiao","楔":"xie","些":"xie","歇":"xie","蝎":"xie","鞋":"xie","协":"xie","挟":"xie","携":"xie","邪":"xie","斜":"xie","胁":"xie","谐":"xie","写":"xie","械":"xie","卸":"xie","蟹":"xie","懈":"xie","泄":"xie","泻":"xie","谢":"xie","屑":"xie","偕":"xie","亵":"xie","勰":"xie","燮":"xie","薤":"xie","撷":"xie","廨":"xie","瀣":"xie","邂":"xie","绁":"xie","缬":"xie","榭":"xie","榍":"xie","歙":"xie","躞":"xie","薪":"xin","芯":"xin","锌":"xin","欣":"xin","辛":"xin","新":"xin","忻":"xin","心":"xin","信":"xin","衅":"xin","囟":"xin","馨":"xin","莘":"xin","歆":"xin","铽":"xin","鑫":"xin","星":"xing","腥":"xing","猩":"xing","惺":"xing","兴":"xing","刑":"xing","型":"xing","形":"xing","邢":"xing","行":"xing","醒":"xing","幸":"xing","杏":"xing","性":"xing","姓":"xing","陉":"xing","荇":"xing","荥":"xing","擤":"xing","悻":"xing","硎":"xing","兄":"xiong","凶":"xiong","胸":"xiong","匈":"xiong","汹":"xiong","雄":"xiong","熊":"xiong","芎":"xiong","休":"xiu","修":"xiu","羞":"xiu","朽":"xiu","嗅":"xiu","锈":"xiu","秀":"xiu","袖":"xiu","绣":"xiu","莠":"xiu","岫":"xiu","馐":"xiu","庥":"xiu","鸺":"xiu","貅":"xiu","髹":"xiu","墟":"xu","戌":"xu","需":"xu","虚":"xu","嘘":"xu","须":"xu","徐":"xu","许":"xu","蓄":"xu","酗":"xu","叙":"xu","旭":"xu","序":"xu","畜":"xu","恤":"xu","絮":"xu","婿":"xu","绪":"xu","续":"xu","讴":"xu","诩":"xu","圩":"xu","蓿":"xu","怵":"xu","洫":"xu","溆":"xu","顼":"xu","栩":"xu","煦":"xu","砉":"xu","盱":"xu","胥":"xu","糈":"xu","醑":"xu","轩":"xuan","喧":"xuan","宣":"xuan","悬":"xuan","旋":"xuan","玄":"xuan","选":"xuan","癣":"xuan","眩":"xuan","绚":"xuan","儇":"xuan","谖":"xuan","萱":"xuan","揎":"xuan","馔":"xuan","泫":"xuan","洵":"xuan","渲":"xuan","漩":"xuan","璇":"xuan","楦":"xuan","暄":"xuan","炫":"xuan","煊":"xuan","碹":"xuan","铉":"xuan","镟":"xuan","痃":"xuan","靴":"xue","薛":"xue","学":"xue","穴":"xue","雪":"xue","血":"xue","噱":"xue","泶":"xue","鳕":"xue","勋":"xun","熏":"xun","循":"xun","旬":"xun","询":"xun","寻":"xun","驯":"xun","巡":"xun","殉":"xun","汛":"xun","训":"xun","讯":"xun","逊":"xun","迅":"xun","巽":"xun","埙":"xun","荀":"xun","薰":"xun","峋":"xun","徇":"xun","浔":"xun","曛":"xun","窨":"xun","醺":"xun","鲟":"xun","压":"ya","押":"ya","鸦":"ya","鸭":"ya","呀":"ya","丫":"ya","芽":"ya","牙":"ya","蚜":"ya","崖":"ya","衙":"ya","涯":"ya","雅":"ya","哑":"ya","亚":"ya","讶":"ya","伢":"ya","揠":"ya","吖":"ya","岈":"ya","迓":"ya","娅":"ya","琊":"ya","桠":"ya","氩":"ya","砑":"ya","睚":"ya","痖":"ya","焉":"yan","咽":"yan","阉":"yan","烟":"yan","淹":"yan","盐":"yan","严":"yan","研":"yan","蜒":"yan","岩":"yan","延":"yan","言":"yan","颜":"yan","阎":"yan","炎":"yan","沿":"yan","奄":"yan","掩":"yan","眼":"yan","衍":"yan","演":"yan","艳":"yan","堰":"yan","燕":"yan","厌":"yan","砚":"yan","雁":"yan","唁":"yan","彦":"yan","焰":"yan","宴":"yan","谚":"yan","验":"yan","厣":"yan","靥":"yan","赝":"yan","俨":"yan","偃":"yan","兖":"yan","讠":"yan","谳":"yan","郾":"yan","鄢":"yan","芫":"yan","菸":"yan","崦":"yan","恹":"yan","闫":"yan","阏":"yan","洇":"yan","湮":"yan","滟":"yan","妍":"yan","嫣":"yan","琰":"yan","晏":"yan","胭":"yan","腌":"yan","焱":"yan","罨":"yan","筵":"yan","酽":"yan","魇":"yan","餍":"yan","鼹":"yan","殃":"yang","央":"yang","鸯":"yang","秧":"yang","杨":"yang","扬":"yang","佯":"yang","疡":"yang","羊":"yang","洋":"yang","阳":"yang","氧":"yang","仰":"yang","痒":"yang","养":"yang","样":"yang","漾":"yang","徉":"yang","怏":"yang","泱":"yang","炀":"yang","烊":"yang","恙":"yang","蛘":"yang","鞅":"yang","邀":"yao","腰":"yao","妖":"yao","瑶":"yao","摇":"yao","尧":"yao","遥":"yao","窑":"yao","谣":"yao","姚":"yao","咬":"yao","舀":"yao","药":"yao","要":"yao","耀":"yao","夭":"yao","爻":"yao","吆":"yao","崾":"yao","徭":"yao","瀹":"yao","幺":"yao","珧":"yao","杳":"yao","曜":"yao","肴":"yao","鹞":"yao","窈":"yao","繇":"yao","鳐":"yao","椰":"ye","噎":"ye","耶":"ye","爷":"ye","野":"ye","冶":"ye","也":"ye","页":"ye","掖":"ye","业":"ye","叶":"ye","曳":"ye","腋":"ye","夜":"ye","液":"ye","谒":"ye","邺":"ye","揶":"ye","馀":"ye","晔":"ye","烨":"ye","铘":"ye","一":"yi","壹":"yi","医":"yi","揖":"yi","铱":"yi","依":"yi","伊":"yi","衣":"yi","颐":"yi","夷":"yi","遗":"yi","移":"yi","仪":"yi","胰":"yi","疑":"yi","沂":"yi","宜":"yi","姨":"yi","彝":"yi","椅":"yi","蚁":"yi","倚":"yi","已":"yi","乙":"yi","矣":"yi","以":"yi","艺":"yi","抑":"yi","易":"yi","邑":"yi","屹":"yi","亿":"yi","役":"yi","臆":"yi","逸":"yi","肄":"yi","疫":"yi","亦":"yi","裔":"yi","意":"yi","毅":"yi","忆":"yi","义":"yi","益":"yi","溢":"yi","诣":"yi","议":"yi","谊":"yi","译":"yi","异":"yi","翼":"yi","翌":"yi","绎":"yi","刈":"yi","劓":"yi","佾":"yi","诒":"yi","圪":"yi","圯":"yi","埸":"yi","懿":"yi","苡":"yi","薏":"yi","弈":"yi","奕":"yi","挹":"yi","弋":"yi","呓":"yi","咦":"yi","咿":"yi","噫":"yi","峄":"yi","嶷":"yi","猗":"yi","饴":"yi","怿":"yi","怡":"yi","悒":"yi","漪":"yi","迤":"yi","驿":"yi","缢":"yi","殪":"yi","贻":"yi","旖":"yi","熠":"yi","钇":"yi","镒":"yi","镱":"yi","痍":"yi","瘗":"yi","癔":"yi","翊":"yi","衤":"yi","蜴":"yi","舣":"yi","羿":"yi","翳":"yi","酏":"yi","黟":"yi","茵":"yin","荫":"yin","因":"yin","殷":"yin","音":"yin","阴":"yin","姻":"yin","吟":"yin","银":"yin","淫":"yin","寅":"yin","饮":"yin","尹":"yin","引":"yin","隐":"yin","印":"yin","胤":"yin","鄞":"yin","堙":"yin","茚":"yin","喑":"yin","狺":"yin","夤":"yin","氤":"yin","铟":"yin","瘾":"yin","蚓":"yin","霪":"yin","龈":"yin","英":"ying","樱":"ying","婴":"ying","鹰":"ying","应":"ying","缨":"ying","莹":"ying","萤":"ying","营":"ying","荧":"ying","蝇":"ying","迎":"ying","赢":"ying","盈":"ying","影":"ying","颖":"ying","硬":"ying","映":"ying","嬴":"ying","郢":"ying","茔":"ying","莺":"ying","萦":"ying","撄":"ying","嘤":"ying","膺":"ying","滢":"ying","潆":"ying","瀛":"ying","瑛":"ying","璎":"ying","楹":"ying","鹦":"ying","瘿":"ying","颍":"ying","罂":"ying","哟":"yo","唷":"yo","拥":"yong","佣":"yong","臃":"yong","痈":"yong","庸":"yong","雍":"yong","踊":"yong","蛹":"yong","咏":"yong","泳":"yong","涌":"yong","永":"yong","恿":"yong","勇":"yong","用":"yong","俑":"yong","壅":"yong","墉":"yong","慵":"yong","邕":"yong","镛":"yong","甬":"yong","鳙":"yong","饔":"yong","幽":"you","优":"you","悠":"you","忧":"you","尤":"you","由":"you","邮":"you","铀":"you","犹":"you","油":"you","游":"you","酉":"you","有":"you","友":"you","右":"you","佑":"you","釉":"you","诱":"you","又":"you","幼":"you","卣":"you","攸":"you","侑":"you","莸":"you","呦":"you","囿":"you","宥":"you","柚":"you","猷":"you","牖":"you","铕":"you","疣":"you","蝣":"you","鱿":"you","黝":"you","鼬":"you","迂":"yu","淤":"yu","于":"yu","盂":"yu","榆":"yu","虞":"yu","愚":"yu","舆":"yu","余":"yu","俞":"yu","逾":"yu","鱼":"yu","愉":"yu","渝":"yu","渔":"yu","隅":"yu","予":"yu","娱":"yu","雨":"yu","与":"yu","屿":"yu","禹":"yu","宇":"yu","语":"yu","羽":"yu","玉":"yu","域":"yu","芋":"yu","郁":"yu","吁":"yu","遇":"yu","喻":"yu","峪":"yu","御":"yu","愈":"yu","欲":"yu","狱":"yu","育":"yu","誉":"yu","浴":"yu","寓":"yu","裕":"yu","预":"yu","豫":"yu","驭":"yu","禺":"yu","毓":"yu","伛":"yu","俣":"yu","谀":"yu","谕":"yu","萸":"yu","蓣":"yu","揄":"yu","喁":"yu","圄":"yu","圉":"yu","嵛":"yu","狳":"yu","饫":"yu","庾":"yu","阈":"yu","妪":"yu","妤":"yu","纡":"yu","瑜":"yu","昱":"yu","觎":"yu","腴":"yu","欤":"yu","於":"yu","煜":"yu","燠":"yu","聿":"yu","钰":"yu","鹆":"yu","瘐":"yu","瘀":"yu","窳":"yu","蝓":"yu","竽":"yu","舁":"yu","雩":"yu","龉":"yu","鸳":"yuan","渊":"yuan","冤":"yuan","元":"yuan","垣":"yuan","袁":"yuan","原":"yuan","援":"yuan","辕":"yuan","园":"yuan","员":"yuan","圆":"yuan","猿":"yuan","源":"yuan","缘":"yuan","远":"yuan","苑":"yuan","愿":"yuan","怨":"yuan","院":"yuan","塬":"yuan","沅":"yuan","媛":"yuan","瑗":"yuan","橼":"yuan","爰":"yuan","眢":"yuan","鸢":"yuan","螈":"yuan","鼋":"yuan","曰":"yue","约":"yue","越":"yue","跃":"yue","钥":"yue","岳":"yue","粤":"yue","月":"yue","悦":"yue","阅":"yue","龠":"yue","樾":"yue","刖":"yue","钺":"yue","耘":"yun","云":"yun","郧":"yun","匀":"yun","陨":"yun","允":"yun","运":"yun","蕴":"yun","酝":"yun","晕":"yun","韵":"yun","孕":"yun","郓":"yun","芸":"yun","狁":"yun","恽":"yun","纭":"yun","殒":"yun","昀":"yun","氲":"yun","匝":"za","砸":"za","杂":"za","拶":"za","咂":"za","栽":"zai","哉":"zai","灾":"zai","宰":"zai","载":"zai","再":"zai","在":"zai","咱":"zai","崽":"zai","甾":"zai","攒":"zan","暂":"zan","赞":"zan","瓒":"zan","昝":"zan","簪":"zan","糌":"zan","趱":"zan","錾":"zan","赃":"zang","脏":"zang","葬":"zang","奘":"zang","戕":"zang","臧":"zang","遭":"zao","糟":"zao","凿":"zao","藻":"zao","枣":"zao","早":"zao","澡":"zao","蚤":"zao","躁":"zao","噪":"zao","造":"zao","皂":"zao","灶":"zao","燥":"zao","唣":"zao","缫":"zao","责":"ze","择":"ze","则":"ze","泽":"ze","仄":"ze","赜":"ze","啧":"ze","迮":"ze","昃":"ze","笮":"ze","箦":"ze","舴":"ze","贼":"zei","怎":"zen","谮":"zen","增":"zeng","憎":"zeng","曾":"zeng","赠":"zeng","缯":"zeng","甑":"zeng","罾":"zeng","锃":"zeng","扎":"zha","喳":"zha","渣":"zha","札":"zha","轧":"zha","铡":"zha","闸":"zha","眨":"zha","栅":"zha","榨":"zha","咋":"zha","乍":"zha","炸":"zha","诈":"zha","揸":"zha","吒":"zha","咤":"zha","哳":"zha","怍":"zha","砟":"zha","痄":"zha","蚱":"zha","齄":"zha","摘":"zhai","斋":"zhai","宅":"zhai","窄":"zhai","债":"zhai","寨":"zhai","砦":"zhai","瞻":"zhan","毡":"zhan","詹":"zhan","粘":"zhan","沾":"zhan","盏":"zhan","斩":"zhan","辗":"zhan","崭":"zhan","展":"zhan","蘸":"zhan","栈":"zhan","占":"zhan","战":"zhan","站":"zhan","湛":"zhan","绽":"zhan","谵":"zhan","搌":"zhan","旃":"zhan","樟":"zhang","章":"zhang","彰":"zhang","漳":"zhang","张":"zhang","掌":"zhang","涨":"zhang","杖":"zhang","丈":"zhang","帐":"zhang","账":"zhang","仗":"zhang","胀":"zhang","瘴":"zhang","障":"zhang","仉":"zhang","鄣":"zhang","幛":"zhang","嶂":"zhang","獐":"zhang","嫜":"zhang","璋":"zhang","蟑":"zhang","招":"zhao","昭":"zhao","找":"zhao","沼":"zhao","赵":"zhao","照":"zhao","罩":"zhao","兆":"zhao","肇":"zhao","召":"zhao","爪":"zhao","诏":"zhao","棹":"zhao","钊":"zhao","笊":"zhao","遮":"zhe","折":"zhe","哲":"zhe","蛰":"zhe","辙":"zhe","者":"zhe","锗":"zhe","蔗":"zhe","这":"zhe","浙":"zhe","谪":"zhe","陬":"zhe","柘":"zhe","辄":"zhe","磔":"zhe","鹧":"zhe","褚":"zhe","蜇":"zhe","赭":"zhe","珍":"zhen","斟":"zhen","真":"zhen","甄":"zhen","砧":"zhen","臻":"zhen","贞":"zhen","针":"zhen","侦":"zhen","枕":"zhen","疹":"zhen","诊":"zhen","震":"zhen","振":"zhen","镇":"zhen","阵":"zhen","缜":"zhen","桢":"zhen","榛":"zhen","轸":"zhen","赈":"zhen","胗":"zhen","朕":"zhen","祯":"zhen","畛":"zhen","鸩":"zhen","蒸":"zheng","挣":"zheng","睁":"zheng","征":"zheng","狰":"zheng","争":"zheng","怔":"zheng","整":"zheng","拯":"zheng","正":"zheng","政":"zheng","帧":"zheng","症":"zheng","郑":"zheng","证":"zheng","诤":"zheng","峥":"zheng","钲":"zheng","铮":"zheng","筝":"zheng","芝":"zhi","枝":"zhi","支":"zhi","吱":"zhi","蜘":"zhi","知":"zhi","肢":"zhi","脂":"zhi","汁":"zhi","之":"zhi","织":"zhi","职":"zhi","直":"zhi","植":"zhi","殖":"zhi","执":"zhi","值":"zhi","侄":"zhi","址":"zhi","指":"zhi","止":"zhi","趾":"zhi","只":"zhi","旨":"zhi","纸":"zhi","志":"zhi","挚":"zhi","掷":"zhi","至":"zhi","致":"zhi","置":"zhi","帜":"zhi","峙":"zhi","制":"zhi","智":"zhi","秩":"zhi","稚":"zhi","质":"zhi","炙":"zhi","痔":"zhi","滞":"zhi","治":"zhi","窒":"zhi","卮":"zhi","陟":"zhi","郅":"zhi","埴":"zhi","芷":"zhi","摭":"zhi","帙":"zhi","忮":"zhi","彘":"zhi","咫":"zhi","骘":"zhi","栉":"zhi","枳":"zhi","栀":"zhi","桎":"zhi","轵":"zhi","轾":"zhi","攴":"zhi","贽":"zhi","膣":"zhi","祉":"zhi","祗":"zhi","黹":"zhi","雉":"zhi","鸷":"zhi","痣":"zhi","蛭":"zhi","絷":"zhi","酯":"zhi","跖":"zhi","踬":"zhi","踯":"zhi","豸":"zhi","觯":"zhi","中":"zhong","盅":"zhong","忠":"zhong","钟":"zhong","衷":"zhong","终":"zhong","种":"zhong","肿":"zhong","重":"zhong","仲":"zhong","众":"zhong","冢":"zhong","锺":"zhong","螽":"zhong","舂":"zhong","舯":"zhong","踵":"zhong","舟":"zhou","周":"zhou","州":"zhou","洲":"zhou","诌":"zhou","粥":"zhou","轴":"zhou","肘":"zhou","帚":"zhou","咒":"zhou","皱":"zhou","宙":"zhou","昼":"zhou","骤":"zhou","啄":"zhou","着":"zhou","倜":"zhou","诹":"zhou","荮":"zhou","鬻":"zhou","纣":"zhou","胄":"zhou","碡":"zhou","籀":"zhou","舳":"zhou","酎":"zhou","鲷":"zhou","珠":"zhu","株":"zhu","蛛":"zhu","朱":"zhu","猪":"zhu","诸":"zhu","诛":"zhu","逐":"zhu","竹":"zhu","烛":"zhu","煮":"zhu","拄":"zhu","瞩":"zhu","嘱":"zhu","主":"zhu","著":"zhu","柱":"zhu","助":"zhu","蛀":"zhu","贮":"zhu","铸":"zhu","筑":"zhu","住":"zhu","注":"zhu","祝":"zhu","驻":"zhu","伫":"zhu","侏":"zhu","邾":"zhu","苎":"zhu","茱":"zhu","洙":"zhu","渚":"zhu","潴":"zhu","驺":"zhu","杼":"zhu","槠":"zhu","橥":"zhu","炷":"zhu","铢":"zhu","疰":"zhu","瘃":"zhu","蚰":"zhu","竺":"zhu","箸":"zhu","翥":"zhu","躅":"zhu","麈":"zhu","抓":"zhua","拽":"zhuai","专":"zhuan","砖":"zhuan","转":"zhuan","撰":"zhuan","赚":"zhuan","篆":"zhuan","抟":"zhuan","啭":"zhuan","颛":"zhuan","桩":"zhuang","庄":"zhuang","装":"zhuang","妆":"zhuang","撞":"zhuang","壮":"zhuang","状":"zhuang","丬":"zhuang","椎":"zhui","锥":"zhui","追":"zhui","赘":"zhui","坠":"zhui","缀":"zhui","萑":"zhui","骓":"zhui","缒":"zhui","谆":"zhun","准":"zhun","捉":"zhuo","拙":"zhuo","卓":"zhuo","桌":"zhuo","琢":"zhuo","茁":"zhuo","酌":"zhuo","灼":"zhuo","浊":"zhuo","倬":"zhuo","诼":"zhuo","廴":"zhuo","蕞":"zhuo","擢":"zhuo","啜":"zhuo","浞":"zhuo","涿":"zhuo","杓":"zhuo","焯":"zhuo","禚":"zhuo","斫":"zhuo","兹":"zi","咨":"zi","资":"zi","姿":"zi","滋":"zi","淄":"zi","孜":"zi","紫":"zi","仔":"zi","籽":"zi","滓":"zi","子":"zi","自":"zi","渍":"zi","字":"zi","谘":"zi","嵫":"zi","姊":"zi","孳":"zi","缁":"zi","梓":"zi","辎":"zi","赀":"zi","恣":"zi","眦":"zi","锱":"zi","秭":"zi","耔":"zi","笫":"zi","粢":"zi","觜":"zi","訾":"zi","鲻":"zi","髭":"zi","鬃":"zong","棕":"zong","踪":"zong","宗":"zong","综":"zong","总":"zong","纵":"zong","腙":"zong","粽":"zong","邹":"zou","走":"zou","奏":"zou","揍":"zou","鄹":"zou","鲰":"zou","租":"zu","足":"zu","卒":"zu","族":"zu","祖":"zu","诅":"zu","阻":"zu","组":"zu","俎":"zu","菹":"zu","啐":"zu","徂":"zu","驵":"zu","蹴":"zu","钻":"zuan","纂":"zuan","攥":"zuan","缵":"zuan","嘴":"zui","醉":"zui","最":"zui","罪":"zui","尊":"zun","遵":"zun","撙":"zun","樽":"zun","鳟":"zun","昨":"zuo","左":"zuo","佐":"zuo","柞":"zuo","做":"zuo","作":"zuo","坐":"zuo","座":"zuo","阝":"zuo","阼":"zuo","胙":"zuo","祚":"zuo","酢":"zuo","薮":"cou","楱":"cou","辏":"cou","腠":"cou","攮":"nang","哝":"nang","囔":"nang","馕":"nang","曩":"nang","喔":"o","嗲":"dia","嘬":"chuai","膪":"chuai","踹":"chuai","岑":"cen","涔":"cen","铥":"diu","耨":"nou","缶":"fou","髟":"bia"}}},toPinYin:function(t,e){if("string"==typeof t){for(var i=[],n=0,s=t.length;n<s;n++){var o=t.charAt(n);i.push(this._check(o))}var l=this._init(i);return void 0===e?l.join("").toUpperCase():l.length>e?l[e].toUpperCase():""}},transToPinYin:function(t,e){return t instanceof Array?this.translate(t,e):"string"==typeof t?this.convert(t,e):"number"==typeof t?t+"":t},translate:function(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=this.convert(t[n]);return i},convert:function(t,e){for(var i="",n=0,s=t.length;n<s;n++){var o=t.substr(n,1),l=this.dic.pinyinDic[o];i+=null==l?o:l}return i},_check:function(t){var e=t.charCodeAt(0);return e>40869||e<19968?t:this.dic.oMultiDiff[e]?this.dic.oMultiDiff[e]:this.dic.strChineseFirstPY.charAt(e-19968)},_init:function(t){for(var e=[""],i=0,n=t.length;i<n;i++){var s=t[i],o=s.length;if(1==o)for(var l=0;l<e.length;l++)e[l]+=s;else{var r=e.slice(0);for(e=[],l=0;l<o;l++){for(var a=r.slice(0),h=0;h<a.length;h++)a[h]+=s.charAt(l);e=e.concat(a)}}}return e}}),t.hz2py.instance=null,t.hz2py.getInstance=function(){return null==t.hz2py.instance&&(t.hz2py.instance=new t.hz2py,t.hz2py.instance._notFree=!0),t.hz2py.instance},t.hz2py}),
/*!
 * 基础控件类
 * ecp.qzz.object.js
 * 创建：qzz
 * 日期: 2014-03-1
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["ecp.utils.i18n","qzz.base"],function(t){var e=window.qzz;return require(["qzz.hz2py"],function(){e.hz2pyloaded=!0}),e.object=e.Class({init:function(e){try{this.index=window.qzz.index++;var i=this.getDefaultOption();this.option=this.isEmpty(i)?e||{}:this.extend(i,e),this._i18n=t,this.isComponent=!0,(e=e||{})&&e._merger&&(e=e.inputer.option),this.numUnit={perthousand:.001,percent:.01,one:1,ten:10,hundred:100,thousand:1e3,tenThousand:1e4,hundredThousand:1e5,million:1e6},this.className="Object",this._events={},this._create()}catch(t){this.logError("init error:"+t.message+t.stack)}},getI18n:function(t,e){return t=t.replace("qzz.",""),null==this._i18n||null==this._i18n.qzz||null==this._i18n.qzz[t]||""===this._i18n.qzz[t]?e:this._i18n.qzz[t]},_create:function(){this.beginDate=null,this._lockDestroy=!1,this._hasDestroy=!1},click:function(t,e){this.bind("click",t,e,!0)},bindEcpEvent:function(t,e,i,n,s){this.bind(t,e,i,n,s)},bind:function(t,e,i,n,s){if("function"==typeof e&&(s=n,n=i,i=e,e=void 0),"boolean"==typeof n&&(s=n,n=void 0),this.isEmpty(this._events[t])||!0===s)this._events[t]=[{func:i,event:e,owner:n}],i._funcSourceId=0;else{var o=this._events[t].length;this._events[t].push({func:i,event:e,owner:n}),i._funcSourceId=o}},unbind:function(t,e){if(this.isEmpty(t))return!1;"string"==typeof t&&(t=[t],e=[e]);for(var i=0,n=t.length;i<n;i++){var s=t[i],o=e[i];if(this.isNotEmpty(this._events[s])&&this.isNotEmpty(s))if(this.isEmpty(o))this._events[s]=[];else if(this.isNotEmpty(o._funcSourceId)){for(var l=this._events[s].length,r=-1,a=0;a<l;a++){var h=this._events[s][a];if(null!=h.func&&h.func._funcSourceId===o._funcSourceId){r=a;break}}r>=0&&this._events[s].splice(r,1)}s=null,o=null}return!0},hasbind:function(t){return null!=this._events[t]&&""!==this._events[t]},hasBind:function(t){return this.isNotEmpty(this._events[t])},triggerEcpEvent:function(t){return this.trigger.apply(this,Array.prototype.slice.call(arguments))},triggerEvent:function(t){return this.trigger.apply(this,Array.prototype.slice.call(arguments))},trigger:function(t){var e=this._events[t];if(null!=e){for(var i=null,n=0,s=e.length;n<s;n++){var o=e[n];if(null!=o&&"function"==typeof o.func){var l=arguments[1];null!=o.event&&l.splice(0,0,o.event),null==o.owner&&(o.owner=this);try{this.logInfo("begin to trigger event "+t),this.logInfo(l);var r=o.func.apply(o.owner,l);this.logInfo("finish the event "+t)}catch(e){this.logError(t+" event fire error "+e.message+e.stack)}null!=r&&(null==i?i=r:this.isArray(i)?i.push(r):(i=[i]).push(r))}}return i}},logError:function(t,e){if(null!=window.console){null==e&&(e=new Date);var i=e.getHours(),n=e.getMinutes(),s=e.getSeconds(),o=e.getMilliseconds();if(e=null,t="["+i+":"+n+":"+s+"."+o+"]["+this.index+":"+this.className+"]"+t,null==window.console.logStack)window.console.error(t);else{var l=window.console.logStack.join("\n");setTimeout(function(){window.console.info(l),window.console.error(t)},0),window.console.logStack=[]}}},logInfo:function(t,e){if(null!=window.console&&!0===window.qzzlog){null==e&&(e=new Date);var i=e.getHours(),n=e.getMinutes(),s=e.getSeconds(),o=e.getMilliseconds();if(e=null,t="["+i+":"+n+":"+s+"."+o+"]["+this.index+":"+this.className+"]"+t,null==window.console.logStack)window.console.logStack=[t];else if(window.console.logStack.length<10)window.console.logStack.push(t);else{window.console.logStack.push(t);var l=window.console.logStack.join("\n");setTimeout(function(){window.console.info(l)},0),window.console.logStack=[]}}},logBegin:function(t){this.beginDate=new Date,this.logInfo("[BEGIN]"+t,this.beginDate)},logEnd:function(t){if(null!=this.beginDate){var e=this.beginDate.getHours(),i=this.beginDate.getMinutes(),n=this.beginDate.getSeconds(),s=this.beginDate.getMilliseconds(),o=new Date,l=o.getHours()-e,r=o.getMinutes()-i;r<0&&(l--,r+=60);var a=o.getSeconds()-n;a<0&&(r--,a+=60);var h=o.getMilliseconds()-s;h<0&&(a--,h+=1e3),o=null;var c=1e3*(3600*l+60*r+a)+h;this.logInfo("[END]"+t+this.getI18n("qzz.useTime"," 耗时{0}毫秒").replace("{0}",c))}},getBrowser:function(t){null==t&&(t="msie");var e=window.navigator.appVersion;return"string"==typeof e&&(e=e.toLowerCase()),null!=e&&e.indexOf(t)>=0||!("msie"!==t||null==e||!/(msie\s|trident.*rv:)([\w.]+)/.test(e))},subStr:function(t,e){"string"!=typeof t&&(t+="");for(var i=t,n=0,s=0;s<i.length;s++)if(i.charCodeAt(s)>256){if(!(n+2<=e))break;n+=2}else{if(!(n+1<=e))break;n++}return t.substring(0,s)},strLen:function(t){var e=t;if(null==e||""===e)return 0;"string"!=typeof e&&(e+="");for(var i=0,n=0;n<e.length;n++)e.charCodeAt(n)>256?i+=2:i++;return e=null,n=null,i},getDataSource:function(){return this.dataSource},setDataSource:function(t){this.dataSource=t},isNewByMeta:function(){return this.newByMeta},setNewByMeta:function(t){this.newByMeta=t},isEmpty:function(t,e){return!this.isNotEmpty(t,e)},isNotEmpty:function(t,e){var i=!0;if(null==t||""===t)i=!1;else if("object"==typeof t)if(this.isArray(t))i=t.length>0;else for(var n in i=!1,t){i=!0;break}return i},extend:function(t,e,i){if(null==t)return e;if(null==i?i=10:!0===i&&(i=0),this.isArray(e)){!0!==this.isArray(t)&&(t=[]);for(var n=0,s=e.length;n<s;n++){var o=e[n];null!=o&&"object"==typeof o&&i>0&&(o=this.extend({},e[n],i-1)),t.push(o)}}else for(var n in e){var l=null==e||null==e.__deep||!1!==e.__deep[n];null!=e[n]&&"object"==typeof e[n]&&l&&i>0?(t[n]||(t[n]={}),t[n]=this.extend(t[n],e[n],i-1)):t[n]=e[n]}return t},hz2py:function(t){return this.hasbind("onHz2py")?t=this.trigger("onHz2py",[t]):!0===e.hz2pyloaded&&(null==this._hz2py&&(this._hz2py=e.hz2py.getInstance()),t=this._hz2py.transToPinYin(t)),t},numberFormat:function(t){var e=(t+"").split(".");return e[0]=e[0].replace(/(\d{1,3})(?=(\d{3})+(?:$|\.))/g,"$1,"),e.join(".")},getEcpType:function(){return this.className},getOption:function(){return this.option},getDefaultOption:function(){return{}},getName:function(){return this.getOption().name},setName:function(t){this.getOption().name=t},getBooleanValue:function(t,e){return this._getBooleanValue(t,e)},getJsonValue:function(t,e,i){return null!=t?t:null!=e?e:i},_delayRun:function(t,e,i){if(null==i&&"number"==typeof e&&(i=e,e=[]),null!=this._delayHandle&&clearTimeout(this._delayHandle),"function"==typeof t){var n=this;this._delayHandle=setTimeout(function(){t.apply(n,e)},i)}},_asynRun:function(t,e,i){if(null==i&&"number"==typeof e&&(i=e,e=[]),"function"==typeof t){var n=this;setTimeout(function(){t.apply(n,e)},i)}},_getBooleanValue:function(t,e){return"boolean"==typeof t?t:"string"==typeof t?"TRUE"===(t=t.toUpperCase())||"YES"===t||"Y"===t||!isNaN(t)&&"0"!==t:"number"==typeof t?0!=t:"date"!=typeof t&&"boolean"==typeof e&&e},isNumber:function(t){if("number"==typeof t)return!0;if("string"==typeof t){var e=/^(\-)?[0-9,]+(.[0-9]*)?$/.test(t);if(t.indexOf(",")>=0)for(var i=t.split(","),n=0,s=i.length;n<s;n++){var o=i[n],l=o.length;if(o.indexOf("-")>=0&&l--,0!=n||""!==o&&"-"!==o)if(n==s-1){var r=o.indexOf(".");-1==r&&3!==l?e=!1:-1!==r&&3!==r&&(e=!1)}else 3!==l&&(e=!1);else e=!1}return e}return!1},compare:function(t,e,i,n){null!=n&&"string"===n&&(t="s"+t,e="s"+e);var s=t,o=e,l=i,r=null,a=null;return"object"==typeof s||"object"==typeof o?-1:this.isNumber(s)&&this.isNumber(o)?s-o>0?1:s===o?0:-1:(null!=l?(null==(r=l[s])&&(r=this.hz2py(s),l[s]=r),null==(a=l[o])&&(a=this.hz2py(o),l[o]=a)):(r=this.hz2py(s),a=this.hz2py(o),null!=l&&(l[s]=r,l[o]=a)),r.localeCompare(a))},numUpper:function(t,e){if(this._i18n.en_us)return t;var i=t;if("string"==typeof i){if(i=i.replace(/,| |￥/g,""),isNaN(i))return t}else i+="";if("Lower"==e||"Upper"==e||"MoneyLower"==e||"MoneyUpper"==e){var n={Lower:this.getI18n("qzz.nlower",["〇","一","二","三","四","五","六","七","八","九"]),Upper:this.getI18n("qzz.nupper",["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"])},s={Lower:this.getI18n("qzz.ulower",["","","","点","","十","百","千","万","十","百","千","亿","十","百","千","万亿","十","百","千","亿亿","十","百","千","万"]),Upper:this.getI18n("qzz.uupper",["","","","点","","拾","佰","仟","万","拾","佰","仟","亿","拾","佰","仟","万亿","拾","佰","仟","亿亿","拾","佰","仟","万"]),MoneyLower:this.getI18n("qzz.umoneylower",["厘","分","角","整","元","十","百","千","万","十","百","千","亿","十","百","千","万亿","十","百","千","亿亿","十","百","千","万"]),MoneyUpper:this.getI18n("qzz.umoneyupper",["厘","分","角","整","元","拾","佰","仟","万","拾","佰","仟","亿","拾","佰","仟","万亿","拾","佰","仟","亿亿","拾","佰","仟","万"])},o=n[e],l=1;null==o&&(o=n[e.replace(/Money/,"")],l=0);var r=s[e],a=i.split("."),h=a[0],c="",u="",d="",p=4,g=h.length,f=!1,y=0,m=g-l;if(m>1)for(var v=0;v<m;v++){var C=h.charAt(v);if(0==v&&"-"==C)f=!0,y++;else{if(0!==C&&"0"!==C)break;y++}}for((!1===f&&y>0||!0===f&&y>1)&&(h=h.substr(y,g),f&&(h="-"+h),g=h.length),v=g-1;v>=0;v--)if("-"==(C=h.charAt(v)))c=this.getI18n("qzz.minus","负")+c;else{var S=o[C=parseInt(C,10)];C>0?(""!==d&&(8!=p&&12!=p&&16!=p&&20!=p&&(c=d+c),d=""),c=1!=C||5!=p&&9!=p&&13!=p&&17!=p&&21!=p||0!=v&&(1!=v||"-"!=h.charAt(v-1))?S+r[p]+c:r[p]+c):8==p||12==p||16==p||20==p?d=r[p]:u>0?c=o[0]+c:""===u&&(c=g>1?r[p]:o[0]+r[p]),u=C,p++}if(a.length>1){for(xv=a[1],y=0,v=(g=xv.length)-1;v>=0&&(0===(C=xv.charAt(v))||"0"===C);v--)y++;if(y>0&&(xv=xv.substr(0,g-y),g=xv.length),""!==xv)for("MoneyUpper"!==e&&"MoneyLower"!==e&&(c+=r[3]),p=2,v=0;v<g;v++)C=xv.charAt(v),c=c+(S=o[C=parseInt(C,10)])+(r[p]||""),p--;else"MoneyUpper"!=e&&"MoneyLower"!=e||(""===c&&(c=o[0]),c+=r[3])}else"MoneyUpper"!=e&&"MoneyLower"!=e||(""===c&&(c=o[0]),c+=r[3]);return c}return"Money"==e?(t+"").replace(/[.,]/,"").split("").join(" "):t},round:function(t,e,i){"number"!=typeof t&&(t=parseFloat(t));var n=(t+"").indexOf(".");null==e&&(e=14-n);var s=Math.pow(10,e);return t*=s,null==i&&n>0&&(i=15-n),null!=i&&(t+=5/Math.pow(10,i)),(t=Math.round(t))/s},trim:function(t){return null!=t&&""!==t&&"string"==typeof t&&(t=t.replace(/(^\s*)|(\s*$)/g,"")),t},isArray:function(t){return/\[object array\]/gi.test(Object.prototype.toString.call(t))},isIDCard:function(t){return/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/.test(t)},isTele:function(t){return/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}(\(\d{3,4}\)|-\d{3,4}|\s)?$/.test(t)},isMobile:function(t){return/^1[34578]\d{9}$/.test(t)},isEmail:function(t){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)},isPostid:function(t){return/[1-9]\d{5}(?!\d)/.test(t)},_textToTag:function(t){return"string"==typeof t&&(t=(t=t.replace(/&gt;|&lt;|&nbsp;/g,function(t){return"&gt;"==t?">":"&lt;"==t?"<":"&nbsp;"==t?" ":void 0})).replace(/&amp;/g,"&"),!1!==this.getOption().tranSingleQuot&&(t=t.replace(/&apos;/g,"'"))),t},_tagToText:function(t){return"string"==typeof t&&(t=(t=t.replace(/&/g,"&amp;")).replace(/[<> ]/g,function(t){return">"==t?"&gt;":"<"===t?"&lt;":" "===t?"&nbsp;":void 0}),!1!==this.getOption().tranSingleQuot&&(t=t.replace(/'/g,"&apos;"))),t},destroy:function(){if(1!=this._notFree){var t=this;this._lockDestroy?setTimeout(function(){t.destroy()},1e3):(t._hasDestroy=!0,setTimeout(function(){if(null!=t){for(var e in t)if("baseprototype"===e)t[e]=null;else{if(null!=t[e]&&"object"==typeof t[e]&&"function"==typeof t[e].destroy)try{t[e].destroy()}catch(t){null!=window.console&&window.console.error(e+"[Destroy]Error:"+t.message)}delete t[e]}t._hasDestroy=!0}},5e3))}}}),e.object}),
/*!
 * 基础控件类
 * ecp.qzz.date.js
 * 创建：qzz
 * 日期: 2014-03-1
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.object"],function(){var t=window.qzz;return t.date=t.Class(t.object,{_create:function(){this.className="Date",this.months=new Array(31,28,31,30,31,30,31,31,30,31,30,31),this.monthCN=this.getI18n("qzz.monthsText",["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]),this.seasonCN=this.getI18n("qzz.seasonText",["第一季度","第二季度","第三季度","第四季度"]),this.tenCN=this.getI18n("qzz.tendaysText",["上旬","中旬","下旬"]),this.cyctypes={second:"second",minute:"minute",hour:"hour",day:"day",ten:"ten",month:"month",season:"season",year:"year"},this.getOption().dateSplit=this.getOption().dateSplit||"-",this.getOption().formatYear=this.getOption().formatYear||this.getI18n("qzz.formatYear","YYYY"),this.getOption().formatMonth=this.getOption().formatMonth||this.getI18n("qzz.formatMonth","MM"),this.getOption().formatDay=this.getOption().formatDay||this.getI18n("qzz.formatDay","DD"),this.getOption().timeSplit=this.getOption().timeSplit||":",this.getOption().formatHour=this.getOption().formatHour||this.getI18n("qzz.formatHour","HH"),this.getOption().formatMinute=this.getOption().formatMinute||this.getI18n("qzz.formatMinute","MM"),this.getOption().formatSecond=this.getOption().formatSecond||this.getI18n("qzz.formatSecond","SS"),this.dateSplit="-",this.timeSplit=":",this.dtSplit=/[- ]/g,this.cyctype=this.cyctypes.day,this.showTime=!1},setShowTime:function(t){null==t&&(t=!0),this.showTime=t},setCycType:function(t){this.cyctype=t},setFormatYear:function(t){this.getOption().formatYear=t||this.getOption().formatYear},setFormatMonth:function(t){this.getOption().formatMonth=t||this.getOption().formatMonth},setFormatDay:function(t){this.getOption().formatDay=t||this.getOption().formatDay},setFormatHour:function(t){this.getOption().formatHour=t||this.getOption().formatHour},setFormatMinute:function(t){this.getOption().formatMinute=t||this.getOption().formatMinute},setFormatSecond:function(t){this.getOption().formatSecond=t||this.getOption().formatSecond},setDateSplit:function(t){this.getOption().dateSplit=t||this.getOption().dateSplit},setTimeSplit:function(t){this.getOption().timeSplit=t||this.getOption().timeSplit},isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getYearsRect:function(t){var e=[],i=0;null==t&&(t=(new Date).getFullYear()),t/=10;var n=parseInt(t,10);t-n==0&&(n-=1),t=10*n,t=parseInt(t,10);for(var s=0;s<3;s++){for(var o=[],l=0;l<4;l++)o.push(t+i),i++;e.push(o)}return e},getSeasonsRect:function(){for(var t=[],e=0,i=0;i<2;i++){for(var n=[],s=0;s<2;s++)n.push(this.seasonCN[e++]);t.push(n)}return t},getMonthsRect:function(){for(var t=[],e=0,i=0;i<3;i++){for(var n=[],s=0;s<4;s++)n.push(this.monthCN[e++]);t.push(n)}return t},getTensRect:function(){for(var t=[],e=0,i=0;i<3;i++){for(var n=[],s=0;s<1;s++)n.push(this.tenCN[e++]);t.push(n)}return t},getSecondsRect:function(t,e){t<10&&(t="0"+t),e<10&&(e="0"+e);for(var i=[],n=0,s=0;s<4;s++){for(var o=[],l=0;l<3;l++){var r=n;0!=n&&5!=n||(r="0"+n),o.push(t+":"+e+":"+r),n+=5}i.push(o)}return i},getMinutesRect:function(t){t<10&&(t="0"+t);for(var e=[],i=0,n=0;n<4;n++){for(var s=[],o=0;o<3;o++){var l=i;0!=i&&5!=i||(l="0"+i),s.push(t+":"+l),i+=5}e.push(s)}return e},getHoursRect:function(){for(var t=[],e=0,i=0;i<6;i++){for(var n=[],s=0;s<4;s++){var o=e;o<10&&(o="0"+o),n.push(o+":00"),e++}t.push(n)}return t},getDaysRect:function(t,e,i){var n=[],s=new Date(t,e-1,1),o=s.getDay();s=null;var l=this.getMonthDays(t,e),r=t,a=e-1;a<1&&(r--,a=12);for(var h=this.getMonthDays(r,a)-o+1,c=!1,u=1,d=1,p=0;p<6;p++){for(var g=[],f=0;f<7;f++)0==p&&f==o?(g[f]=u++,c=!0):c?u<=l?g[f]=u++:!0===i&&(g[f]=d++):g[f]=h++;n.push(g)}return n},getMonthDays:function(t,e){return null==e&&(e=1),e<1&&(e=1),e>12&&(e=12),2!=e?this.months[e-1]:(null==t&&(t=(new Date).getFullYear()),this.isLeapYear(t)?this.months[1]+1:this.months[1])},_getCurTime:function(t){var e=t;null==e&&(e=new Date);var i=e.getHours();i<10&&(i="0"+i);var n=e.getMinutes();n<10&&(n="0"+n);var s=e.getSeconds();return s<10&&(s="0"+s),{h:i,m:n,s:s}},_dateToStr:function(t,e,i){var n=this.dateSplit;e<1&&(e=1),e>12&&(e=12),i<1&&(i=1);var s=this.getMonthDays(t,e);return i>s&&(i=s),t<1e3&&(t=2e3+t),e<10&&(e="0"+e),i<10&&(i="0"+i),t+n+e+n+i},toDate:function(t){var e="",i=this.dateSplit;if(isNaN(t))if(e=this.checkDate(t),this.cyctype===this.cyctypes.year){var n=e.split(i);e=n[0],n=null}else this.cyctype===this.cyctypes.month&&(e=(n=e.split(i))[0]+i+n[1],n=null);else{var s=new Date(t),o=s.getMonth()+1;o<10&&(o="0"+o);var l=s.getDate();if(l<10&&(l="0"+l),e=s.getFullYear(),e+=i,e+=o,this.cyctype!==this.cyctypes.month&&(e+=i,e+=l),this.cyctype===this.cyctypes.day&&this.showTime||this.cyctype===this.cyctypes.hour||this.cyctype===this.cyctypes.minute||this.cyctype===this.cyctypes.second){e+=" ";var r=this._getCurTime(s);e+=r.h,e+=this.timeSplit,e+=r.m,e+=this.timeSplit,e+=r.s}s=null}return e},checkDate:function(t){if("string"!=typeof(g=t))return"";var e=g.split(" ");e.length>0&&(g=e[0]);var i=this.dateSplit;if(g=g.replace(/([\.\\\/])/g,i),isNaN(g)){var n=g.split(i);if(this.cyctype==this.cyctypes.month&&2==n.length)n.push("01");else if(this.cyctype==this.cyctypes.season){if(n.length<2){(n=e)[0]=n[0].replace(this.getI18n("qzz.year","年"),"");for(var s=this.seasonCN.length,o=-1,l=0;l<s;l++)if(n[1]===this.seasonCN[l]){o=l;break}o>=0&&(n[1]=this.getMonthBySeason(o+1),n[1]<10&&(n[1]="0"+n[1])),n.push("01")}}else if(this.cyctype==this.cyctypes.ten&&n.length<2){var r=(n=e)[0].split(this.getI18n("qzz.year","年")),a=r[0],h=r[1].replace(this.getI18n("qzz.month","月"),""),c=(s=this.tenCN.length,-1);for(l=0;l<s;l++)if(n[1]===this.tenCN[l]){c=l;break}var u=1;c>=0&&(u=this.getDayByTen(c+1))<10&&(u="0"+u),n=[a,h,u]}3!=n.length||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||(a=parseInt(n[0],10),h=parseInt(n[1],10),u=parseInt(n[2],10),g=this._dateToStr(a,h,u)),n=null}else{var d=g.replace(/[^0-9]/,""),p=d.length;p<7&&(this.cyctype===this.cyctypes.year?d+="0101":this.cyctype===this.cyctypes.month&&(d+="01"));var g="";8==(p=d.length)?(a=parseInt(d.substr(0,4),10),h=parseInt(d.substr(4,2),10),u=parseInt(d.substr(6,2),10),g=this._dateToStr(a,h,u)):6==p&&(a=parseInt("20"+d.substr(0,2),10),h=parseInt(d.substr(2,2),10),u=parseInt(d.substr(4,2),10),g=this._dateToStr(a,h,u))}if(""!==g&&(this.cyctype===this.cyctypes.day&&!0===this.showTime||this.cyctype===this.cyctypes.hour||this.cyctype===this.cyctypes.minute||this.cyctype===this.cyctypes.second)){var f,y,m,v=!1;if(e.length>1){var C=e[1].split(/[:.]/g);C.length>2&&(f=C[0],y=C[1],m=C[2],v=!0)}if(!v){var S=this._getCurTime();f=S.h,y=S.m,m=S.s}g+=" "+f+this.timeSplit+y+this.timeSplit+m}return g.length>0?g:""},strToTimeMillis:function(t){return t?(-1!==t.indexOf(".")&&(t=t.substring(0,t.indexOf("."))),+new Date(this.formatDate(t).replace(/-/g,"/"))):0},formatDate:function(t){return/^\d{4}[-\/]\d{2}$/.test(t)?t+="-01":/^\d{4}$/.test(t)&&(t+="-01-01"),t},parseEcpDate:function(t){if(arguments.length){if(""===t)return t;var e=this.strToTimeMillis(t);return"/Date("+(e=isNaN(e)?+new Date:e)+"+0800)/"}return"/Date("+ +new Date+"+0800)/"},invalidDate:function(t){var e=t.replace(/^(\d{4})(\d{2})?(\d{2})?$/g,function(){var t=RegExp.$1,e=RegExp.$2,i=RegExp.$3;return t+"-"+(e||"01")+"-"+(i||"01")});return"NaN"===new Date(e).valueOf().toString()||e},parseDate:function(t,e){if(""===t||null==t)return+new Date;if("number"==typeof t||"date"==typeof t)return+t;if("string"==typeof t){var i=this.invalidDate(t);if("string"==typeof i)return+new Date(i)}var n=this.strToTimeMillis(t);if(!isNaN(n))return n;e=e||/\b\((\-*\d*)\+\b/;var s=t.toString().match(e);return s?s[1]:+new Date},strToDate:function(t,e,i,n){if(null==t||""===t)return"";t=this.parseDate(t);var s=isNaN(t)?new Date:new Date(+t),o=s.getMonth()+1,l=s.getDate(),r=s.getHours(),a=s.getMinutes(),h=s.getSeconds(),c=(r<10?"0"+r:r)+":"+(a<10?"0"+a:a);return n&&(c+=":"+(h<10?"0"+h:h)),"Y"==i||"year"==i?s.getFullYear():"M"==i||"month"==i||"S"==i||"season"==i?s.getFullYear()+"-"+(o<10?"0"+o:o):s.getFullYear()+"-"+(o<10?"0"+o:o)+"-"+(l<10?"0"+l:l)+(e?" "+c:"")},getSeasonByMonth:function(t){return t<=3?1:t<=6?2:t<=9?3:4},getMonthBySeason:function(t){var e=1;switch(t){case 1:e=1;break;case 2:e=4;break;case 3:e=7;break;case 4:e=10}return e},getTenByDay:function(t){return t<10?1:t<20?2:3},getDayByTen:function(t){var e=1;switch(t){case 1:e=1;break;case 2:e=10;break;case 3:e=20}return e},getFormatDate:function(t){"string"!=typeof t&&(t+="");var e=t.split("-"),i=new Date,n=e[0];if(isNaN(n)&&""===(n=(n+"").replace(/[^0-9]/g,""))&&(n=i.getFullYear()),this.cyctype===this.cyctypes.year)t=n;else if(this.cyctype===this.cyctypes.season)isNaN(e[1])&&(e[1]=i.getMonth()+1),t=n+this.getI18n("qzz.year","年")+" "+this.seasonCN[this.getSeasonByMonth(parseInt(e[1],10))-1];else if(this.cyctype===this.cyctypes.month)isNaN(e[1])&&(e[1]=i.getMonth()+1),t=n+"-"+e[1];else if(this.cyctype===this.cyctypes.ten){isNaN(e[1])&&(e[1]=i.getMonth()+1);var s=e[2];(null==s||""===s||isNaN(s))&&(s=i.getDate()),t=n+this.getI18n("qzz.year","年")+e[1]+this.getI18n("qzz.month","月")+" "+this.tenCN[this.getTenByDay(parseInt(s,10))-1]}return t}}),t.date}),
/*!
 * 树节点对象.
 * ecp.qzz.treenode.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.base"],function(){var t=window.qzz;return t.treenode=t.Class({init:function(){this.className="TreeNode",this.recNo=t.treenode.recNo++,t.treenode.recNo>1e9&&(t.treenode.recNo=1),this.pNode=null,this.cNode=[],this.fNode=[],this.fState={},this.sortNode={},this.sortState={},this.sortIndex={},this.sortChanged={},this.sortKey="default",this.expanded=!0,this.allCount=1,this.visibleCount=1,this.count=0,this.index=0,this.scrIndex=0,this.level=0,this.data=null,this.option=null,this.fullcode="",this.code="",this.text="",this.id="",this.checkState=!1,this.enable=!0,this.childCheckCount=0,this.nodeState=null,this.filterState=!1},saveState:function(){if(!this.filterState){for(var t=[],e=0;e<this.count;e++)t[e]=this.cNode[e];this.nodeState={cNode:t,allCount:this.allCount,visibleCount:this.visibleCount,count:this.count,index:this.index,scrIndex:this.scrIndex,expanded:this.expanded},this.filterState=!0}},loadState:function(){if(null!=this.nodeState&&this.filterState){var t=this.nodeState.cNode;this.cNode=[];for(var e=0,i=t.length;e<i;e++)this.cNode[e]=t[e];this.allCount=this.nodeState.allCount,this.visibleCount=this.nodeState.visibleCount,this.count=this.nodeState.count,this.index=this.nodeState.index,this.scrIndex=this.nodeState.scrIndex,this.expanded=this.nodeState.expanded,this.sortNode={},this.sortState={},this.sortIndex={},this.filterState=!1,this.nodeState=null}},isLeaf:function(){return 0===this.count},getCount:function(){return this.count},cacAllCount:function(t,e){this.allCount+=t;for(var i=this.pNode;null!=i;)i.allCount+=t,i=i.pNode;if(e&&this.filterState)for(this.nodeState.allCount+=t,i=this.pNode;null!=i;)i.nodeState.allCount+=t,i=i.pNode;i=null},cacVisibleCount:function(t,e){for(var i=this.pNode;null!=i&&i.expanded;)i.visibleCount+=t,i=i.pNode;if(null!=i&&(i.visibleCount+=t),e&&this.filterState){for(i=this.pNode;null!=i&&i.nodeState.expanded;)i.nodeState.visibleCount+=t,i=i.pNode;null!=i&&(i.nodeState.visibleCount+=t)}i=null},expand:function(){if(!this.expanded){this.expanded=!0;var t=this.visibleCount-1;this.cacVisibleCount(t,!1)}},collapse:function(){if(this.expanded){this.expanded=!1;var t=-1*(this.visibleCount-1);this.cacVisibleCount(t,!1)}},addNode:function(e){if(e instanceof t.treenode){this.cNode.push(e),e.pNode=this,e.index=this.count,e.level=this.level+1,e.scrIndex=this.scrIndex+this.count+1,this.count++,this.filterState&&(this.nodeState.cNode.push(e),e.saveState(),e.nodeState.index=this.nodeState.count,this.nodeState.count++);var i=this.count-1,n=i;for(var s in this.sortState)this._insertSort(s,i,n,this);var o=e.allCount;this.cacAllCount(o,!0);var l=e.visibleCount;return e.expanded||(l=1),this.visibleCount+=l,!0===this.expanded&&this.cacVisibleCount(l,!0),this.filterState&&(this.nodeState.visibleCount+=l),l=null,!0}return!1},_insertSort:function(t,e,i,n){var s=n.sortIndex[t],o=n.sortNode[t];if(null!=o||null!=s){for(var l=o.length;l>e;l--)s[l]=s[l-1],s[l]>=i&&s[l]++;for(s[l]=i,l--;l>=0;l--)s[l]>=i&&s[l]++;for(l=o.length;l>i;l--)o[l]=o[l-1],o[l].nodeIndex>=e&&o[l].nodeIndex++;for(o[l]={nodeIndex:e,cnode:[]},l--;l>=0;l--)o[l].nodeIndex>=e&&o[l].nodeIndex++}},insertNode:function(e,i){if(i instanceof t.treenode&&e>=0&&e<=this.count){for(var n=this.count;n>e;n--)this.cNode[n]=this.cNode[n-1],this.cNode[n].index=n;var s,o=null;if(e<this.count&&(s=this.cNode[e].scrIndex),e>0&&(o=this.cNode[e-1].recNo),i.pNode=this,i.index=e,i.scrIndex=s,i.level=this.level+1,this.cNode[e]=i,this.count++,this.filterState){var l=e;for(n=this.nodeState.count;n>e;n--){if(null!=o&&this.nodeState.cNode[n-1].recNo===o){l=n;break}this.nodeState.cNode[n]=this.nodeState.cNode[n-1],null!=this.nodeState.cNode[n].nodeState&&(this.nodeState.cNode[n].nodeState.index=n)}this.nodeState.cNode[l]=i,i.saveState(),i.nodeState.index=l,this.nodeState.count++}for(var r in this.sortState)this._insertSort(r,e,e,this);var a=i.allCount;this.cacAllCount(a,!0);var h=i.visibleCount;return i.expanded||(h=1),this.visibleCount+=h,!0===this.expanded&&this.cacVisibleCount(h,!0),this.filterState&&(this.nodeState.visibleCount+=h),h=null,!0}return!1},_delSort:function(t,e,i){var n=i.sortIndex[t],s=i.sortNode[t];if(null!=s||null!=n){for(var o=n[e],l=0,r=s.length;l<r-1;l++)l>=e&&(n[l]=n[l+1]),n[l]>=o&&n[l]--,l>=o&&(s[l]=s[l+1]),s[l].nodeIndex>=e&&s[l].nodeIndex--;delete n[l],s.splice(l,1)}},delNode:function(t,e){if(t>=0&&t<this.count){e=0!=e;for(var i=this.cNode[t],n=t;n<this.count-1;n++)this.cNode[n]=this.cNode[n+1],this.cNode[n].index=n;if(this.cNode[this.count-1]=void 0,this.cNode.splice(this.count-1,1),this.count--,this.filterState&&e){for(n=i.nodeState.index;n<this.nodeState.count-1;n++)this.nodeState.cNode[n]=this.nodeState.cNode[n+1],this.nodeState.cNode[n].nodeState.index=n;this.nodeState.cNode[this.nodeState.count-1]=void 0,this.nodeState.cNode.splice(this.nodeState.count-1,1),this.nodeState.count--}for(var s in this.sortState)this._delSort(s,t,this);var o=-1*i.allCount;this.cacAllCount(o,e);var l=-1*i.visibleCount;return i.expanded||(l=-1),this.visibleCount+=l,!0===this.expanded&&this.cacVisibleCount(l,e),e&&(this.filterState&&(this.nodeState.visibleCount+=l),i.pNode=null,i.cNode=[],i.sortNode={},i.destroy(),i=null),!0}return!1},getNode:function(t){return t>=0&&t<this.count?this.cNode[t]:null},getIndex:function(){return this.scrIndex},clone:function(){var e=new t.treenode;return e.recNo=this.recNo,e.expand=this.expand,e.allCount=this.allCount,e.index=this.index,e.data=this.data,e.text=this.text,e.id=this.id,e.count=this.count,e},copy:function(e){e instanceof t.treenode&&(this.recNo=e.recNo,this.expand=e.expand,this.allCount=e.allCount,this.index=e.index,this.data=e.data,this.text=e.text,this.id=e.id,this.count=e.count)},destroy:function(){var t=this;t.pNode=null,t.level=null,t.sortNode={},t._hasDestroy=!0,setTimeout(function(){if(null!=t){for(var e in t)if("baseprototype"===e)t[e]=null;else{if(null!=t[e]&&"object"==typeof t[e]&&"function"==typeof t[e].destroy)try{t[e].destroy()}catch(t){console.error(e+"[Destroy]Error:"+t.message)}delete t[e]}t._hasDestroy=!0}},5e3)}}),t.treenode.recNo=1,t.treenode}),
/*!
 * 树列表对象.
 * ecp.qzz.treelist.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.object","qzz.treenode"],function(){var t=window.qzz;return t.treelist=t.Class(t.object,{_create:function(){this.base(),this.className="TreeList",this.logInfo("treelist.create"),this.rootNode=new t.treenode,this.rootNode.level=-1,this.rootNode.scrIndex=0,this.curNode=this.rootNode,this.rootNode.data={},this.subNode=new t.treenode,this.subNode.level=-2,this.subNode.scrIndex=-1,this.subNode.data={},this.filterStack=[],this.initSort=!0,this._updates=[],this.eof=!1,this.bof=!0,this.initType=this.getOption().initType||"code",this.itemCode=this.getOption().itemCode||"bm",this.keyName=this.itemCode,this.getOption().itemCode=this.itemCode,this.getOption().idkey=this.getOption().idkey||"id",this.getOption().capkey=this.getOption().capkey||"text",this.getOption().pidkey=this.getOption().pidkey||"pid",this.dataIndexJson={},this.itemIndex=0,this.getOption().multiSelect=this.getBooleanValue(this.getOption().multiSelect,this.multiSelect),this.multiSelect=this.getOption().multiSelect,null==this.getOption().asynInitCount||""===this.getOption().asynInitCount?this.getOption().asynInitCount=50:"string"==typeof this.getOption().asynInitCount&&(this.getOption().asynInitCount=parseInt(this.getOption().asynInitCount,10)),this.lockAutoCheck=!1,this.isTree=!0,this.autoCheckType={autoCheckParent:!1,autoUnCheckParent:!1,autoCheckAllParent:!1,autoUnCheckAllParent:!1,autoCheckAllParentExt:!1,autoUnCheckAllParentExt:!1,autoCheckChild:!1,autoUnCheckChild:!1,autoCheckAllChild:!1,autoUnCheckAllChild:!1,autoCheckBrother:!1,autoUnCheckBrother:!1},this.checkType={all:"all",unall:"unall",rever:"rever"},this.modelState={DEFAULT:1,NEW:4,MODIFY:8,DELETE:2,SELECTED:16},this._lockLog=!1,this._changeSet={deleteList:[],modify:{}},this.filtered=!1,this._filterAll=this.getBooleanValue(this.getOption().filterAll,!1)},setAsynInitCount:function(t){null!=t&&""!==t&&(this.getOption().asynInitCount=parseInt(t,10))},setItemCode:function(t){this.itemCode=t,this.initType="code"},setIDPID:function(t,e){this.getOption().idkey=t,this.getOption().pidkey=e,this.initType="idpid"},setMultiSelect:function(t){this.getOption().multiSelect=t,this.multiSelect=this.getOption().multiSelect},autoCheckParent:function(t){this.autoCheckType.autoCheckParent=this.getBooleanValue(t,!1)},autoUnCheckParent:function(t){this.autoCheckType.autoUnCheckParent=this.getBooleanValue(t,!1)},autoCheckAllParent:function(t){this.autoCheckType.autoCheckAllParent=this.getBooleanValue(t,!1)},autoUnCheckAllParent:function(t){this.autoCheckType.autoUnCheckAllParent=this.getBooleanValue(t,!1)},autoCheckAllParentExt:function(t){this.autoCheckType.autoCheckAllParentExt=this.getBooleanValue(t,!1)},autoUnCheckAllParentExt:function(t){this.autoCheckType.autoUnCheckAllParentExt=this.getBooleanValue(t,!1)},autoCheckChild:function(t){this.autoCheckType.autoCheckChild=this.getBooleanValue(t,!1)},autoUnCheckChild:function(t){this.autoCheckType.autoUnCheckChild=this.getBooleanValue(t,!1)},autoCheckAllChild:function(t){this.autoCheckType.autoCheckAllChild=this.getBooleanValue(t,!1)},autoUnCheckAllChild:function(t){this.autoCheckType.autoUnCheckAllChild=this.getBooleanValue(t,!1)},autoCheckBrother:function(t){this.autoCheckType.autoCheckBrother=this.getBooleanValue(t,!1)},autoUnCheckBrother:function(t){this.autoCheckType.autoUnCheckBrother=this.getBooleanValue(t,!1)},doAutoCheck:function(t){if(!(t=t||this.curNode).checkState&&(t.checkState=!0,null!=t.pNode&&t.pNode.childCheckCount++,!this.lockAutoCheck)){if(null!=t.pNode){if(this.autoCheckType.autoCheckBrother){for(var e=t.pNode,i=0;i<e.count;i++)e.cNode[i].enable&&(e.cNode[i].checkState=!0);e.childCheckCount=e.count}if(this.autoCheckType.autoCheckAllParent)for(e=t.pNode;null!=e&&!e.checkState&&e.enable&&e.childCheckCount==e.count;)e.checkState=!0,null!=e.pNode&&e.pNode.childCheckCount++,e=e.pNode;else if(this.autoCheckType.autoCheckAllParentExt)for(e=t.pNode;null!=e&&!e.checkState;)e.enable&&(e.checkState=!0,null!=e.pNode&&e.pNode.childCheckCount++),e=e.pNode;else this.autoCheckType.autoCheckParent&&t.level>=0&&!t.pNode.checkState&&(e=t.pNode).enable&&e.childCheckCount==e.count&&(e.checkState=!0,null!=e.pNode&&e.pNode.childCheckCount++)}if(this.autoCheckType.autoCheckAllChild){var n=this.beginUpdate(!0),s=this.getCurNode();for(this.select(t),t.childCheckCount=t.count,this.next(!0);!this.isEof()&&this.getLevel()>t.level;)this.curNode.enable&&(this.curNode.checkState=!0,this.curNode.childCheckCount=this.curNode.count),this.next(!0);this.select(s),this.endUpdate(!1,n)}else if(this.autoCheckType.autoCheckChild){for(i=0;i<t.count;i++)t.cNode[i].enable&&(t.cNode[i].checkState=!0);t.childCheckCount=t.count}}},doAutoUnCheck:function(t){if((t=t||this.curNode).checkState&&(t.checkState=!1,null!=t.pNode&&t.pNode.childCheckCount--,!this.lockAutoCheck)){if(null!=t.pNode){if(this.autoCheckType.autoUnCheckBrother){for(var e=t.pNode,i=0;i<e.count;i++)e.cNode[i].enable&&(e.cNode[i].checkState=!1);e.childCheckCount=0}if(this.autoCheckType.autoUnCheckAllParent)for(e=t.pNode;null!=e&&e.checkState;)e.enable&&(e.checkState=!1,null!=e.pNode&&e.pNode.childCheckCount--),e=e.pNode;else if(this.autoCheckType.autoUnCheckAllParentExt)for(e=t.pNode;null!=e&&e.checkState&&e.enable&&0==e.childCheckCount;)e.checkState=!1,null!=e.pNode&&e.pNode.childCheckCount--,e=e.pNode;else this.autoCheckType.autoUnCheckParent&&t.level>=0&&t.pNode.checkState&&t.pNode.enable&&(t.pNode.checkState=!1,null!=e.pNode&&t.pNode.pNode.childCheckCount--)}if(this.autoCheckType.autoUnCheckAllChild){var n=this.beginUpdate(!0),s=this.getCurNode();for(this.select(t),t.childCheckCount=0,this.next(!0);!this.isEof()&&this.getLevel()>t.level;)this.curNode.enable&&(this.curNode.checkState=!1,this.curNode.childCheckCount=0),this.next(!0);this.select(s),this.endUpdate(!1,n)}else if(this.autoCheckType.autoUnCheckChild){for(i=0;i<t.count;i++)t.cNode[i].enable&&(t.cNode[i].checkState=!1);t.childCheckCount=0}}},isChecked:function(t){return(t=t||this.curNode).checkState},isSelected:function(t){return this.isChecked(t)},setCheck:function(t){t=t||this.curNode,this.doAutoCheck(t)},setSelect:function(t){this.setCheck(t)},setUnCheck:function(t){t=t||this.curNode,this.doAutoUnCheck(t)},setUnSelect:function(t){this.setUnCheck(t)},setLockAutoCheck:function(t){this.isEmpty(t)&&(t=!0),"string"==typeof t&&(t=Boolean(t)),this.lockAutoCheck=t},isEof:function(){return 0==this.getAllCount()||this.eof},isBof:function(){return 0==this.getAllCount()||this.bof},getRootNode:function(){return this.rootNode},getRecordChanged:function(){var t=this._changeSet.modify,e=0;for(var i in t){var n=t[i];null!=n.data&&(n.data.modelState&this.modelState.NEW)>0&&e++}return null!=this._changeSet.deleteList&&(e-=this._changeSet.deleteList.length),e},addNode:function(e,i,n){if(e instanceof t.treenode){if(null==n&&(n=!0),0===this.rootNode.getCount())i=this.rootNode;else if(null==i)i=this.curNode;else if(!(i instanceof t.treenode))return!1;if(("down"==this.sortType?i.insertNode(0,e):i.addNode(e))&&(null==e.data&&(e.data={}),!0!==this._lockLog&&(e.data.modelState=this.modelState.NEW,null==this._changeSet.modify[e.recNo]&&(this._changeSet.modify[e.recNo]=e)),n)){if(this.curNode=e,!0!==this._lockLog&&this.isUpdate()&&"function"==typeof this.onChanged)try{this.onChanged(this)}catch(t){this.logError("onChanged error:"+t.message)}this.isUpdate()&&!0===this.hasbind("onEdited")&&this.trigger("onEdited",["add"])}return!0}return!1},insertNode:function(e,i,n,s){if(i instanceof t.treenode){if(null==s&&(s=!0),0===this.rootNode.getCount){if(this.rootNode.addNode(i)&&s){if(this.curNode=i,null==i.data&&(i.data={}),!0!==this._lockLog&&(i.data.modelState=this.modelState.NEW,null==this._changeSet.modify[i.recNo]&&(this._changeSet.modify[i.recNo]=i)),this.isUpdate()&&"function"==typeof this.onChanged)try{this.onChanged(this)}catch(t){this.logError("onChanged error:"+t.message)}this.isUpdate()&&!0===this.hasbind("onEdited")&&this.trigger("onEdited",["insert"])}}else{if(null===n)n=this.curNode.pNode;else if(!(n instanceof t.treenode))return!1;if(n.insertNode(e,i)&&(null==i.data&&(i.data={}),!0!==this._lockLog&&(i.data.modelState=this.modelState.NEW,null==this._changeSet.modify[i.recNo]&&(this._changeSet.modify[i.recNo]=i)),s)){if(this.curNode=i,this.isUpdate()&&"function"==typeof this.onChanged)try{this.onChanged(this)}catch(t){this.logError("onChanged error:"+t.message)}this.isUpdate()&&!0===this.hasbind("onEdited")&&this.trigger("onEdited",["insert"])}}return!0}return!1},delNode:function(e,i){var n=null==e||e==this.curNode.index;if(n&&(e=this.curNode.index),null==i)i=n?this.curNode.pNode:this.curNode;else if(!(i instanceof t.treenode))return!1;if(e>=0&&e<i.getCount()){if(n)if(e>0)for(this.curNode=i.getNode(e-1);this.curNode.getCount()>0&&this.curNode.expanded;)this.curNode=this.curNode.getNode(this.curNode.getCount()-1);else i.level>0?this.curNode=i:i.getCount()>1?(this.curNode=i.getNode(e+1),this.curNode.scrIndex=1):this.curNode=i;var s=i.getNode(e),o=s.data,l=s.recNo;if(s=null,i.delNode(e),!0!==this._lockLog&&(o.modelState!==this.modelState.NEW&&(o.modelState=this.modelState.DELETE,this._changeSet.deleteList.push(o)),null!=this._changeSet.modify[l]&&delete this._changeSet.modify[l],o=null),this.isUpdate()&&"function"==typeof this.onChanged)try{this.onChanged(this)}catch(t){this.logError("onChanged error:"+t.message)}return this.isUpdate()&&!0===this.hasbind("onEdited")&&this.trigger("onEdited",["delete"]),!0}return!1},getChildNode:function(t,e){return(e=e||this.curNode).cNode[t]},getChildIndex:function(t){return(t=t||this.curNode).index},next:function(t){var e=!1,i=this.curNode.scrIndex,n=this.curNode.allCount;if(this.curNode.getCount()>0)if(t||this.curNode.expanded)this.curNode=this.getChildNode(0),e=!0,this.curNode.scrIndex!=i+1&&(this.curNode.scrIndex=i+1);else{for(var s=this.curNode.pNode,o=this.getChildIndex();null!=s;){if(o<s.getCount()-1){this.curNode=this.getChildNode(o+1,s),e=!0;break}o=this.getChildIndex(s),s=s.pNode}e&&this.curNode.scrIndex!=i+n&&(this.curNode.scrIndex=i+n),s=null,o=null}else{for(s=this.curNode.pNode,o=this.getChildIndex();null!=s;){if(o<s.getCount()-1){this.curNode=this.getChildNode(o+1,s),e=!0;break}o=this.getChildIndex(s),s=s.pNode}e&&this.curNode.scrIndex!=i+n&&(this.curNode.scrIndex=i+n),s=null,o=null}if(this.isUpdate()&&e&&"function"==typeof this.onChanged)try{this.onChanged(this)}catch(t){this.logError("onChanged error:"+t.message)}return this.bof=!1,this.eof=!e,e},lastNode:function(t,e){for(null==t&&(t=this.rootNode);t.getCount()>0&&(t.expanded||!0===e);)t=this.getChildNode(t.getCount()-1,t);return t},last:function(t){var e=this.curNode.recNo;if(this.curNode=this.lastNode(this.rootNode,t),this.isUpdate()&&e!=this.curNode.recNo&&"function"==typeof this.onChanged)try{this.onChanged(this)}catch(t){this.logError("onChanged error:"+t.message)}return this.curNode.scrIndex=this.getAllCount(),this.bof=!1,this.eof=!0,!0},prior:function(t){var e=!1;if(0==this.getChildIndex())this.curNode.level>0&&(this.curNode=this.curNode.pNode,e=!0);else{var i=this.curNode.pNode;this.curNode=this.lastNode(this.getChildNode(this.getChildIndex()-1,i),t),e=!0}if(this.isUpdate()&&e&&"function"==typeof this.onChanged)try{this.onChanged(this)}catch(t){this.logError("onChanged error:"+t.message)}return this.bof=!e,this.eof=!1,e},first:function(){var t=this.curNode.recNo;if(this.rootNode.getCount()>0&&(this.curNode=this.getChildNode(0,this.rootNode)),this.isUpdate()&&t!=this.curNode.recNo&&"function"==typeof this.onChanged)try{this.onChanged(this)}catch(t){this.logError("onChanged error:"+t.message)}return this.bof=!0,this.eof=!1,!0},gotoParent:function(t){if(this.curNode.level>0){if(null==t)this.curNode=this.curNode.pNode;else{for(var e=this.curNode;null!=e&&e.level>=0&&e.level>t;)e=e.pNode;null!=e&&(this.curNode=e)}if(this.isUpdate()&&"function"==typeof this.onChanged)try{this.onChanged(this)}catch(t){this.logError("onChanged error:"+t.message)}this.bof=!1,this.eof=!1}return!0},gotoChild:function(t,e){if(null==e&&(e=this.curNode),t>=0&&t<e.getCount()){if(this.curNode=this.getChildNode(t,e),this.isUpdate()&&"function"==typeof this.onChanged)try{this.onChanged(this)}catch(t){this.logError("onChanged error:"+t.message)}this.bof=!1,this.eof=!1}return!0},select:function(e){if(e instanceof t.treenode&&e.recNo!=this.curNode.recNo&&(this.curNode=e,this.isUpdate()&&"function"==typeof this.onChanged))try{this.onChanged(this)}catch(t){this.logError("onChanged error:"+t.message)}this.bof=!1,this.eof=!1},expandToNode:function(t){if(null!=t)for(var e=t.pNode;null!=e&&e.level>=0;)!0!==e.expanded&&e.expand(),e=e.pNode},expand:function(){this.curNode.expand(),this.curRecNo=this.curNode.recNo},isExpand:function(t){return null!=(t=t||this.curNode)&&!0===t.expanded},beginUpdate:function(t){return null==this._updates&&(this._updates=[]),!0===t?((null==this._updateIndex||this._updateIndex>=10)&&(this._updateIndex=0),this._updateIndex++,this._updates[this._updateIndex]=!1):this._updates[0]=!1,this._updateIndex},isUpdate:function(){for(var t=!0,e=0;e<=10;e++)t=t&&!1!==this._updates[e];return t},clearUpdate:function(){this._updates=[]},endUpdate:function(t,e){if(this._updates[e||0]=!0,0!=t&&this.isUpdate()&&this.curRecNo!=this.curNode.recNo&&"function"==typeof this.onChanged)try{this.onChanged(this)}catch(t){this.logError("onChanged error:"+t.message)}},_asynFullExpand:function(t,e,i,n,s){this.logInfo("_asynFullExpand:"+t.recNo);var o=0,l=this.beginUpdate(!0),r=this.curNode;for(this.select(e);!this.isEof()&&o<n&&(this.getLevel()>t.level||t.recNo==this.getRecNo());)this.curNode.expanded||(this.curNode.expanded=!0,this.curNode.visibleCount=this.curNode.allCount),o++,this.next();if(!this.isEof()&&this.getLevel()>t.level){e=this.curNode,this.select(r),this.endUpdate(!1,l);var a=this;setTimeout(function(){a._asynFullExpand(t,e,i,n,s),a=null},10)}else{if(t.level>=0)for(var h=t.allCount-i,c=t.pNode;null!=c&&c.expanded&&h>0;)c.visibleCount+=h,c=c.pNode;t.expanded=!0,t.visibleCount=t.allCount,this.select(r),this.endUpdate(!1,l),"function"==typeof s&&s()}},fullExpand:function(t,e){"function"==typeof t&&(e=t,t=null);var i=this.beginUpdate(!0);null==t&&((t=this.rootNode).scrIndex=0),this.endUpdate(!1,i);var n=t.expanded?t.visibleCount:1;this._asynFullExpand(t,t,n,100,e),t.level<0?this.first():null!=t.level&&this.select(t)},deleteAllItem:function(t,e){if("function"==typeof t&&(e=t,t=null),null==t&&(t=this.curNode),t.level>=0)if(t.getCount()>0){var i=this;this.fullExpand(t,function(){var n=i.beginUpdate(!0),s=i.lastNode(t);for(i.select(s);t.level<i.getLevel();)i.delRecord();i.delRecord(),i.endUpdate(!1,n),"function"==typeof e&&e()})}else{var n=i.beginUpdate(!0);i.delRecord(),i.endUpdate(!1,n),"function"==typeof e&&e()}else"function"==typeof e&&e()},collapse:function(){this.curNode.collapse()},_asnyFullCollapse:function(t,e,i,n){if(this.getAllCount()>0){null==t&&(t=this.rootNode),null==e&&(e=t.cNode[0]),this.logInfo("_asnyFullCollapse:"+t.recNo);var s=this.beginUpdate(!0);this.select(e);for(var o=0;!this.isEof()&&this.getLevel()>t.level&&o<i;)(e=this.getCurNode()).expanded=!1,e.visibleCount=e.count+1,e=null,this.next(!0),o++;if(this.endUpdate(!1,s),!this.isEof()&&this.getLevel()>t.level){var l=this;e=this.getCurNode(),setTimeout(function(){l._asnyFullCollapse(t,e,i,n),l=null},10)}else t.visibleCount=t.count+1,"function"==typeof n&&n.apply(this)}else"function"==typeof n&&n()},fullCollapse:function(t){this.each(function(t){t.expanded=!1,t.visibleCount=t.count+1},function(){this.rootNode.visibleCount=this.rootNode.count+1,"function"==typeof t&&t()})},getTopNode:function(){return this.getAllCount()>0?this.rootNode.getNode(0):this.rootNode},getNode:function(e,i,n){return null==n&&(n=!0),i instanceof t.treenode||(i=this.curNode),i.getNode(e)},getCurNode:function(){return this.curNode},getParentNode:function(t){return null==t&&(t=this.getCurNode()),t.pNode},getCount:function(t){return null==t&&(t=this.curNode),t.getCount()},getAllCount:function(){return this.rootNode.allCount-1},length:function(){return this.getAllCount()},getVisibleCount:function(){return this.rootNode.visibleCount-1},_asynEmptyNode:function(t,e,i,n,s){if(this.logInfo("_asynEmptyNode"),null==n&&(n=[]),null==e&&(e=t),t.count>0){var o,l=e;null==i&&(i=t,l=t.cNode[0]);for(var r=0;null!=i&&r<10;)l.count>0?(null!=i&&n.push(i),i=l,l=l.cNode[0]):(o=l.index,l.destroy(),o<i.count-1?l=i.cNode[o+1]:(i.count=0,l=i,i=n.length>0?n.pop():null)),r++;if(e=null,null!=i){var a=this;setTimeout(function(){a._asynEmptyNode(t,l,i,n,s),a=null},10)}else l.destroy(),l=null,t=null,n=null,"function"==typeof s&&s()}else t.destroy(),t=null,n=null,"function"==typeof s&&s()},empty:function(e){var i=this.rootNode;this.rootNode=new t.treenode,this.rootNode.level=-1,this.curNode=this.rootNode,this._updates=[],this.eof=!1,this.bof=!0,this._asynEmptyNode(i,null,null,null,e)},getId:function(t){return null==t&&(t=this.curNode),t.id},getText:function(t){return null==t&&(t=this.curNode),t.text},getItemCode:function(t){return null==t&&(t=this.curNode),t.fullcode},setId:function(t,e){null==e&&(e=this.curNode),e.data[this.getOption().idkey]=t,e.id=t},setText:function(t,e){null==e&&(e=this.curNode),e.data[this.getOption().capkey]=value,e.text=value},getValue:function(e,i){if(e instanceof t.treenode&&(i=e,e=null),null==i&&(i=this.curNode),null!=i.data&&null!=e){var n="";if(!0===this.getOption().fullPath)for(var s=i.pNode;s.level>=0;)n=s.data[e]+"."+n,s=s.pNode;return n+i.data[e]}if(null==e){if(n="",!0===this.getOption().fullPath)for(s=i.pNode;s.level>=0;)n=s.id+"."+n,s=s.pNode;return n+i.id}return""},_asynSetItemList:function(e,i,n,s,o,l,r){this.logBegin("_asynSetItemList:field:pCode:"+i+",index:"+s);for(var a,h,c,u=this.beginUpdate(!0),d=this.curNode,p=e.length,g=s,f=0,y=this.getOption().asynInitCount;g<p&&f<y&&this.setNo==l;){if(a=e[g],(h=new t.treenode).id=a[this.getOption().idkey],h.text=a[this.getOption().capkey],h.scrIndex=g+1,h.data=a,0==this.isTree)null!=o&&o>=0&&o<n.getCount()?(this.insertNode(o,h,n),o++):this.addNode(h,n);else if("idpid"===this.initType){var m=a[this.getOption().pidkey],v=a[this.getOption().idkey];for(h.id=v,h.pid=m,null==n&&(n=this.rootNode);n.id!=h.pid&&n.level>=0;)n=n.pNode;null!=o&&o>=0&&o<n.getCount()?(this.insertNode(o,h,n),o++):this.addNode(h,n),n=h}else{c=String(a[this.itemCode]),h.fullcode=c;var C=c.length,S=i.length,b=h.fullcode||"";if(0===S)null!=o&&o>=0&&o<n.getCount()?(this.insertNode(o,h,n),o++):this.addNode(h,n),b=b.replace(n.fullcode,""),i=c,n=h;else if(0===c.indexOf(i)&&S<C)null!=o&&o>=0&&o<n.getCount()?(this.insertNode(o,h,n),o++):this.addNode(h,n),b=b.replace(n.fullcode,""),i=c,n=h;else{for(n=n.pNode;null!=n&&!(0==(S=(i=n.fullcode||"").length)||S<C&&0===c.indexOf(i));)n=n.pNode;null==n&&(n=this.rootNode),S!=C&&(null!=o&&o>=0&&o<n.getCount()?(this.insertNode(o,h,n),o++):this.addNode(h,n),b=b.replace(n.fullcode,""),i=c,n=h)}h.code=b}f++,g++}if(this.endUpdate(!1,u),this.curNode=d,this.setNo==l)if(this.logEnd("end _asynSetItemList count:"+f),g<p){var x=this;setTimeout(function(){x._asynSetItemList(e,i,n,g,o,l,r),x=null},5)}else"function"==typeof r&&r(),a=null,h=null,n=null},getLevel:function(){return this.curNode.level},getNewCode:function(t){if(null==t.maxCode){t.maxCode=0,t.codeLen=4;var e=t.getCount();if(e>0){var i=t.getNode(e-1).code;t.codeLen=i.length,t.maxCode=parseInt(i,10)}}t.maxCode++;for(var n=t.maxCode+"",s=n.length;s<t.codeLen;s++)n="0"+n;return n},newItemCode:function(t,e){if(this.isArray(t)&&t.length>0){var i=e.fullcode,n=t[0][this.itemCode],s=this.getNewCode(e);t[0][this.itemCode]=s;for(var o=1;o<len;o++){var l=t[o][this.itemCode];l.indexOf(n)>=0?l=l.replace(n,i+s):(n=l,l=i+this.getNewCode(e)),t[o][this.itemCode]=l}return!0}return!1},sortItemList:function(t,e){if(this.logBegin("begin sort item list"),!1===this.getOption().initSort||!1===this.initSort||!1===this.isTree)return t;var i={},n=[],s=null;if("code"===this.initType){for(var o=t.length,l=[],r=0;r<o;r++){var a=(s=t[r])[this.itemCode];l[r]=a,i[a]=s}for(l.sort(),r=0;r<o;r++){var h=l[r];n.push(i[h])}l=null}else{o=t.length;var c={},u={};for(r=0;r<o;r++){var d=(s=t[r])[this.getOption().idkey],p=s[this.getOption().pidkey],g={id:d,pid:p,index:r,state:0,cn:[]};c[d]=g,null!=c[p]?(c[p].cn.push(g),c[d]=g,g.state=1):null!=u[p]?(u[p].cn.push(g),c[d]=g,g.state=1):u[d]=g}for(var d in u)0==(g=u[d]).state&&(null!=c[g[this.getOption().pidkey]]?(c[g[this.getOption().pidkey]].cn.push(g),c[g[this.getOption().idkey]]=g,g.state=0):u[g[this.getOption().pidkey]]?(u[g[this.getOption().pidkey]].cn.push(g),c[g[this.getOption().idkey]]=g,g.state=1):c[g[this.getOption().idkey]]=g);var f=[];for(var d in c)(c[d].state=0)&&f.push(c[d])}return s=null,i=null,this.logEnd("end sort item list"),n},setItemList:function(t,e){if(this.getAllCount()>0&&this.empty(!0),this.isArray(t)){this.itemList=t;var i=this.sortItemList(t,!0),n=this;this._lockLog=!0,null==this.setNo?this.setNo=1:this.setNo++;var s=this.setNo;this._changeSet={deleteList:[],modify:{}},this._asynSetItemList(i,"",this.rootNode,0,null,s,function(){var t=n.beginUpdate(!0);n.first(),n.endUpdate(!1,t),n._lockLog=!1,n=null,"function"==typeof e&&e()})}else"function"==typeof e&&e()},_getDataIndex:function(t){var e=this.getKeyValue(t);return this.dataIndexJson[e]},insertItemList:function(t,e,i,n,s){if(null==i&&(i=this.curNode),-1==i.level&&(i.scrIndex=0),i.expand(),this.isArray(e)){var o=this.sortItemList(e,!1);n&&this.newItemCode(o,i);var l="";i.level>=0&&(l=this.getValue(this.itemCode,i)),null==this.setNo?this.setNo=1:this.setNo++;var r=this.setNo;this._asynSetItemList(o,l,i,0,t,r,s)}else"object"==typeof e&&this.insertChildItem(t,e,i,n),"function"==typeof s&&s()},appendItemList:function(t,e,i,n){if(null==e&&(e=this.curNode),-1==e.level&&(e.scrIndex=0),e.expand(),this.isArray(t)){var s=this.sortItemList(t,!1);if(i&&this.newItemCode(s,e),this.storeData){var o=e.getNode(e.getCount()-1),l=this.itemIndex;this.isEmpty(o)?l=e.level<0?0:this._getDataIndex(e.data):null==(l=this._getDataIndex(o.data))&&(l=this.itemIndex),this.itemIndex=l}var r="";e.level>=0&&(r=this.getValue(this.itemCode,e)),null==this.setNo?this.setNo=1:this.setNo++;var a=this.setNo;this._asynSetItemList(s,r,e,0,null,a,n)}else"object"==typeof t&&this.appendChildItem(t,e,i),"function"==typeof n&&n()},insertItem:function(t,e,i,n){null==i&&(i=this.curNode);var s=i.pNode;null==s&&(s=this.rootNode),null==t&&("down"==this.sortType||"up"==this.sortType?(t=i.scrIndex-1,"down"==this.sortType&&(t=s.count-t)):t=i.index),this.insertChildItem(t,e,s,n)},insertChildItem:function(e,i,n,s){null==n&&(n=this.curNode);var o=new t.treenode;if(null==i&&((i={})[this.itemCode]=""),s&&(i[this.itemCode]=n.fullcode+this.getNewCode(n)),e<0?e=0:(null==e||e>n.getCount())&&(e=n.getCount()),o.id=i[this.getOption().idkey],o.text=i[this.getOption().capkey],o.fullcode=String(i[this.itemCode]),o.code=o.fullcode.replace(n.fullcode,""),o.scrIndex=n.scrIndex+e+1,this.storeData){o.data=i;var l=0;if(n.getCount()>0){var r=n.getNode(n.getCount()-1);l=this.isEmpty(r)?n.level<0?0:this._getDataIndex(n.data):this._getDataIndex(r.data)}else n.level>=0&&(l=this._getDataIndex(n.data));this.itemIndex=l}this.insertNode(e,o,n,!0)},appendItem:function(t,e,i){null==e&&(e=this.curNode);var n=e.pNode;null==n&&(n=this.rootNode),this.appendChildItem(t,n,i)},appendChildItem:function(e,i,n){null==i&&(i=this.curNode);var s=new t.treenode;if(null==e&&((e={})[this.itemCode]=""),n&&(e[this.itemCode]=i.fullcode+this.getNewCode(i)),s.id=e[this.getOption().idkey],s.text=e[this.getOption().capkey],s.fullcode=String(e[this.itemCode]),s.code=s.fullcode.replace(i.fullcode,""),"down"===this.sortType?s.scrIndex=1:s.scrIndex=i.scrIndex+i.getCount()+1,this.storeData){s.data=e;var o=0;if(i.getCount()>0){var l=i.getNode(i.getCount()-1);o=this.isEmpty(l)?i.level<0?0:this._getDataIndex(i.data):this._getDataIndex(l.data)}else i.level>=0&&(o=this._getDataIndex(i.data));this.itemIndex=o}this.addNode(s,i,!0)},delRecord:function(t){return this.deleteItem(t)},deleteItem:function(t){null==t&&(t=this.curNode);var e=!1;if(t.level>=0&&t.isLeaf()){var i=t.index,n=(t.data,this.curNode),s=null,o=t.pNode,l=!1;for(var r in o.sortState)if(o.sortState[r]){l=!0;break}!0===l&&o.count>1&&(this.select(t),this.getIndex()>1?this.prior():this.next(),s=this.getCurNode(),this.select(n)),this.delNode(i,t.pNode)&&(this._hasDelete=!0,e=!0,null!=s&&this.select(s))}return e},getRecNo:function(){return this.curNode.recNo},getIndex:function(t){return null==t&&(t=this.curNode),t.scrIndex},getDisplay:function(e,i){return e instanceof t.treenode&&(i=e,e=null),null==i&&(i=this.getCurNode()),i.text},indexOfText:function(t){if(null==t||""===t)return null;for(this.savemark(),this.first();!this.isEof();){var e=this.getCurNode();if(t===e.text)return this.loadmark(!1),e;this.next(!0)}return this.loadmark(!1),null},_compareLocateText:function(t,e,i){var n=!1,s=this.getDisplay(t)+"",o=this.getValue(t)+"";return(e&&(s==i||o==i)||!e&&(s.indexOf(i)>=0||o.indexOf(i)>=0))&&(n=!0),n},locateDesc:function(t,e,i,n,s){i=this.getBooleanValue(i,!1),this.getCurNode();var o=!1;if(t=this.trim(t+""),"@INDEX"==e)this.eachExt({desc:!0},function(e){var i=this.getIndex();if(t==i)return o=!0,!1},function(t){o&&(this.select(t),this.expandToNode(t)),"function"==typeof s&&s.apply(this,[o])});else if(!0===n&&(o=o||this._compareLocateText(e,i,t)),!0!==o){var l=this.getCurNode(),r=null;l.scrIndex>1?(this.prior(),r=this.getCurNode()):r=this.rootNode,this.eachExt({startNode:r,desc:!0},function(n){return!(o=o||this._compareLocateText(e,i,t))},function(n){o?(this.select(n),this.expandToNode(n),"function"==typeof s&&s.apply(this,[o])):this.eachExt({endNode:l,desc:!0},function(n){return!(o=o||this._compareLocateText(e,i,t))},function(t){o&&(this.select(t),this.expandToNode(t)),"function"==typeof s&&s.apply(this,[o])})})}},locate:function(t,e,i,n){i=this.getBooleanValue(i,!1);var s=this.getCurNode(),o=!1;if(t+="",t=this.trim(t),"@INDEX"==e){var l=this.beginUpdate(!0);for(this.first();!this.isEof();){if(t==(r=this.getIndex())){o=!0;break}this.next()}this.endUpdate(!1,l)}else{if(l=this.beginUpdate(!0),this.getCurNode().level<0&&this.first(),!0===n){var r=this.getDisplay(e)+"",a=this.getValue(e)+"";(i&&(r==t||a==t)||!i&&(r.indexOf(t)>=0||a.indexOf(t)>=0))&&(o=!0)}if(!0!==o){for(this.isExpand()||this.expand(),this.next();!this.isEof();){if(r=this.getDisplay(e)+"",a=this.getValue(e)+"",i&&(r==t||a==t)||!i&&(r.indexOf(t)>=0||a.indexOf(t)>=0)){o=!0;break}this.isExpand()||this.expand(),this.next()}if(this.isEof())for(this.first();!this.isEof()&&this.getIndex()<s.getIndex();){if(r=this.getDisplay(e)+"",a=this.getValue(e)+"",i&&(r==t||a==t)||!i&&(r.indexOf(t)>=0||a.indexOf(t)>=0)){o=!0;break}this.isExpand()||this.expand(),this.next()}}this.endUpdate(!1,l)}return o},_asynExpandToLevel:function(t,e,i,n){this.logInfo("_asynFullExpand:"+e.recNo);var s=0,o=this.beginUpdate(!0),l=this.curNode;for(this.select(e);this.next(!0)&&(this.curNode.level<=i?this.curNode.expand():this.curNode.expanded&&this.getCurNode().collapse(),!(++s>=t)););if(e=this.curNode,s=null,this.isEof())this.select(l),this.endUpdate(!1,o),"function"==typeof n&&n();else{this.select(l),this.endUpdate(!1,o);var r=this;setTimeout(function(){r._asynExpandToLevel(t,e,i,n),r=null},10)}},expandToLevel:function(t,e){if(this.isEmpty(t))t=0;else if("string"!=typeof t||isNaN(t)){if(isNaN(t))return"function"==typeof e&&e(),!1}else t=parseInt(t,10);return this._asynExpandToLevel(1e3,this.rootNode,t,e),!0},checkAll:function(t,e){"function"==typeof t&&(e=t,t=null),this.each(t,function(t){!1!==t.enable&&this.setCheck(t)},e)},selectAll:function(t,e){this.checkAll(t,e)},unCheckAll:function(t,e){"function"==typeof t&&(e=t,t=null),this.each(t,function(t){!1!==t.enable&&this.setUnCheck(t)},e)},unSelectAll:function(t,e){this.unCheckAll(t,e)},reverCheckAll:function(t,e){"function"==typeof t&&(e=t,t=null),this.each(t,function(t){t.checkState?this.setUnCheck(t):this.setCheck(t)},e)},reverSelectAll:function(t,e){this.reverCheckAll(t,e)},getKeyName:function(){if("string"==typeof this.keyName)return this.keyName;this.isArray(this.keyName)&&this.keyName.join("_")},getKeyValue:function(t){if("object"==typeof t){if("string"==typeof this.keyName)return t[this.keyName];if(this.isArray(this.keyName)){for(var e=[],i=0,n=this.keyName.length;i<n;i++)e[i]=t[this.keyName[i]];return e.join("_")}}},setEnableCheck:function(t,e){null==e&&(e=this.curNode),e.enable=t},setEnableSelect:function(t,e){this.setEnableCheck(t,e)},_asynEachFunc:function(t,e,i,n,s,o,l){this.logInfo("_asynEachFunc:");var r=0,a=this.beginUpdate(!0),h=this.curNode;this.select(s);var c=!0,u=0;if(e){for(;!this.isBof()&&r<i&&(this.getLevel()>n.level||this.getRecNo()==n.recNo);){this._hasDelete=!1;var d=this.getCurNode();u=this.getIndex();try{if("break"===(p=t.apply(this,[d]))||"Break"===p||!1===p){c=!1;break}}catch(t){this.logError("[EACH ERROR!]:"+t.message),c=!1}if(null!=o&&d.recNo==o.recNo){c=!1;break}d=null,this._hasDelete||this.prior(!0),r++}c=c&&!this.isBof()&&(this.getLevel()>n.level||this.getRecNo()==n.recNo)}else{for(this.curNode.level<0&&this.next(!0);!this.isEof()&&r<i&&(this.getLevel()>n.level||this.getRecNo()==n.recNo);){this._hasDelete=!1,d=this.getCurNode(),u=this.getIndex();try{var p;if("break"===(p=t.apply(this,[d]))||"Break"===p||!1===p){c=!1;break}}catch(t){this.logError("[EACH ERROR!]:"+t.message),c=!1}if(null!=o&&d.recNo==o.recNo){c=!1;break}d=null,this._hasDelete&&this.getAllCount()>0?u>1&&this.next(!0):this.next(!0),r++}c=c&&!this.isEof()&&(this.getLevel()>n.level||this.getRecNo()==n.recNo)}if(s=this.curNode,r=null,c){!0!==h._hasDestroy&&this.select(h),this.endUpdate(!1,a);var g=this;setTimeout(function(){g._asynEachFunc(t,e,i,n,s,o,l),g=null},10)}else{var f=this.getCurNode();!0!==h._hasDestroy&&this.select(h),this.endUpdate(!1,a),"function"==typeof l&&l.apply(this,[f])}},eachChecked:function(t,e,i,n){if(this.multiSelect){var s=typeof t,o=typeof i;if("function"===s){var l=typeof e;"function"===l?(i=!1,n=e):"boolean"===l&&("function"===o&&(n=i),i=e),e=t,t=this.rootNode}else"object"==s&&"function"===o&&(n=i,i=!1);if(i)var r=this.lastNode(t,!0);else r=t;this._asynEachFunc(function(t){if(this.isChecked())return e.apply(this,[t])},i,100,t,r,null,n)}},eachSelected:function(t,e,i,n){this.eachChecked(t,e,i,n)},forEach:function(t,e,i,n){this.each(t,e,i,n)},each:function(t,e,i,n){var s=typeof t,o=typeof i;if("function"===s){var l=typeof e;"function"===l?(i=!1,n=e):"boolean"===l&&("function"===o&&(n=i),i=e),e=t,t=this.rootNode}else"object"==s&&"function"===o&&(n=i,i=!1);if(i)var r=this.lastNode(t,!0);else null==t&&(t=this.rootNode),r=t;this._asynEachFunc(e,i,100,t,r,null,n)},eachExt:function(t,e,i){"function"==typeof t&&(i=e,e=t,t=null),null==t&&(t={});var n=!1,s=t.parentNode;null==s&&(s=this.rootNode),null==(r=t.startNode)&&(r=this.rootNode,n=!0);var o=t.endNode,l=this.getBooleanValue(t.desc,!1);if(l&&(n||r.level<0))var r=this.lastNode(this.rootNode,!0);this._asynEachFunc(e,l,100,s,r,o,i)},isEnableCheck:function(t){return null==t&&(t=this.curNode),t.enable},getEnableSelect:function(t){return this.isEnableCheck(t)},getCheckedData:function(){this.getCurNode(),this.first();for(var t=[];!this.isEof();)this.isChecked()&&t.push(this.getCurNode()),this.next(!0);return t},getSelectedData:function(){return this.getCheckedData()},setSelectById:function(t,e){if(!0===this.multiSelect){var i=[],n=t;if("string"==typeof n&&(n=n.split(",")),n.length>0){for(var s={},o=0,l=n.length;o<l;o++)s[n[o]]=!0;this.each(function(t){if(!0===this.isEnableCheck(t)){var e=this.getId(t);!0===s[e]&&(!0!==this.isChecked(t)&&this.setCheck(t),i.push(t))}},function(){"function"==typeof e&&e(i)})}else"function"==typeof e&&e(i)}else this.locate(t,this.getOption().idkey,!0,!0),"function"==typeof e&&e([this.getCurNode()])},setSelectByText:function(t,e){if(!0===this.multiSelect){var i=[],n=t;if("string"==typeof n&&(n=n.split(",")),n.length>0){for(var s={},o=0,l=n.length;o<l;o++)s[n[o]]=!0;this.each(function(t){if(!0===this.isEnableCheck(t)){var e=this.getText(t);!0===s[e]&&(!0!==this.isChecked(t)&&this.setCheck(t),i.push(t))}},function(){"function"==typeof e&&e(i)})}else"function"==typeof e&&e(i)}else null!=t&&""!==t&&(this.locate(t,this.getOption().capkey,!0,!0),"function"==typeof e&&e([this.getCurNode()]))},_emptyFilterItem:function(){this.filterStack=[]},clearFilterText:function(t){this.filtered?(this._emptyFilterItem(),this.setFiltered(!1,t)):"function"==typeof t&&t()},addFilterText:function(t,e,i){"function"==typeof e&&(i=e,e=!1),"string"==typeof t&&(t={sel:t}),this.filterStack.push(t),e?this.setFiltered(e,i):"function"==typeof i&&i()},doFilter:function(t){if(this.filtered){var e=this;this._asynResetFilterNode(void 0,void 0,1e3,!0,function(){e.filtered=!0,e.getAllCount()>0?e._asynFilterNode(void 0,void 0,500,!0,void 0,t):"function"==typeof t&&t()})}else this.filtered=!0,this.getAllCount()>0?this._asynFilterNode(void 0,void 0,500,!0,void 0,t):"function"==typeof t&&t()},setFiltered:function(t,e){var i=this;t?this.hasbind("onServerFilter")?this.trigger("onServerFilter",[t,this.filterStack,e]):this.doFilter(function(){i.first(),i.getCurNode().scrIndex=1,"function"==typeof e&&e()}):this.hasbind("onServerFilter")?this.trigger("onServerFilter",[t,this.filterStack,e]):this._asynResetFilterNode(void 0,void 0,1e3,!0,function(){i.filtered=!1,i.first(),"function"==typeof e&&e()})},_getFilterState:function(t){null==t&&(t=this.curNode);for(var e=!0,i=0,n=this.filterStack.length;i<n&&e;i++){var s=this.filterStack[i],o=s.sel,l=t.text||"",r=t.id||"";""===l&&(l="("+this.getI18n("qzz.empty","空白")+")"),"string"!=typeof l&&(l+=""),"string"!=typeof r&&(r+=""),-1==r.indexOf(o)&&-1==l.indexOf(o)&&(e=!1),s=null}return!e},_asynResetFilterNode:function(t,e,i,n,s){this.logInfo("_asynResetFilterNode:"),null==t&&(t=this.rootNode).loadState(),null==e&&(e=this.getChildNode(0,t));var o=this.getCurNode(),l=this.beginUpdate(!0);this.select(e);for(var r=0;!this.isEof()&&r<i&&this.getLevel()>t.level;)this.getCurNode().loadState(),this.next(!0),r++;if(e=this.getCurNode(),!this.isEof()&&this.getLevel()>t.level){var a=this;this.select(o),this.endUpdate(!1,l),setTimeout(function(){a._asynResetFilterNode(t,e,i,n,s),a=null},10)}else this.select(o),this.endUpdate(!1,l),"function"==typeof s&&s.apply(this)},_asynFilterNode:function(t,e,i,n,s,o){this.logInfo("_asynFilterNode:"),null==t&&(t=this.rootNode).saveState();var l=s;null==l&&(l=[]);var r=e;t.sortState={},null==r&&(r=this.getChildNode(0,t));var a=this.getCurNode(),h=this.beginUpdate(!0);this.select(r);for(var c=0,u=l.length,d=!1;!this.isEof()&&c<i&&this.getLevel()>t.level;){r=this.getCurNode(),d=!1,!this._filterAll&&u>0&&r.level<=l[u-1].level&&(r=l.pop(),this.select(r),d=!0,u--);var p=r.filterState;if(p||0!=d||r.saveState(),!this._filterAll&&r.getCount()>0)l.push(r),u++,g=!1;else{var g=this._getFilterState(r);this.hasbind("onFilter")&&(g=this.trigger("onFilter",[this,g])),this._filterAll||g||(l=[],u=0)}if(r.sortState={},this.next(!g),g){var f=r.pNode;if((!p||d)&&f.getCount()>r.index)for(var y=r.index+1;y<f.getCount();y++)f.cNode[y].saveState();null!=a&&a.recNo==r.recNo&&(a=null),r.pNode.delNode(r.index,!1)}this.isEof()&&u>0&&(r=l.pop(),this.select(r),u--),c++}if(r=this.getCurNode(),!this.isEof()&&this.getLevel()>t.level){null!=a&&this.select(a),this.endUpdate(!1,h);var m=this;setTimeout(function(){m._asynFilterNode(t,r,i,n,l,o),m=null},10)}else null!=a&&this.select(a),this.endUpdate(!1,h),l=null,"function"==typeof o&&o.apply(this)},getChangeSet:function(){var t=[];for(var e in t=t.concat(this._changeSet.deleteList),this._changeSet.modify){var i=this._changeSet.modify[e];null!=i.data&&((i.modelState&this.modelState.NEW)>0&&(i.data._index=i.index),t.push(i.data))}return t},getEcpChangeSet:function(){var t={},e=[];for(var i in this._changeSet.modify){var n=this._changeSet.modify[i];null!=n.data&&e.push(n.data)}return t.list=e,null!=this._changeSet.deleteList&&this._changeSet.deleteList.length>0&&(t.deleteList=this._changeSet.deleteList),t},mergeChangeLog:function(t){this._changeSet.deleteList=[];var e="";for(var i in this._changeSet.modify){var n=this._changeSet.modify[i];if(null!=t){if(t.recNo==n.recNo){n.data.modelState=this.modelState.DEFAULT,n.data._oldValue={},e=i;break}}else n.data.modelState=this.modelState.DEFAULT,n.data._oldValue={}}null!=e&&""!==e?delete this._changeSet.modify[e]:this._changeSet.modify={}},mergeSomeChangeLog:function(t,e){this._changeSet.deleteList=[];var i="";for(var n in this._changeSet.modify){var s=this._changeSet.modify[n];if(this.getValue(t,s)==e){s.data.modelState=this.modelState.DEFAULT,s.data._oldValue={},i=n;break}}null!=i&&""!==i&&delete this._changeSet.modify[i]},isLeaf:function(t){return null==t&&(t=this.getCurNode()),t.isLeaf()},mulMoveNode:function(t,e){var i=[],n=t>=0,s={};this.eachChecked(function(e){i.push(e),null==s[e.level]&&(s[e.level]=t);var o=e.pNode;if(!0===n&&e.index+1<o.count&&!0!==o.cNode[e.index+1].checkState||!1===n&&e.index>0&&!0!==o.cNode[e.index-1].checkState)var l=this.moveNode(s[e.level],e,!0);l.toIndex!=l.fromIndex&&(s[e.level]=l.toIndex-l.fromIndex)},n,function(){"function"==typeof e&&e(t,i)})},moveNode:function(t,e,i){this.isEmpty(t)&&(t=1),"string"==typeof t&&(t=isNaN(t)?1:parseInt(t,10)),null==e&&(e=this.getCurNode());var n=e.pNode,s=e.index,o=(e.scrIndex,s+t);if(o<0?o=0:o>n.getCount()-1&&(o=n.getCount()-1),s!=o){var l=n.getNode(o).scrIndex;if(s>o)for(var r=s;r>o;r--)n.cNode[r-1].scrIndex++,n.cNode[r-1].index=r,n.cNode[r]=n.cNode[r-1];else for(r=s;r<o;r++)n.cNode[r+1].scrIndex--,n.cNode[r+1].index=r,n.cNode[r]=n.cNode[r+1];if(e.scrIndex=l,e.index=o,n.cNode[o]=e,!0===i&&s>0){var a=n.getNode(s);this.select(a)}}return{fromIndex:s,toIndex:o}},savemark:function(){this._markNode=this.curNode,this.beginUpdate()},loadmark:function(t){this.select(this._markNode),this.endUpdate(!0===t)},upgrade:function(t,e){"function"==typeof t&&(e=t,t=null),null==t&&(t=this.curNode);var i=t.pNode;if(i.level>=0){var n=i.pNode;i.delNode(t.index,!1),this.each(t,function(e){if(e.recNo==t.recNo)return!1;e.level--},!0,function(){n.insertNode(i.index+1,t),"function"==typeof e&&e.apply(this,[i,n,t])})}},degrade:function(t,e){"function"==typeof t&&(e=t,t=null),null==t&&(t=this.curNode);var i=t.pNode;if(t.index>0){var n=i.getNode(t.index-1);i.delNode(t.index,!1),this.each(t,function(e){if(t.recNo==e.recNo)return!1;e.level++},!0,function(){n.addNode(t),"function"==typeof e&&e.apply(this,[i,n,t])})}},destroy:function(){this.empty(),this.base()}}),t.treelist}),
/*!
 * 树列表集对象.
 * ecp.qzz.treedataset.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.treelist","qzz.expression","qzz.date"],function(){var t=window.qzz;return t.treedataset=t.Class(t.treelist,{_create:function(){this.base(),this.className="TreeDataSet",this.logInfo("TreeDataSet.create"),this.option.colModels=[],this.option.viewColModels=[],this.storeData=!0,this.fieldOption={},this.transIDName={},this.topFilterItem=null,this.filterList={},this.selectFilterList={},this.PKeyName=[],this.keyNodeJson={},this.fieldSplit="$",this.valueSplit="_",this.keySplit="^",this.nodeBegin="#{",this.nodeEnd="}",this.pathSplit=".",this.expList=[],this.expGJList=[],this.expColGJList=[],this.sumList={},this.transState={},this.sortCach={},this.transIndex=0,this.reverGJ=!1,this.sortFieldName=null,this.filtered=!1,this.dateObject=new t.date},getDisplayModel:function(){return null==this.displayModel&&(this.displayModel=this.getDataSource().getDisplayModel()),this.displayModel},_asynGetDisplayData:function(t,e,i,n,s,o,l){if(this.logInfo("_asynGetDisplayData"),this.getAllCount()>0){null==i&&(i=this.rootNode),null==n&&(n=this.getChildNode(0,i));var r=this.beginUpdate(!0),a=this.getCurNode();this.select(n),this.logInfo("_asynGetDisplayData:"+n.scrIndex);for(var h=0,c=e.length,u={};!this.isEof()&&this.getLevel()>i.level&&h<s;){n=this.getCurNode();var d=null;if("json"===o){d={};for(var p=0;p<c;p++){var g=e[p];if(val=this.getDisplay(g),0==p&&this.isTree&&n.level>0){if(null==(y=u[n.level])){y="";for(var f=0;f<n.level;f++)y+="  ";u[n.level]=y}val=y+val}d[g]=val}}else for(d=[],p=0;p<c;p++){if(g=e[p],val=this.getDisplay(g),0==p&&this.isTree&&n.level>0){var y;if(null==(y=u[n.level])){for(y="",f=0;f<n.level;f++)y+="  ";u[n.level]=y}val=y+val}d.push(val)}t.push(d),this.next(!0),h++}if(u=null,!this.isEof()&&this.getLevel()>i.level){var m=this;n=this.getCurNode(),setTimeout(function(){m._asynGetDisplayData(t,e,i,n,s,o,l),m=null},10)}else"function"==typeof l&&l(t);this.select(a),this.endUpdate(!1,r),a=null}else"function"==typeof l&&l(t)},getDisplayData:function(t,e,i){"function"==typeof e&&(i=e,e="array"),this._asynGetDisplayData([],t,void 0,void 0,500,e,i)},open:function(){},close:function(){},setColModels:function(t){this.option.colModels=t,null==this.option.colModels&&(this.option.colModels=[]),this.fieldOption={}},setViewColModels:function(t){this.option.viewColModels=t,null==this.option.viewColModels&&(this.option.viewColModels=[]),this.fieldOption={}},getColModel:function(t){var e=this.fieldOption[t];if(null==e){for(var i=0,n=this.option.colModels.length;i<n;i++){var s=this.option.colModels[i];s.name===t&&(e=s),s=null}var o;for(i=0,n=this.option.viewColModels.length;i<n;i++){var l=this.option.viewColModels[i];l.name===t&&(o=l)}e=null!=e?this.extend({},e):{},null!=o&&(e=this.extend(e,o)),this.fieldOption[t]=e}return e},getFieldOption:function(t){return this.getColModel(t)},getDataType:function(t){var e=this.getColModel(t).dataType;return this.isEmpty(e)&&(e="String"),e.toLowerCase()},getValue:function(t,e){if(e=e||this.curNode,null==t)return"";var i=this.getColModel(t);if(t.indexOf(".")>=0){var n,s=t.split(".");if(null==(n=e.data[s[0]]))return n;for(var o=1,l=s.length;o<l;o++)n=n[s[o]]}else null!=e.data&&(n=e.data[t]);if(null!=i.defValue&&(null!=n&&""!==n||(n=i.defValue)),"function"==typeof i.onGetValue&&null!=e)try{n=i.onGetValue(this,n,e,t)}catch(e){this.logError("col "+t+" getDisplay Error:"+e.message)}return i=null,e=null,null==n?"":n},getSummary:function(t){return this.getTotalValue(t)},setSummary:function(t,e){this.setTotalValue(t,e)},getTotalValue:function(t){return null==this.rootNode.data&&(this.rootNode.data={}),this.getValue(t,this.rootNode)},setTotalValue:function(t,e){null==this.rootNode.data&&(this.rootNode.data={}),this.setValue(t,e,this.rootNode)},getSubtotalValue:function(t){return null==this.subNode.data&&(this.subNode.data={}),this.getValue(t,this.subNode)},setSubtotalValue:function(t,e){null==this.subNode.data&&(this.subNode.data={}),this.setValue(t,e,this.subNode)},getOption:function(t,e){return null==t&&null==e?this.base():this.getCellOption(t,e)},getCellOption:function(t,e){return null==e&&(e=this.curNode),null==e.option&&(e.option={}),null==e.option[t]&&(e.option[t]={}),e.option[t]},setDisplay:function(t,e,i){var n=this.getDataType(t),s=this.getColModel(t),o="",l=!0;if("date"==n){var r=this.getValue(t);isNaN(r)||"string"==typeof r?o=this.dateObject.parseEcpDate(e):(this.dateObject.setShowTime(!1),e=this.dateObject.checkDate(e),o=Date.parse(e.replace(/-/g,"/")))}else if("gldx"==n||"dxfl"==n||"unitcode"==n||"ecp.tableentity"==n||"enum"==n||"sysenum"===n){l=!1;var a=e.split(","),h=[],c=a.length;if(this.isNotEmpty(this.transIDName)&&this.isNotEmpty(this.transIDName[t])){var u=this.transIDName[t];for(var d in u)for(var p=0;p<c;p++)u[d]===a[p]&&(h.push(d),l=!0);o=h.join(",")}}else if("number"==n||"money"==n){if(this.isNotEmpty(e)&&(l=!1,o=e.replace(/[,%‰]/g,""),!isNaN(o)&&this.isNotEmpty(o))){o=parseFloat(o,10),this.isNotEmpty(s.numUnit)&&(o*=parseFloat(s.numUnit,10));var g=s.precision||s.dataScale||s.scale||0;g<0&&(g=0);var f=new Number(o);o=parseFloat(f.toFixed(g),10),l=!0}}else o=e;if(l){if("function"==typeof s.onSetDisplay)try{o=s.onSetDisplay(this,e,i)}catch(e){this.logError("col "+t+" setDisplay Error:"+e.message)}if(this.hasbind("onSetText_"+t))try{o=this.trigger("onSetText_"+t,[this,e,i])}catch(e){this.logError("col "+t+" SetText Error:"+e.message)}s=null,this.setValue(t,o)}},getDisplay:function(t,e,i,n,s){var o=!1;null==i&&(i=this.curNode),null==e&&(e=this.getValue(t,i),o=!0);var l=this.getCellOption(t,i);1==n&&(l.displayText=null);var r=this.getColModel(t),a=this.getDataType(t);null==this.transState[t]&&(this.transState[t]={});var h=!1;null!=r.option&&(h=1==r.option.multiselect||0==r.isSingle||1==r.option.isMulti||1==r.option.isMutil||"true"==r.option.isMulti||"true"==r.option.isMutil),h=(h=h||!0===r.multiSelect)||!0===r.multiple;var c=e;if("date"==a){if(""!==e&&null!=e)if(o&&this.isNotEmpty(l.displayText)&&this.transIndex===l.transIndex)e=l.displayText;else if(null!==e&&""!==e&&"NaN"!=e){var u=!1,d="day";u=this.getBooleanValue(r.showTime,!1),d=r.cyctype||d,"M"===r.showType&&(d="month"),u=u||"hour"===d||"minute"===d||"second"===d,"string"==typeof e&&e.indexOf("Date")>=0&&(e=this.dateObject.strToDate(e,u,void 0,!0)),this.dateObject.setShowTime(u),this.dateObject.cyctype=d,e=this.dateObject.toDate(e),d!=this.dateObject.cyctypes.season&&d!=this.dateObject.cyctypes.ten||(e=this.dateObject.getFormatDate(e)),!1!==r.outputEscape&&!1!==s&&(e=this._tagToText(e)),o&&(l.displayText=e,l.transIndex=this.transIndex)}}else if("number"==a||"integer"==a||"int"==a||"float"==a){if(""!==e&&null!=e)if(o&&this.isNotEmpty(l.displayText)&&this.transIndex===l.transIndex&&l._oldValue===e)e=l.displayText;else{if(l._oldValue=e,this.isNotEmpty(e)&&!isNaN(e))if(null!=this.transIDName&&null!=this.transIDName[t]&&this.transIDName[t][e])e=this.transIDName[t][e];else{this.isNotEmpty(r.numUnit)&&(e/=parseFloat(r.numUnit,10));var p=r.precision||r.dataScale||r.scale||0;p<0&&(p=0);var g=new Number(e);r.hideZero&&0==g?e="":(e=g.toFixed(p),p<7&&(e+"").indexOf("e")>0&&(e=0),!0!==r.noFormat&&(e=this.numberFormat(e)),r.numUnit==this.numUnit.perthousand?e+="‰":r.numUnit==this.numUnit.percent&&(e+="%"))}!1!==r.outputEscape&&!1!==s&&(e=this._tagToText(e)),o&&(l.displayText=e,l.transIndex=this.transIndex)}}else if(""!==e&&null!=e)if(o&&this.isNotEmpty(l.displayText)&&this.transIndex===l.transIndex)e=l.displayText;else{var f={};if(null!=this.transIDName&&null!=this.transIDName[t]&&(f=this.transIDName[t]),h)if("string"==typeof e){for(var y=e.split(/[,，]/g),m=[],v=0,C=y.length;v<C;v++){var S=f[y[v]];m[v]=null!=S?S:y[v]}e=m.join(",")}else null!=f[e]&&(e=f[e]);else null!=f[e]&&(e=f[e]);f=null,!1!==r.outputEscape&&!1!==s&&(e=this._tagToText(e)),o&&(l.displayText=e,l.transIndex=this.transIndex)}if(!this.isNotEmpty(r.validate)||""!==e&&null!=e||""===l.displayText||null==l.displayText||(e=l.displayText),!1!==r.useTextField&&null!=r.textField&&""!==r.textField&&(e=this.getValue(r.textField)),null!=r.transKey&&""!==r.transKey&&(e=this.getValue(r.transKey)),!1===s&&(e=this._textToTag(e)),this.hasbind("onBeforeFormat_"+t)&&(e=this.trigger("onBeforeFormat_"+t,[i,t,c,e,r])),this.hasbind("onFormat_"+t))try{e=this.trigger("onFormat_"+t,[i,t,a,e,r])}catch(e){this.logError("col "+t+" format Error:"+e.message)}return r=null,null==e?"":e},setValue:function(t,e,i,n){if(null==t)return!1;i=i||this.curNode;var s=this.getDataType(t),o=this.isEmpty(e),l=this.getColModel(t);if("date"==s){if(!o&&(null!=e.value&&(e=e.value),this.isNotEmpty(e)&&"string"==typeof e&&e.indexOf("Date(")<0)){var r=this.getValue(t,i);e=isNaN(r)||"string"==typeof r?this.dateObject.parseEcpDate(e):Date.parse(e.replace(/-/g,"/"))}""===e&&(e=null)}else if("gldx"==s||"dxfl"==s||"unitcode"==s||"enum"==s||"sysenum"===s)o||"object"!=typeof e||(e=this.isArray(e)?e.join(","):e.value);else if("number"==s||"money"==s){if(null!=this.transIDName&&null!=this.transIDName[t]){var a=this.transIDName[t];for(var h in a)if(a[h]==e){e=h;break}}var c=l.precision||l.dataScale||l.scale||0;if(null!=l.numUnit&&""!==l.numUnit){var u=l.numUnit+"",d=u.indexOf(".");-1!=d&&(c=c+u.length-d-1)}if(""!==e&&null!=e){if(e=this.round(e,c),null!=l.minValue&&e<l.minValue||null!=l.maxValue&&e>l.maxValue)return!1;if((e+"").replace(/[.\-,%‰]/gi,"").length>17){var p=(e+"").indexOf(".");if(c<0&&(c=0),-1==p||p+c>17)return this.logError("数值 "+e+" 太大，无法提交。"),!1}}}else"string"===s&&(this.isArray(e)&&(e=e.join(",")),null!=l.length&&l.length>0&&!o&&this.strLen(e)>l.length&&(e=this.subStr(e,l.length)));var g=this.getValue(t,i);if(i.level<0){if(null==i.data&&(i.data={}),t.indexOf(".")>=0){for(var f=t.split("."),y=1;y<S;)null==i.data[f[y]]&&(i.data[f[y]]={}),y++;i.data[f[y-1]]=e}else i.data[t]=e;this._update&&!0===this.hasbind("onTotalChanged")&&this.trigger("onTotalChanged",[t,g,e,i]),i=null}else if(o||!this.isEmpty(e)&&""+e!="NaN"){var m=this.getCellOption(t,i);if(m.displayText="",this.isNotEmpty(l.validate)){var v=this.validateValue(l.validate,i,t,e);if(v.state)m.validateMessage=null;else if(m.displayText=e,m.validateMessage=v.message,!0!==l.validateSumit)return!1;m.hasValidate=!0}if(o&&this.isEmpty(g)||!o&&0!==g&&""!==g&&g==e)return!1;if(t.indexOf(".")>=0){f=t.split(".");var C=i.data[f[0]];if(null!=C){y=1;for(var S=f.length;y<S-1;y++)C=C[f[y]];C[f[y]]=e,null==m.changed&&(null==C._oldValue&&(C._oldValue={}),C._oldValue[t]=g)}}else i.data[t]=e,null==m.changed&&(null==i.data._oldValue&&(i.data._oldValue={}),i.data._oldValue[t]=g);if(m._pValue=g,m.changed=!0,m.displayText="",0==(i.data.modelState&this.modelState.NEW)&&(i.data.modelState=i.data.modelState|this.modelState.MODIFY),null==this._changeSet.modify[i.recNo]&&(this._changeSet.modify[i.recNo]=i),null!=this.transState&&null!=this.transState[t]&&this.transState[t].transed&&null!=this.transIDName){var b=this.transIDName[t];null!=b&&null==b[e]&&(this.transState[t].transed=!1)}if(i.pNode.sortChanged[t]=!0,this._setFilterChangedState(t,g,e),null!=this.maxText&&(this.maxText[t]=null,this.maxTextLen[t]=0,this.maxCapWidth[t]=0),this._update&&!0===this.hasbind("onEdited")&&this.trigger("onEdited",["modify",t,g,e,i]),null!=m.cacPCells){for(var x in m.cacPCells){var _=m.cacPCells[x];null==_.node&&(_.node=this.getKeyNode(_.keyFieldName,_.keyValue)),null!=_.node&&(this.getCellOption(_.fieldName,_.node).cacState=1)}!0!==n&&this.caculate()}!0!==n&&null!=this.sumList[t]&&(this.sumList[t]=1,null!=g&&""!==g||(g=0),this.caculateSum(!1,t,g,e,i))}return i=null,l=null,!0},mergeChangeLog:function(t){for(var e in this._changeSet.deleteList=[],null!=t&&""!==t&&(t=JSON.parse(t)),this._changeSet.modify){var i=this._changeSet.modify[e];if(null!=t&&""!==t){var n=t[this.getValue(this.getOption().idkey,i)];null!=n&&""!==n&&(i.data[this.getOption().idkey]=n)}i.data.modelState=this.modelState.DEFAULT,i.data._oldValue={};var s=i.option;for(var o in s)s[o]._pValue=null}this._changeSet.modify={}},getChildNode:function(t,e){return e=e||this.curNode,this.isNotEmpty(this.sortFieldName)&&e.sortIndex[this.sortFieldName]&&"none"!=this.sortType&&("down"==this.sortType&&(t=e.getCount()-t-1),t=e.sortNode[this.sortFieldName][t].nodeIndex),this.base(t,e)},getChildIndex:function(t){if((t=t||this.curNode).level>=0&&this.isNotEmpty(this.sortFieldName)&&t.pNode.sortIndex[this.sortFieldName]&&"none"!=this.sortType){var e=t.pNode.sortIndex[this.sortFieldName][t.index];return"down"==this.sortType&&(e=t.pNode.getCount()-e-1),e}return t.index},setRowData:function(t,e,i,n){if(e){var s=this.getDataSource().getDataModel(),o=this.curNode.data,l=this._getDataIndex(this.curNode.data);e=this.extend(!0,{},o,e),s.get(this.getName()+"["+l+"]").value(e),s=null,o=null}},setTransIDName:function(t,e){this.transIDName[t]=e,this.transIndex++},getTransIDName:function(t){return this.transIDName[t]},addTransIDName:function(t,e,i,n){if(null==e)return!1;var s={};if(null==i&&(i="id"),null==n&&(n="text"),this.isArray(e))for(var o=0,l=e.length;o<l;o++){var r=e[o],a=r[i],h=r[n];s[a]=h}else null!=e[i]&&null!=e[n]?s[e[i]]=e[n]:s=e;var c=this.transIDName[t];if(null==c)this.transIDName[t]=s;else for(var u in s)c[u]=s[u];this.transIndex++,c=null,s=null},append:function(t,e,i){null==e&&(e=0==this.getRecordCount()?this.rootNode:this.curNode.level>=0?this.curNode.pNode:this.curNode),this.isArray(t)?this.appendItemList(t,e,!1,i):this.appendChildItem(t,e,!1),this.getCurNode().level<0&&this.first()},appendChild:function(t,e,i){null==e&&(e=0==this.getRecordCount()?this.rootNode:this.curNode),this.isArray(t)?this.appendItemList(t,e,!1,i):this.appendChildItem(t,e,!1),this.getCurNode().level<0&&this.first()},appendItemList:function(t,e,i,n){this.transState={},this.base(t,e,i,n),this.getCurNode().level<0&&this.first()},insertItemList:function(t,e,i,n,s){this.transState={},this.base(t,e,i,n,s),this.getCurNode().level<0&&this.first()},appendChildItem:function(t,e,i){this.transState={},this.base(t,e,i),this.caculateSum(),this.getCurNode().level<0&&this.first()},insertChildItem:function(t,e,i,n){this.transState={},this.base(t,e,i,n),this.caculateSum(),this.getCurNode().level<0&&this.first()},delRecord:function(t){null==t&&(t=this.curNode);var e=t.pNode,i=t.index,n=0;if(null!=this.sumList)for(var s in this.sumList)this.setValue(s,0,t);if(null!=e&&this.isNotEmpty(e.sortState))for(var o in e.sortState)if(!0===e.sortState[o]){var l=e.sortIndex[o];null!=l&&(n=l[i])}var r=this.deleteItem(t);return!0===r&&null==this.curNode.level&&(--n<0&&(n=0),e.getCount()>0?this.select(this.getChildNode(n,e)):this.select(e)),r},getRecordCount:function(){return this.getAllCount()},getReadOnly:function(t){return null==t&&(t=this.curNode),null!=t.readOnly&&t.readOnly},setReadOnly:function(t,e){null==e&&(e=this.curNode),e.readOnly=t},empty:function(t){this.selectFilterList={},this.filterList={},this.transState={},1!=t&&(this.fieldOption={},this.transIDName={},this.transIndex=0),this.base(),this.mdm=null,this.displayModel=null},locateDesc:function(t,e,i,n,s){return this.base(e,t,i,n,s)},locate:function(t,e,i,n){return this.base(e,t,i,n)},_dvFind:function(t,e,i){this.logInfo("_dvFind:"+e);var n,s,o=0,l=t.length-1;if(this.compare(e,t[o].nodeValue,this.sortCach,i)<0)return o;for(;o<l-3;){n=t[s=parseInt((o+l)/2,10)].nodeValue;var r=this.compare(e,n,this.sortCach,i);if(r>0)o=s+1;else{if(!(r<0))return s;l=s-1}}for(var a=o;a<=l;a++){if(n=t[a].nodeValue,this.compare(e,n,this.sortCach,i)<=0){s=a;break}s=a+1}return s},_sortToAnAry:function(t,e){for(var i=e.getCount()-1,n=e.sortNode[t],s=n.length-1,o=[],l=[],r=[],a={};i>=0;)s>=0?n[s].cnode.length>0?(a[n[s].nodeIndex]=i,r[i--]=n[s],o.push(n),l.push(s-1),s=(n=n[s].cnode).length-1):s>=0&&(a[n[s].nodeIndex]=i,r[i--]=n[s],s--):(n=o.pop(),s=l.pop());e.sortNode[t]=r,e.sortIndex[t]=a},_insertToSortList:function(t,e,i,n,s){if(0==e.sortNode[t].length)e.sortNode[t]=[{nodeValue:n,nodeIndex:i,cnode:[]}];else{var o=e.sortNode[t],l=o.length;if(this.compare(n,o[l-1].nodeValue,this.sortCach,s)>=0)o.push({nodeValue:n,nodeIndex:i,cnode:[]});else{var r=this._dvFind(o,n,s);l=(o=o[r].cnode).length;for(var a=!1;l>0;){if(this.compare(n,o[l-1].nodeValue,this.sortCach,s)>=0){o.push({nodeValue:n,nodeIndex:i,cnode:[]}),a=!0;break}l=(o=o[r=this._dvFind(o,n,s)].cnode).length}a||o.push({nodeValue:n,nodeIndex:i,cnode:[]})}}},_asynSortNode:function(t,e,i,n,s){if(this.logInfo("_asynSortNode:"+t),this.getAllCount()>0){null==e&&(e=this.rootNode),null==i&&(i=this.getChildNode(0,e));var o=this.beginUpdate(!0);this.select(i),this.logInfo("_asynSortNode:"+i.scrIndex);for(var l=this.getDataType(t),r=0;!this.isEof()&&this.getLevel()>e.level&&r<n;){var a,h=(i=this.getCurNode()).pNode;h.sortState[t]&&1!=h.sortChanged[t]||(0==i.index&&(h.sortNode[t]=[]),a="number"==l||"money"==l?this.getValue(t,i):this.getDisplay(t,void 0,i),this._insertToSortList(t,h,i.index,a,l),i.index==h.getCount()-1&&(h.sortState[t]=!0,h.sortChanged[t]=!1,this._sortToAnAry(t,h))),this.next(!0),r++}if(this.endUpdate(!1,o),!this.isEof()&&this.getLevel()>e.level){var c=this;i=this.getCurNode(),setTimeout(function(){c._asynSortNode(t,e,i,n,s),c=null},10)}else"function"==typeof s&&s.apply(this)}else"function"==typeof s&&s.apply(this)},doSort:function(t,e,i){var n=this;this.logBegin("doSort"),this.sortFieldName=null,this._asynSortNode(t,void 0,void 0,100,function(){n.sortFieldName=t,n.sortType=e,n.logEnd("doSort"),"function"==typeof i&&i.apply(this)})},_emptyFilterItem:function(){this.filterStack=[],this.selectFilterList={},this.topFilterItem=null},_pushFilterItem:function(t){this.filterStack.push(t),this.topFilterItem=t},_popFilterItem:function(){this.filterStack.length>0&&this.filterStack.pop(),this.topFilterItem=this._getLastFilterItem(),null!=this.topFilterItem&&(this.filterFieldName=this.topFilterItem.fieldName,this.filterList[this.filterFieldName]=this.topFilterItem.all,this.selectFilterList=this.topFilterItem.sel)},_setFilterChangedState:function(t,e,i){var n=this.filterStack.length;if(n>0)for(var s=null,o=null,l=0;l<n;l++){var r=this.filterStack[l];r.fieldName==t&&(null==s&&(s=this.getDisplay(t,e),o=this.getDisplay(t,i)),null!=r.all&&null!=r.all[e]&&delete r.all[e],r.all[i]=o,null!=r.sel[s]&&delete r.sel[s],r.sel[o]=1),r=null}},_getLastFilterItem:function(){return this.filterStack.length>0?this.filterStack[this.filterStack.length-1]:null},_getFilterState:function(t){null==t&&(t=this.curNode);for(var e=!0,i=0,n=this.filterStack.length;i<n&&e;i++){var s=this.filterStack[i];if(null!=s&&null!=s.fieldName&&""!==s.fieldName){var o=s.sel,l=this.getDisplay(s.fieldName,void 0,t),r=this.getValue(s.fieldName,t);""===l&&(l=this.getI18n("qzz.filterEmpty","(空白)")),null==o[l]&&null==o[r]&&(e=!1),s=null}}return!e},getFilterState:function(t){for(var e=!0,i=0,n=this.filterStack.length;i<n&&e;i++){var s=this.filterStack[i];s.fieldName==t&&(e=!1),s=null}return!e},_asynCollectNode:function(t,e,i,n,s){if(this.logInfo("_asynCollectNode:"+t),this.getAllCount()>0){null==e&&(e=this.rootNode),null==i&&(i=this.getChildNode(0,e));var o=this.getCurNode(),l=this.beginUpdate(!0);this.select(i);var r=0;for(this.isEmpty(this.filterList[t])&&(this.filterList[t]={});!this.isEof()&&r<n&&this.getLevel()>e.level;){var a=this.getValue(t),h=this.getDisplay(t);this.filterList[t][a]=""!==h?h:this.getI18n("qzz.filterEmpty","(空白)"),this.next(!0),r++}if(!this.isEof()&&this.getLevel()>e.level){var c=this;i=this.getCurNode(),this.select(o),this.endUpdate(!1,l),setTimeout(function(){c._asynCollectNode(t,e,i,n,s),c=null},10)}else this.select(o),this.endUpdate(!1,l),"function"==typeof s&&s.apply(this)}else"function"==typeof s&&s.apply(this)},collectFilter:function(t,e){var i=this._getLastFilterItem();if(null==i||t!==i.fieldName)if(this.hasbind("onCollectFilter")){var n=this;this.trigger("onCollectFilter",[this.filterStack,t,function(i){n.filterList[t]=i,"function"==typeof e&&e.apply(this)}])}else this.filterList[t]={},this._asynCollectNode(t,void 0,void 0,500,e);else"function"==typeof e&&e.apply(this)},doFilterCompare:function(t){},setFiltered:function(t,e){var i=this;t?(!this.isNotEmpty(this.selectFilterList)||null!=this.topFilterItem&&this.topFilterItem.fieldName==this.filterFieldName||this._pushFilterItem({fieldName:this.filterFieldName,all:this.filterList[this.filterFieldName],sel:this.selectFilterList}),this.hasbind("onServerFilter")?this.trigger("onServerFilter",[t,this.filterStack,e]):this.doFilter(function(){i.first(),i.getCurNode().scrIndex=1,"function"==typeof e&&e()})):this.hasbind("onServerFilter")?this.trigger("onServerFilter",[t,this.filterStack,e]):this._asynResetFilterNode(void 0,void 0,1e3,!0,function(){i.filtered=!1,i.first(),"function"==typeof e&&e()})},getTopFilterName:function(){return null==this.topFilterItem?"":this.topFilterItem.fieldName},addFilterText:function(t,e,i){if(null!=this.topFilterItem&&this.topFilterItem.fieldName==t&&this._popFilterItem(),this.isArray(e)){var n=e.length;if(n>0&&"all"!==e[0].id){this.selectFilterList={};for(var s=0;s<n-1;s++)this._addFilterText(t,e[s].text,!1);this._addFilterText(t,e[s].text,!0,i)}else null==this.topFilterItem?this.clearFilterText(i):this.setFiltered(!0,i)}else"string"==typeof e?this._addFilterText(t,e,!0,i):null!=e.text&&""!==e.text&&this._addFilterText(t,e.text,!0,i)},_addFilterText:function(t,e,i,n){this.filterFieldName!==t&&(this.selectFilterList={},this.filterFieldName=t),this.selectFilterList[e]=1,!1!==i?this.setFiltered(!0,n):"function"==typeof n&&n()},_asynCallFunc:function(t,e,i,n,s,o,l){this.logInfo("_asynCallFunc:"),null==e&&(e=this.rootNode),null==i&&(i=this.getChildNode(0,e)),"function"==typeof s&&s(e,i);var r=this.getCurNode(),a="function"==typeof o;if(a){var h=this.beginUpdate(!0);this.select(i);for(var c=0,u=null;!this.isEof()&&c<n&&this.getLevel()>e.level;)i=this.getCurNode(),o(this,t,i,u),this.next(),c++;u=i,i=this.getCurNode()}if(a&&!this.isEof()&&this.getLevel()>e.level){this.select(r),this.endUpdate(!1,h);var d=this;setTimeout(function(){d._asynCallFunc(t,e,i,n,s,o,l),d=null},10)}else this.select(r),this.endUpdate(!1,h),"function"==typeof l&&l.apply(this)},initMaxText:function(){this.maxText={},this.maxTextLen={},this.maxCapWidth={},this.maxLevel=0},getMaxText:function(t,e,i){"string"==typeof t&&(t=[t]);var n=100;if(this.isArray(t)&&t.length>0){if(!0===i){for(var s=!0,o=0,l=t.length;s&&o<l;o++)null!=this.maxText&&null!=this.maxText[t[o]]||(s=!1);if(1==s)return void("function"==typeof e&&e(t,this.maxText))}n=parseInt(n/t.length,10),this.isEmpty(this.maxText)&&this.initMaxText();var r=[];for(o=0,l=t.length;o<l;o++){var a=t[o];null==this.maxText[a]&&(this.maxText[a]="",this.maxTextLen[a]=0,r.push(a))}var h=this;this._asynCallFunc(r,void 0,void 0,n,void 0,function(e,i,n,s){for(var o=0,l=t.length;o<l;o++){var r=t[o],a=e.getDisplay(r);"string"==typeof a&&-1!=a.indexOf("<")&&(a=a.replace(/<(\/)?(a|span|div|li|ul|table|tr|td|input|font)( [^<>]+)?>/gi,""));var h=e.strLen(a);h>e.maxTextLen[r]&&(e.maxTextLen[r]=h,e.maxText[r]=a)}n.level>e.maxLevel&&(e.maxLevel=n.level)},function(){"function"==typeof e&&e(t,h.maxText)})}},delFilterText:function(t,e,i){this.filterFieldName===t&&this.isNotEmpty(this.selectFilterList[e])&&(delete this.selectFilterList[e],!1!==i&&(this.isNotEmpty(this.selectFilterList)?this.setFiltered(!0):this.setFiltered(!1)))},clearFilterText:function(t){this.filtered?(this._emptyFilterItem(),!0!==this.hasbind("onFilter")?this.setFiltered(!1,t):this.setFiltered(this.filtered,t)):"function"==typeof t&&t()},_asynSetKeyNode:function(t,e,i,n,s){this.logInfo("_asynSetKeyNode:"+t.join(this.valueSplit)),null==e&&(e=this.rootNode),null==i&&(i=this.getChildNode(0,e));var o=this.getCurNode(),l=this.beginUpdate(!0);this.select(i);for(var r=0,a=t.length;!this.isEof()&&r<n&&this.getLevel()>e.level;){for(var h=[],c=0;c<a;c++)h[c]=this.getValue(t[c]);var u=t.join(this.fieldSplit)+this.valueSplit+h.join(this.fieldSplit);this.keyNodeJson[u]=this.getCurNode(),this.next(!0),r++}if(i=this.getCurNode(),!this.isEof()&&this.getLevel()>e.level){this.select(o),this.endUpdate(!1,l);var d=this;setTimeout(function(){d._asynSetKeyNode(t,e,i,n,s),d=null},10)}else this.select(o),this.endUpdate(!1,l),"function"==typeof s&&s.apply(this)},setPKeyName:function(t,e){var i=t;if("string"==typeof t)t=t.split(this.fieldSplit);else{if(!this.isArray(t))return"function"==typeof e&&e.apply(this),!1;i=t.join(this.fieldSplit)}for(var n=this.PKeyName.length,s=!1,o=0;o<n;o++)if(this.PKeyName[o]===i){s=!0;break}s?"function"==typeof e&&e.apply(this):(this.PKeyName.push(i),this._asynSetKeyNode(t,void 0,void 0,1e3,e))},getKeyNode:function(t,e){var i=null;return"string"==typeof t?i=this.keyNodeJson[t+this.valueSplit+e]:this.isArray(t)&&this.isArray(e)&&(i=this.keyNodeJson[t.join(this.fieldSplit)+this.valueSplit+e.join(this.fieldSplit)]),i},addExpress:function(e,i,n,s){this.setPKeyName(i,function(){var o=this.getKeyNode(i,n);if(null!=o){var l=new t.expression;l.setDataSet(this),l.setExpression(e,i,n,s),this.getCellOption(e,o).title=l.caption,o=null;var r=this.expList.length;if(0===r)this.expList.push(l);else{var a=0;for(a=0;a<r;a++){var h=this.expList[a];if(h.indexOf(l.fieldName,l.keyFieldName,l.keyValue)>=0)break;h=null}this.expList.splice(a,0,l)}}else this.logInfo("can not found cell ("+e+","+i+"_"+n+")")})},clearExpress:function(){this.expList=[]},caculate:function(t){for(var e=this.expList.length,i=0;i<e;i++){var n=this.expList[i];null==n.node&&(n.node=this.getKeyNode(n.keyFieldName,n.keyValue)),null==n.node||1!=this.getCellOption(n.fieldName,n.node).cacState&&!t||(this.setValue(n.fieldName,n.getValue(),n.node,!0),this.getCellOption(n.fieldName,n.node).cacState=0)}},addGJExpress:function(e,i){if(null==i&&(i=e,e=null),null==e){var n=new t.expression;n.setDataSet(this),n.setGJExpression(e,i),this.expColGJList.push(n)}else this.setPKeyName(e,function(){var n=new t.expression;n.setDataSet(this),n.setGJExpression(e,i),this.expGJList.push(n)})},clearGJExpress:function(){this.expGJList=[],this.expColGJList=[]},caculateGJ:function(t,e){"function"==typeof t&&(e=t,t=!1);for(var i=this.expGJList.length,n=[],s=0;s<i;s++){var o=this.expGJList[s];if(1!=t||3==o.messageState){var l=o.getValue();(this.reverGJ&&1==l||0==this.reverGJ&&1!=l)&&n.push({cellList:o._expObject,exp:o.exp,caption:o.caption,message:o.message,sumitState:o.sumitState,messageState:o.messageState})}}if((i=this.expColGJList.length)>0){var r=this;this.each(function(e){for(var s=0;s<i;s++){var o=r.expColGJList[s];if(1!=t||3==o.messageState){var l=o.getValue(e);(r.reverGJ&&1==l||0==r.reverGJ&&1!=l)&&n.push({cellList:o._expObject,exp:o.exp,caption:o.caption,message:o.message,sumitState:o.sumitState,messageState:o.messageState,node:e})}}},function(){"function"==typeof e&&e(n)})}else"function"==typeof e&&e(n);return n},addSumColumn:function(t){this.sumList.length,null==this.sumList[t]&&(this.sumList[t]=0)},clearSumColumn:function(){this.sumList={}},caculateSum:function(t,e,i,n,s){this.sumList.length;var o={};if(null!=s&&s.level>0&&this.sumAllLevel){if(null!=e&&null!=this.sumList[e]){var l=s.pNode;null!=(c=this.getValue(e,l))&&""!==c||(c=0),c=c+n-i,this.setValue(e,c,l)}}else if(this.sumAllLevel&&0!=t){var r=this.curNode,a=this.beginUpdate(!0);this.curNode=r,this.endUpdate(!1,a)}if(null!=s&&0==s.level||0!=t){for(var e in this.sumList)o[e]=0;for(var h=0;h<this.rootNode.getCount();h++)for(var e in s=this.rootNode.cNode[h],this.sumList){var c;1!=this.sumList[e]&&0==t||(null!=(c=this.getValue(e,s))&&""!==c||(c=0),o[e]+=parseFloat(c))}for(var e in this.sumList)1!=this.sumList[e]&&0==t||(this.setSummary(e,o[e]),this.sumList[e]=0)}},resetExpress:function(){for(var t=this.expList.length,e=0;e<t;e++)(i=this.expList[e]).node=this.getKeyNode(i.keyFieldName,i.keyValue),this.getCellOption(i.fieldName,i.node).title=i.caption,i.decode();for(t=this.expGJList.length,e=0;e<t;e++){var i;(i=this.expGJList[e]).decode()}},setCheckedData:function(t,e,i){if(this.multiSelect){null==i&&(i=!0);var n={};if(this.isArray(e))for(var s=0,o=e.length;s<o;s++){var l=e[s];n[l]=l}else"object"==typeof e?n=e:n[e]=e;var r=this.getCurNode(),a=this.beginUpdate(!0);for(this.first();!this.isEof();)null!=n[this.getValue(t)]&&(i?this.setSelect():this.setUnSelect()),this.next(!0);this.select(r),this.endUpdate(!1,a),r=null}},setSelectData:function(t,e,i){this.setCheckedData(t,e,i)},getCheckedData:function(t){var e=this.getCurNode();if(e.level<0)return null;var i,n=this.beginUpdate(!0);if(!0!==t&&this.multiSelect){for(this.first(),i=[];!this.isEof();)this.isChecked()&&i.push(this.extend({},this.getCurNode().data)),this.next(!0);this.select(e)}else i=this.getCurNode().data;return this.endUpdate(!1,n),i},getSelectedData:function(t){return this.getCheckedData(t)},getSelectRowIds:function(t){var e,i=this.getCurNode(),n=this.beginUpdate(!0),s=this.keyName;if(this.isArray(s)&&s.length>0&&(s=s[0]),!0!==t&&this.multiSelect){for(e=[],this.first();!this.isEof();)this.isChecked()&&e.push(this.getValue(s)),this.next(!0);this.select(i)}else e=this.getValue(s);return this.endUpdate(!1,n),e},validateAll:function(t){var e=this.getOption().viewColModels,i=[];this.each(function(t){for(var n=0,s=e.length;n<s;n++){var o=e[n],l=this.validateValue(o.validate,t,o.name);!0!==l.state&&i.push({node:t,colModel:o,state:l.state,message:l.message||o.validateMessage||o.valiMsg||""})}},function(){"function"==typeof t&&t(i)})},validateValue:function(e,i,n,s){var o=!0,l="";null==s&&arguments.length<4&&(s=this.getValue(n,i));var r=this.getColModel(n);if(/^notempty$/i.test(e))null!=s&&""!==s&&0!==s||(o=!1,l=(l=r.validateMessage||r.valiMsg||l)||this.getI18n("qzz.notEmpty","输入值不能为空")||"");else if(this.isNotEmpty(e)){var a=!1;if(/^email$/i.test(e)?(null!=s&&""!==s&&(o=this.isEmail(s),l=this.getI18n("qzz.emailVali","输入的电子邮件不符合格式校验要求，请按照电子邮箱账号@邮箱域名格式输入，例如：User@ygsoft.com。")),a=!0):/^telePhone$/i.test(e)?(null!=s&&""!==s&&(o=this.isTele(s),l=this.getI18n("qzz.teleVali","输入的电话号码不符合校验要求，请按照区号-电话号码-分机号格式输入，例如：010-12345678-1234。")),a=!0):/^mobileTelePhone$/i.test(e)?(null!=s&&""!==s&&(o=this.isMobile(s),l=this.getI18n("qzz.mobileVali","输入的手机不符合格式校验要求，请按照电话号码（11数字位）格式输入，例如：13701234567。")),a=!0):/^postboat$/i.test(e)?(null!=s&&""!==s&&(o=this.isPostid(s),l=this.getI18n("qzz.postVali","输入的邮编不符合格式校验要求，请按照邮编号码（6位数字位）格式输入，例如：519085。")),a=!0):/^idcard$/i.test(e)&&(null!=s&&""!==s&&(o=this.isIDCard(s),l=this.getI18n("qzz.idcardVali","输入的证件号码不符合格式校验要求，请按照身份证号（18位数字， 最后一位是数字或者字母）格式输入，列如：440401234567890123。")),a=!0),!1===a){l=r.validateMessage||r.valiMsg||l;var h=r._valiExp;if(null==h){"/"===(e=this.trim(e)).charAt(e.length-1)&&(e+='.test("#{'+n+'}")'),(h=new t.expression).setDataSet(this);var c={exp:e,message:""};h.setGJExpression(null,c),r._valiExp=h}var u=i.data[n];i.data[n]=s,o=h.getValue(i),i.data[n]=u,"boolean"!=typeof o&&(o=!1)}}return{state:o,message:l}},getFilterMark:function(){var t={};return t.filterStack=this.extend([],this.filterStack),t.selectFilterList=this.extend({},this.selectFilterList),t.topFilterItem=this.extend({},this.topFilterItem),t.filterList=this.extend({},this.filterList),t},setFilterMark:function(t,e){null!=t&&(this.filterStack=t.filterStack,this.selectFilterList=t.selectFilterList,this.topFilterItem=t.topFilterItem,this.filterList=t.filterList,this.setFiltered(!0,e))},getCurData:function(t){return null==t&&(t=this.dataSet.getCurNode()),t.data},destroy:function(){this.dateObject=null,this.base()}}),t.treedataset}),
/*!
 * 树节点对象.
 * ecp.qzz.expression.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.object"],function(){var qzz=window.qzz;return qzz.expression=qzz.Class({init:function(t,e){this.className="Expression",this.expType={ftField:"FIELD",ftCell:"CELL",ftFunction:"FUNCTION",ftNone:"None"},this.exp=t,this.caption=e,this._expStack=[],this._top=0,this._expObject=[],this.dataSource={dataSet:null},this.msg="",this.state=0,this.fieldSplit="$",this.valueSplit="_",this.keySplit="~~",this.nodeBegin="#{",this.nodeEnd="}",this.pathSplit="."},indexOf:function(t,e,i){for(var n=this._expObject.length,s=-1,o=0;o<n;o++){var l=this._expObject[o];if(l.fieldName===t&&(l.type===this.expType.ftField||l.type===this.expType.ftCell&&l.keyFieldName===e&&l.keyValue===i)){s=o;break}l=null}return s},setExpression:function(t,e,i,n){null==i&&null==n&&null!=e&&(n=e,e=void 0),this.setFieldName(t),null!=e&&null!=i&&this.setKeyFieldName(e,i),"string"==typeof n?(this.exp=n,this.caption=n):(this.exp=n.exp,this.caption=n.caption),null!=this.dataSource.dataSet&&this.decode()},setGJExpression:function(t,e){if(null!=t&&this.setKeyFieldName(t,""),"object"==typeof e){this.exp=e.exp,this.caption=e.caption,this.sumitState=e.sumitState,this.messageState=e.messageState,this.message=e.message,null!=this.dataSource.dataSet&&this.decode();for(var i=this._expObject.length,n=0;n<i;n++){var s=this._expObject[n];null==s.node&&(s.node=this.getDataSet().getKeyNode(s.keyFieldName,s.keyValue));var o=this.getDataSet().getCellOption(s.fieldName,s.node);o.GJTitle=this.caption,o.isCac=!0,o=null,s=null}}},setDataSet:function(t){this.dataSource.dataSet=t},getDataSet:function(){return this.dataSource.dataSet},setFieldName:function(t){this.fieldName=t},setKeyFieldName:function(t,e){"string"==typeof t?(this.keyFieldName=t,this.keyValue=e):this.isArray(t)&&e instanceof Array&&(this.keyFieldName=t.join(this.fieldSplit),this.keyValue=e.join(this.fieldSplit))},trim:function(t){return null!=t&&""!==t&&"string"==typeof t&&(t=t.replace(/(^\s*)|(\s*$)/g,"")),t},decode:function(){var t={"<>":"!=",isNull:"==null",isNotNull:"!=null"},e=this.exp.replace(/([^><=!])([=]+)|<>|isNull|isNotNull/g,function(e,i,n){return null==(e=t[e])&&(e=i+"=="),e});t=null;var i=0;this._top=0;for(var n=e.indexOf(this.nodeBegin);n>=0;){var s=e.substring(0,n);s.length>0&&(this._expStack[this._top++]=s);var o=(e=e.substring(n+2)).indexOf(this.nodeEnd);if(o>=0){var l=e.substring(0,o);e=e.substring(o+1);var r=l.split(this.keySplit),a=r[0].split(this.fieldSplit);a.length>1&&a[0]===this.getDataSet().getName()&&a.splice(0,1);var h={};if(h.fieldName=a.join(this.pathSplit),h.index=this._top,r.length<2){h.type=this.expType.ftField;var c=this.getDataSet().getFieldOption(h.fieldName);null!=this.fieldName&&(c.cacPFields[this.fieldName]=this.getDataSet().getFieldOption(this.fieldName)),c=null}else{h.type=this.expType.ftCell;var u=r[1].split(this.valueSplit);if(h.keyFieldName=u[0],h.keyValue=u[1],h.node=this.getDataSet().getKeyNode(u[0],u[1]),null!=h.node){var d=this.getDataSet().getCellOption(h.fieldName,h.node),p=this.fieldName+this.keySplit+this.keyFieldName+this.valueSplit+this.keyValue;null==d.cacPCells&&(d.cacPCells={}),null==this.keyNode&&(this.keyNode=this.getDataSet().getKeyNode(this.keyFieldName,this.keyValue)),null!=this.keyNode&&(d.cacPCells[p]={node:this.keyNode,fieldName:this.fieldName,keyFieldName:this.keyFieldName,keyValue:this.keyValue},d.isCac=!0),d=null}}this._expObject[i++]=h,this._expStack[this._top++]=0}n=e.indexOf(this.nodeBegin)}e.length>0&&(this._expStack[this._top++]=e)},getValue:function(node,notEval){for(var len=this._expObject.length,i=0;i<len;i++){var el=this._expObject[i],val=0;if(el.type===this.expType.ftField)val=this.getDataSet().getValue(el.fieldName,node);else{if(null==el.node&&(el.node=this.getDataSet().getKeyNode(el.keyFieldName,el.keyValue),null!=el.node)){var op=this.getDataSet().getCellOption(el.fieldName,el.node),nodeKey=this.fieldName+this.keySplit+this.keyFieldName+this.valueSplit+this.keyValue;null==op.cacPCells&&(op.cacPCells={}),null==this.keyNode&&(this.keyNode=this.getDataSet().getKeyNode(this.keyFieldName,this.keyValue)),null!=this.keyNode&&(op.cacPCells[nodeKey]={node:this.keyNode,fieldName:this.fieldName,keyFieldName:this.keyFieldName,keyValue:this.keyValue},op.isCac=!0),op=null}null!=el.node&&(val=this.getDataSet().getValue(el.fieldName,el.node))}null==val||""===val?val=0:val<0&&(val="("+val+")"),this._expStack[el.index]=val,el=null}var rs=this._expStack.join("");return notEval?rs:""!==this.trim(rs)?eval("("+rs+")"):void 0}}),qzz.expression}),
/*!
 * 列表对象.
 * ecp.qzz.list.js
 * 创建者：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.object"],function(){var t=window.qzz;return t.list=t.Class(t.object,{_create:function(){this.base(),this.className="List",this.logInfo("List.create"),this.filtered=!1,this.filter={},this.datas=[],this.selectIndex=-1,this.fDatas=[],this.fselectIndex=-1,this.idColName="id",this.textColName="text"},_refreshFilter:function(){if(this.filtered){this.fDatas=[];for(var t="",e="",i=0,n=0,s=this.datas.length;i<s;i++){var o=this.datas[i];if(!1!==o._filter){var l=(t=o[this.textColName]+"").replace(/,/g,"");for(var r in isNaN(l)&&(l=""),e=o[this.idColName]+"",this.filter)if(t.indexOf(r)>=0||""!==l&&l.indexOf(r)>=0||""!==e&&e.indexOf(r)>=0){this.fDatas[n++]=o;break}}else this.fDatas[n++]=o}}else for(this.fDatas=[],i=0,s=this.datas.length;i<s;i++)this.fDatas[i]=this.datas[i]},addFilter:function(t,e){if("string"==typeof t){if(null!=this.filter[t])return;this.filter[t]=!0}else if(this.isArray(t))for(var i=0,n=t.length;i<n;i++)this.filter[t]=!0;0!=e&&(this.filtered=!0,this._refreshFilter())},sort:function(t,e){null==t&&""===t&&(t=this.idColName),null==e&&(e=!1),this.cashJson={};for(var i=0,n=this.datas.length;i<n;i++)for(var s=i+1;s<n;s++){var o=this.datas[i];"object"==typeof o&&(o=o[t]);var l=this.datas[s];if("object"==typeof l&&(l=l[t]),e){if(this.compare(o,l,this.cashJson)<0){var r=this.datas[i];this.datas[i]=this.datas[s],this.datas[s]=r}}else this.compare(o,l,this.cashJson)>0&&(r=this.datas[i],this.datas[i]=this.datas[s],this.datas[s]=r)}this._refreshFilter()},doFilter:function(t){null==t&&(t=!0),this.filtered=t,this._refreshFilter()},delFilter:function(t,e){if("string"==typeof t){if(null==this.filter[t])return;delete this.filter[t]}else if(this.isArray(t))for(var i=0,n=t.length;i<n;i++)null!=this.filter[t]&&delete this.filter[t];for(var s in this.filtered=!1,this.filter){this.filtered=!0;break}0!=e&&this._refreshFilter()},filterExist:function(t){if(null==t){var e=0;for(key in this.filter)e++;return e}return null!=this.filter[t]},clearFilter:function(){this.filtered=!1,this.filter={},this._refreshFilter()},setItemList:function(t){if(this._maxLen=0,this.isArray(t)&&t.length>0)if("string"==typeof t[0]||"number"==typeof t[0]){var e=t.length;this.datas=[];for(var i=0;i<e;i++){var n={};n[this.textColName]=t[i],this.datas.push(n)}}else this.datas=t;else this.filtered=!1,this.filter={},this.datas=[];return this.selectIndex=-1,this.datas.length>0&&(this.selectIndex=0),this._refreshFilter(),!0},getItemList:function(t){return!0===t?this.datas:this.fDatas},addItem:function(t){return this._maxLen=0,"string"==typeof t?this.datas[this.datas.length][this.textColName]=t:"object"==typeof t&&(this.datas[this.datas.length]=t),this.selectIndex=this.datas.length-1,!0},delItem:function(t){return!this.filtered&&(this._maxLen=0,t>=0&&t<this.datas.length&&this.datas.splice(t,1),this.datas.length>0&&(this.selectIndex=t>0?t-1:t),!0)},insertItem:function(t,e){if(this.filtered)return!1;if(this._maxLen=0,t>=0&&t<this.datas.length){var i=e;"string"==typeof e&&((i={})[this.textColName]=e),this.datas.splice(t,0,i)}return this.selectIndex=t,!0},modItem:function(t,e){if(this.filtered)return!1;if(this._maxLen=0,t>=0&&t<this.datas.length){var i=e;"string"==typeof e&&((i={})[this.textColName]=e),this.datas.splice(t,1,i)}return!0},getItem:function(t,e){var i=this.getItemList(e);return t>=0&&t<i.length?i[t]:null},first:function(t){this.getItemList(t).length>0&&(this.selectIndex=0)},last:function(t){var e=this.getItemList(t);e.length>0&&(this.selectIndex=e.length-1)},next:function(t){var e=this.getItemList(t);this.selectIndex<e.length-1&&this.selectIndex++},prior:function(){this.selectIndex>0&&this.selectIndex--},length:function(t){return this.getItemList(t).length},indexOfText:function(t,e){for(var i=-1,n=this.getItemList(e),s=n.length,o=0;o<s;o++){var l=n[o][this.textColName]+"";if(this.trim(l)===this.trim(t)){i=o;break}}return n=null,i},indexOf:function(t,e){for(var i=-1,n=this.getItemList(e),s=n.length,o=0;o<s;o++)if(null!=n[o][this.idColName]){if(n[o][this.idColName]===t){i=o;break}}else if(n[o][this.textColName]===t){i=o;break}return i},getMaxText:function(t){if(0==this._maxLen){for(var e=this.getItemList(t),i=0,n=e.length;i<n;i++){var s=this.strLen(e[i][this.textColName]+"");this._maxLen<s&&(this._maxLen=s,this._maxText=e[i][this.textColName]+"")}e=null}return this._maxText}}),t.list}),
/*!
 * 远光ECP平台3.4版本 
 * 
 * 可见窗口基类.：qzz.ui.Window
 * ecp.qzz.ui.window.js
 * @requires qzz.ui
 */
null==window.qdefine&&(window.qdefine=define),null==window.GRM_ROOT&&(window.GRM_ROOT="/grm/ecp/webcore"),qdefine(["qzz.object"],function(){var t=window.qzz;return t.space("ui"),require(["css!"+GRM_ROOT+"/themes/default/qzz/ecp.qzz.css"],function(){t.ui.cssloaded=!0}),t.ui.window=t.Class(t.object,{init:function(t,e){var i=null;this._renderFinish=!1,null==e&&(null!=t&&(null!=t.selector&&1==t.length||null!=t.getAttribute&&1==t.getAttribute("nodeType"))||(e=t,t=null));try{if(null!=t){null!=t.selector&&t.length>0?this.control=t[0]:this.control=t,this.control.setAttribute("ecpclass",this.getEcpType()),this.name=this.control.getAttribute("dataField");var n=this.control.getAttribute("data-option");try{null!=n&&""==typeof n&&(0!=(n=this.trim(n)).indexOf("{")&&0!=n.indexOf("[")||(n=JSON.parse(n))),this.inputer=n}catch(t){this.logError("inputer to Json error!"+t.message+t.stack)}if(e&&e.inputer){var s=(i=e).refTypeValues,o=i.dataType;n&&(i.inputer=this.extend(i.inputer,n)),e=this.extend(e,i.inputer.option),null!=s&&"sysenum"===o&&(e.data=null)}else n&&(e=this.extend(e,n.option)),i={inputer:{option:e}};this.dataField=this.control.getAttribute("dataField")}this.base(e),this.keyBoard={ENTER:13,TAB:9,UP:38,DOWN:40,Left:37,Right:39,LEFT:37,RIGHT:39,BACKSPACE:8,ESC:27,DEL:46,PAGEUP:33,PAGEDOWN:34,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,C:67,D:68,N:78,F:84,O:79,P:80,LArrow:188,RArrow:190,V:86,X:88,Z:90,CTRL:17,A:65,HOME:36,END:35,SHIFT:16,PgUp:33,PgDn:34},this.ELEM_WIDTH_STYLE=["border-left-width","border-right-width","padding-left","padding-right","margin-left","margin-right"],this.ELEM_HEIGHT_STYLE=["border-top-height","border-bottom-height","padding-top","padding-bottom","margin-top","margin-bottom"],this.IE_ELEM_WIDTH_STYLE=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight","marginLeft","marginRight"],this.IE_ELEM_HEIGHT_STYLE=["borderTopHeight","borderBottomHeight","paddingTop","paddingBottom","marginTop","marginBottom"],this.mouseType={mtLeft:"L",mtRight:"R"},this._cssPrefix="",this.isNotEmpty(this.getOption().cssPrefix)&&(this._cssPrefix=this.getOption().cssPrefix),this._textSpan=document.getElementById("textSpan"),null==this._textSpan&&(this._textSpan=this.createElement("span"),this._textSpan.setAttribute("id","textSpan"),this.getBody().appendChild(this._textSpan)),this.setStyle(this._textSpan,"testSpan"),this._textSpan.style.display="none",this._render(),this._afterRender(),this._eventList={},this.body=null}catch(t){this.logError("init error:"+t.message+t.stack)}null==window._qzz_component_list&&(window._qzz_component_list={}),window._qzz_component_list[this.index]=this,this._renderFinish=!0},_create:function(){this.className="Window",this._update=!0,this.parent,this.childComponent=[],this.tmpResize="",this._enabled=!this.getBooleanValue(this.getOption().disabled,!1),this._readOnly=this.getBooleanValue(this.getOption().readOnly,!1),this._readOnly=!this.getBooleanValue(this.getOption().editable,!0),null==this.getOption().width&&null!=this.control&&(this.getOption().width=this._getNumberValue(this.control.style.width,10)),"string"==typeof this.getOption().width&&/[\d]+%$/.test(this.getOption().width)||(this.getOption().width=this._getNumberValue(this.getOption().width,10)),"string"==typeof this.getOption().height&&/[\d]+%$/.test(this.getOption().height)||(this.getOption().height=this._getNumberValue(this.getOption().height,10)),this.getOption().margin=this._getNumberValue(this.getOption().margin,""),this.getOption().marginLeft=this._getNumberValue(this.getOption().marginLeft,""),this.getOption().marginRight=this._getNumberValue(this.getOption().marginRight,""),this.getOption().marginTop=this._getNumberValue(this.getOption().marginTop,""),this.getOption().marginBottom=this._getNumberValue(this.getOption().marginBottom,""),this.getOption().padding=this._getNumberValue(this.getOption().padding,""),this.getOption().paddingLeft=this._getNumberValue(this.getOption().paddingLeft,""),this.getOption().paddingRight=this._getNumberValue(this.getOption().paddingRight,""),this.getOption().paddingTop=this._getNumberValue(this.getOption().paddingTop,""),this.getOption().paddingBottom=this._getNumberValue(this.getOption().paddingBottom,""),this.getOption().border=this.getOption().border||"",this.getOption().borderLeft=this.getOption().borderLeft||"",this.getOption().borderRight=this.getOption().borderRight||"",this.getOption().borderTop=this.getOption().borderTop||"",this.getOption().borderBottom=this.getOption().borderBottom||"",this.getOption().borderWidth=this._getNumberValue(this.getOption().borderWidth,""),this.getOption().borderLeftWidth=this._getNumberValue(this.getOption().borderLeftWidth,""),this.getOption().borderRightWidth=this._getNumberValue(this.getOption().borderRightWidth,""),this.getOption().borderTopWidth=this._getNumberValue(this.getOption().borderTopWidth,""),this.getOption().borderBottomWidth=this._getNumberValue(this.getOption().borderBottomWidth,""),this.getOption().fontSize=this._getNumberValue(this.getOption().fontSize,""),this.getOption().defFontSize=this._getNumberValue(this.getOption().fontSize,14),this.getOption().designer=this.getBooleanValue(this.getOption().designer,!1);var t=this.getControl();if(this.isNotEmpty(t)){this.thisWindow=t;var e=t.parentNode;null!=e&&this.isNotEmpty(e._object)&&(e=e._object),this.setParent(e,!0),this.thisWindow._object=this,e=null}t=null,this.focus=!1,this.hasSelect=!1,this._hasclick=!0,this._atop=null,this._aleft=null,this._sizew=.3,this._sizeh=1.3,this.getOption().top=this._getNumberValue(this.getOption().top,0),this.getOption().left=this._getNumberValue(this.getOption().left,0),this.docFragment=document.createDocumentFragment()},_render:function(){var t=this.control;if((null==t||0==t.length)&&(this.thisWindow=this.createElement("div"),this.control=this.thisWindow,null!=this.getOption().parent)){var e=this.getOption().parent;!e.isComponent&&null!=e&&this.isNotEmpty(e._object)&&(e=e._object),this.setParent(e),this.thisWindow._object=this,this.getOption().parent=null,e=null}"function"!=typeof this.doContainerHide&&"function"!=typeof this.doContainerShow||this.isShow()||(this._showState=!1,this.logInfo("show handel has set")),this.setStyle(this.thisWindow,"winStyle"),this._setNumberValue(this.thisWindow,"margin",this.getOption().margin),this._setNumberValue(this.thisWindow,"marginLeft",this.getOption().marginLeft),this._setNumberValue(this.thisWindow,"marginRight",this.getOption().marginRight),this._setNumberValue(this.thisWindow,"marginTop",this.getOption().marginTop),this._setNumberValue(this.thisWindow,"marginBottom",this.getOption().marginBottom),this._setNumberValue(this.thisWindow,"padding",this.getOption().padding),this._setNumberValue(this.thisWindow,"paddingLeft",this.getOption().paddingLeft),this._setNumberValue(this.thisWindow,"paddingRight",this.getOption().paddingRight),this._setNumberValue(this.thisWindow,"paddingTop",this.getOption().paddingTop),this._setNumberValue(this.thisWindow,"paddingBottom",this.getOption().paddingBottom),this._setNumberValue(this.thisWindow,"borderWidth",this.getOption().borderWidth),this._setNumberValue(this.thisWindow,"borderLeftWidth",this.getOption().borderLeftWidth),this._setNumberValue(this.thisWindow,"borderRightWidth",this.getOption().borderRightWidth),this._setNumberValue(this.thisWindow,"borderTopWidth",this.getOption().borderTopWidth),this._setNumberValue(this.thisWindow,"borderBottomWidth",this.getOption().borderBottomWidth),""!==this.getOption().border&&(this.thisWindow.style.border=this.getOption().border),""!==this.getOption().borderLeft&&(this.thisWindow.style.borderLeft=this.getOption().borderLeft),""!==this.getOption().borderRight&&(this.thisWindow.style.borderRight=this.getOption().borderRight),""!==this.getOption().borderTop&&(this.thisWindow.style.borderTop=this.getOption().borderTop),""!==this.getOption().borderBottom&&(this.thisWindow.style.borderBottom=this.getOption().borderBottom),null!=this.getOption().color&&""!==this.getOption().color&&(this.thisWindow.style.color=this.getOption().color),this._setNumberValue(this.thisWindow,"top",this.getOption().top),this._setNumberValue(this.thisWindow,"left",this.getOption().left),null!=this.getOption().borderStyle&&(this.thisWindow.style.borderStyle=this.getOption().borderStyle),null!=this.getOption().radius&&(this.thisWindow.style.borderRadius=this.getOption().radius+"px"),null!=this.getOption().borderColor&&(this.thisWindow.style.borderColor=this.getOption().borderColor),/[\d]+%$/.test(this.getOption().width)?this.thisWindow.style.width=this.getOption().width:this._setNumberValue(this.thisWindow,"width",this.getOption().width),/[\d]+%$/.test(this.getOption().height)?this.thisWindow.style.height=this.getOption().height:this._setNumberValue(this.thisWindow,"height",this.getOption().height),null!=this.getOption().fontSize&&""!==this.getOption().fontSize?this._setNumberValue(this.thisWindow,"fontSize",this.getOption().fontSize):(this.thisWindow.style.fontSize="14px",this.getOption().fontSize=14),null!=this.getOption().textAlign&&""!==this.getOption().textAlign&&(this.thisWindow.style.textAlign=this.getOption().textAlign),null!=this.getOption().opacity&&""!==this.getOption().opacity&&(this.thisWindow.style.opacity=this.getOption().opacity),this._hasResize()&&this._doResize()},isMouseOver:function(){return this._mouseover},_afterRender:function(){var t=this;this.thisWindow.onmousedown=function(){t._hasclick=!1},this.thisWindow.onmouseup=function(){t._hasclick=!0,t.hasSelect=!0},this.thisWindow.onmouseover=function(e){e=e||window.event,t._mouseover=!0,"function"==typeof t.doMouseOver&&t.doMouseOver(e)},this.thisWindow.onmouseout=function(e){e=e||window.event,t._mouseover=!1,"function"==typeof t.doMouseOut&&t.doMouseOut(e)},1==this.getOption().designer&&null!=this.getOption().caption&&""!==this.getOption().caption&&(null==this._capSpan&&(this._capSpan=this.createElement("DIV"),this.setStyle(this._capSpan,"winCaptionStyle"),this.thisWindow.appendChild(this._capSpan)),this._setHtml(this._capSpan,this.getOption().caption)),null!=this.getOption().title&&""!==this.getOption().title&&(this.thisWindow.title=this.getOption().title),this._isShow=this.thisWindow.offsetWidth>0,this._sysEvent()},getID:function(){return null==this.id&&(this.id=this.thisWindow.id),this.id},getNumberValue:function(t,e){return this._getNumberValue(t,e)},_getNumberValue:function(t,e){var i=t,n=e;return this.isNotEmpty(i)?"string"==typeof i&&(i=i.replace(/px/,""),i=this.isEmpty(i)?n:parseInt(i,10)):i=n,i},_hasResize:function(){return!(this.thisWindow.style.top==this.getOption().top+"px"&&this.thisWindow.style.left==this.getOption().left+"px"&&this.thisWindow.style.width==this.getOption().width+"px"&&this.thisWindow.style.height==this.getOption().height+"px")},_doResize:function(){if(!this._update)return!1;this.logBegin("_doResize:"+this.getOption().width);var t="",e=this.getTop(),i=this.thisWindow.style.top;this._setNumberValue(this.thisWindow,"top",e)&&(t+=this.getName()+" top:"+i+" to "+e+"\n");var n=this.getLeft();i=this.thisWindow.style.left,this._setNumberValue(this.thisWindow,"left",n)&&(t+=this.getName()+" left:"+i+" to "+n+"\n");var s=this.getWidth();s<=0&&(s=1),!0===/\d+%$/.test(s)?this.thisWindow.style.width=s:/\d+%$/.test(this.thisWindow.style.width)||(s<(i=this._getNumberValue(this.thisWindow.style.width,1))||s>i+2||!this.getBrowser("msie"))&&this._setNumberValue(this.thisWindow,"width",s)&&(t+=this.getName()+" width:"+i+" to "+s+"\n");var o=this.getHeight();o<=0&&(o=1),!0===/\d+%$/.test(o)?this.thisWindow.style.height=o:/\d+%$/.test(this.thisWindow.style.height)||(i=this.thisWindow.style.height,this._setNumberValue(this.thisWindow,"height",o)&&(t+=this.getName()+" height:"+i+" to "+o+"\n")),this.logEnd("_doResize "+t)},_getRectTop:function(t){return this._getPaddingTop(t)},_getRectLeft:function(t){return this._getPaddingLeft(t)},_getRectWidth:function(t){var e=this.getWidth();return this.isNotEmpty(t)?(null==t.tagName&&t.length>0&&(t=t[0]),"BODY"==t.tagName?(e=this._getBodyWidth(),this.isEmpty(t.style.marginLeft)&&(t.style.marginLeft="0px"),this.isEmpty(t.style.marginRight)&&(t.style.marginRight="0px")):e=null==t._width?t.offsetWidth:t._width):/\d+%$/.test(e)&&(e=this.thisWindow.offsetWidth),e-(this._getPaddingLeft(t)+this._getPaddingRight(t)+this._getBorderLeft(t)+this._getBorderRight(t))},_getRectHeight:function(t){var e=this.getHeight();return this.isNotEmpty(t)?(null==t.tagName&&t.length>0&&(t=t[0]),"BODY"==t.tagName?(e=this._getBodyHeight(),this.isEmpty(t.style.marginTop)&&(t.style.marginTop="0px"),this.isEmpty(t.style.marginBottom)&&(t.style.marginBottom="0px")):e=null==t._height?t.offsetHeight:t._height):/\d+%$/.test(e)&&(e=this.thisWindow.offsetHeight),e-(this._getPaddingTop(t)+this._getPaddingBottom(t)+this._getBorderTop(t)+this._getBorderBottom(t))},_getBorderLeft:function(t){null==(t=t||this.thisWindow).tagName&&t.length>0&&(t=t[0]);var e=0;return"medium"===(e="BODY"==t.tagName?t.style.borderLeftWidth:this.getCurrentStyle(t).borderLeftWidth)&&(e=""),this._getNumberValue(e,0)},_getBorderRight:function(t){null==(t=t||this.thisWindow).tagName&&t.length>0&&(t=t[0]);var e=0;return"medium"===(e="BODY"==t.tagName?t.style.borderRightWidth:this.getCurrentStyle(t).borderRightWidth)&&(e=""),this._getNumberValue(e,0)},_getBorderTop:function(t){null==(t=t||this.thisWindow).tagName&&t.length>0&&(t=t[0]);var e=0;return"medium"===(e="BODY"==t.tagName?t.style.borderTopWidth:this.getCurrentStyle(t).borderTopWidth)&&(e=""),this._getNumberValue(e,0)},_getBorderBottom:function(t){null==(t=t||this.thisWindow).tagName&&t.length>0&&(t=t[0]);var e=0;return"medium"===(e="BODY"==t.tagName?t.style.borderBottomWidth:this.getCurrentStyle(t).borderBottomWidth)&&(e=""),this._getNumberValue(e,0)},_getMarginLeft:function(t){null==(t=t||this.thisWindow).tagName&&t.length>0&&(t=t[0]);var e=0;return"auto"===(e="BODY"==t.tagName?t.style.marginLeft:this.getCurrentStyle(t).marginLeft)&&(e=""),this._getNumberValue(e,0)},_getMarginRight:function(t){null==(t=t||this.thisWindow).tagName&&t.length>0&&(t=t[0]);var e=0;return"auto"===(e="BODY"==t.tagName?t.style.marginRight:this.getCurrentStyle(t).marginRight)&&(e=""),this._getNumberValue(e,0)},_getMarginTop:function(t){null==(t=t||this.thisWindow).tagName&&t.length>0&&(t=t[0]);var e=0;return"auto"===(e="BODY"==t.tagName?t.style.marginTop:this.getCurrentStyle(t).marginTop)&&(e=""),this._getNumberValue(e,0)},_getMarginBottom:function(t){null==(t=t||this.thisWindow).tagName&&t.length>0&&(t=t[0]);var e=0;return"auto"===(e="BODY"==t.tagName?t.style.marginBottom:this.getCurrentStyle(t).marginBottom)&&(e=""),this._getNumberValue(e,0)},_getPaddingLeft:function(t){null==(t=t||this.thisWindow).tagName&&t.length>0&&(t=t[0]);var e;return e="BODY"==t.tagName?t.style.paddingLeft:this.getCurrentStyle(t).paddingLeft,this._getNumberValue(e,0)},_getPaddingRight:function(t){null==(t=t||this.thisWindow).tagName&&t.length>0&&(t=t[0]);var e;return e="BODY"==t.tagName?t.style.paddingRight:this.getCurrentStyle(t).paddingRight,this._getNumberValue(e,0)},_getPaddingTop:function(t){null==(t=t||this.thisWindow).tagName&&t.length>0&&(t=t[0]);var e;return e="BODY"==t.tagName?t.style.paddingTop:this.getCurrentStyle(t).paddingTop,this._getNumberValue(e,0)},_getPaddingBottom:function(t){null==(t=t||this.thisWindow).tagName&&t.length>0&&(t=t[0]);var e;return e="BODY"==t.tagName?t.style.paddingBottom:this.getCurrentStyle(t).paddingBottom,this._getNumberValue(e,0)},getBody:function(){return null==this.body&&(this.body=document.body),this.body},findModelBody:function(t){for(var e=t.parentNode,i=null;null!=e&&"BODY"!==e.tagName.toUpperCase()&&("-1"==e.getAttribute("tabindex")?i=e:"string"==typeof e.className&&e.className.indexOf(".modal-dialog")>=0&&null!=e.parentNode?i=e.parentNode:!0===this.trigger("modelSelector",[e])&&(i=e),null==i);)e=e.parentNode;return i},getModelBody:function(){return null==this.modelBody&&(this.modelBody=this.findModelBody(this.getControl()),null==this.modelBody?(this.modelBody=this.getBody(),this.inModelBody=!1):this.inModelBody=!0),this.modelBody},_getBodyWidth:function(){return this.getBrowser("safari")?document.documentElement.clientWidth:this.getBody().offsetWidth},_getBodyHeight:function(){var t=this.getBody().offsetHeight,e=document.documentElement.clientHeight;return t<e&&(t=e),t},getEventTarget:function(t){return t.target||t.srcElement},_docMouseDown:function(t){this._enabled&&(this.hasSelect||this.focus)&&(this.doMouseDown(t),!0!==this._createEditObject&&(this.hasSelect=!1),this._createEditObject=!1)},_docMouseUp:function(t){this._enabled&&1==this._hasclick&&(this.hasSelect||this.focus)&&(this.hasSelect?this.focus||this.setFocus():this.focus&&this.setBlur(),this.doMouseUp(t),this.hasSelect=!1),this._hasclick=!0},_docMouseMove:function(t){this._enabled&&(this.hasSelect||this.focus)&&(this.doMouseMove(t),this.hasSelect=!1)},_docCssLoaded:function(){"function"==typeof this.doCssLoaded&&this.doCssLoaded()},_docShow:function(){"function"==typeof this.doContainerHide&&this.doContainerHide(),this.doShow()},_docHide:function(){"function"==typeof this.doContainerShow&&this.doContainerShow(),this.doHide()},_docKeyUp:function(t){if(this._enabled&&this.focus){var e=t.keyCode||t.charCode||t.which,i=this.doKeyUp(t,e);return this.logInfo("doc key "+e+" up!"),null==i&&(i=!0),i||(t.preventDefault?(t.preventDefault(),t.stopPropagation()):(t.cancelBubble=!0,t.returnValue=!1)),t=null,i}},_docKeyDown:function(t){if(this._enabled&&this.focus){var e=t.keyCode||t.charCode||t.which,i=this.doKeyDown(t,e);return null==i&&(i=!0),i||(t.preventDefault?(t.preventDefault(),t.stopPropagation()):(t.cancelBubble=!0,t.returnValue=!1)),t=null,i}},_docMouseWheel:function(t){if(this._enabled&&this.focus){var e;e=t.wheelDelta?t.wheelDelta:-1*t.detail;var i=this.doMouseWheel(t,e);return null==i&&(i=!0),!1!==i&&"false"!==i||(t.preventDefault?(t.preventDefault(),t.stopPropagation()):(t.cancelBubble=!0,t.returnValue=!1)),t=null,i}},_docResize:function(t){var e=this.doResize(t);return null==e&&(e=!0),!1!==e&&"false"!==e||(t.preventDefault?(t.preventDefault(),t.stopPropagation()):(t.cancelBubble=!0,t.returnValue=!1)),t=null,e},_sysEvent:function(){var e=this;this._eventList={mouseup:function(t){t=t||window.event,e._docMouseUp(t)},mousedown:function(t){t=t||window.event,e._docMouseDown(t)},mousemove:function(t){t=t||window.event,e._docMouseMove(t)},keyup:function(t){return t=t||window.event,e._docKeyUp(t)},keydown:function(t){return t=t||window.event,e._docKeyDown(t)},mousewheel:function(t){t=t||window.event;var i=e._docMouseWheel(t);if(!1===i||"false"===i){var n=t||window.event;return n.preventDefault?(n.preventDefault(),n.stopPropagation()):(n.cancelBubble=!0,n.returnValue=!1),!1}return!0},resize:function(t){return t=t||window.event,e._docResize(t)}},window.addEventListener?(document.addEventListener("mousedown",this._eventList.mousedown,!1),document.addEventListener("mouseup",this._eventList.mouseup,!1),document.addEventListener("mousemove",this._eventList.mousemove,!1),document.addEventListener("keydown",this._eventList.keydown,!1),document.addEventListener("keyup",this._eventList.keyup,!1),document.addEventListener("DOMMouseScroll",this._eventList.mousewheel,!1),document.addEventListener("mousewheel",this._eventList.mousewheel,!1),window.addEventListener("resize",this._eventList.resize,!1)):(document.attachEvent("onmousedown",this._eventList.mousedown),document.attachEvent("onmouseup",this._eventList.mouseup),document.attachEvent("onmousemove",this._eventList.mousemove),document.attachEvent("onkeydown",this._eventList.keydown),document.attachEvent("onkeyup",this._eventList.keyup),document.attachEvent("onmousewheel",this._eventList.mousewheel),window.attachEvent("onresize",this._eventList.resize)),null==window._qzz_component_show_handle&&(window._qzz_component_show_handle=setInterval(function(){var t=!0;for(var e in window._qzz_component_list){var i=window._qzz_component_list[e];null!=i&&null!=i.isShow?!0!==i._isShow&&!0===i.isShow()?(i._isShow=!0,i._docShow()):!0===i._isShow&&!1===i.isShow()&&(i._isShow=!1,i._docHide()):delete window._qzz_component_list[e],t=!1}t&&(clearInterval(window._qzz_component_show_handle),window._qzz_component_show_handle=null)},250)),null==t.ui.cssloaded_listen&&!0!==t.ui.cssloaded&&(t.ui.cssloaded_listen=setInterval(function(){if(!0===t.ui.cssloaded){for(var e in window._qzz_component_list){var i=window._qzz_component_list[e];null!=i&&null!=i.isShow&&!0===i._renderFinish&&i._docCssLoaded()}clearInterval(t.ui.cssloaded_listen),t.ui.cssloaded_listen=null}},100))},clearEvent:function(){window.removeEventListener?(document.removeEventListener("mousedown",this._eventList.mousedown,!1),document.removeEventListener("mouseup",this._eventList.mouseup,!1),document.removeEventListener("mousemove",this._eventList.mousemove,!1),document.removeEventListener("keydown",this._eventList.keydown,!1),document.removeEventListener("keyup",this._eventList.keyup,!1),document.removeEventListener("DOMMouseScroll",this._eventList.mousewheel,!1),document.removeEventListener("mousewheel",this._eventList.mousewheel,!1)):(document.detachEvent("onmousedown",this._eventList.mousedown),document.detachEvent("onmouseup",this._eventList.mouseup),document.detachEvent("onmousemove",this._eventList.mousemove),document.detachEvent("onkeydown",this._eventList.keydown),document.detachEvent("onkeyup",this._eventList.keyup),document.detachEvent("onmousewheel",this._eventList.mousewheel)),null!=this.showHandle&&(clearInterval(this.showHandle),this.showHandle=null)},createElement:function(t){return document.createElement(t)},setStyle:function(t,e,i,n){if(i=i||!0,null==t._option&&(t._option={}),this.isArray(e)){if(!1!==n)for(var s=0,o=e.length;s<o;s++)e[s]=this._cssPrefix+e[s];t._option.cssAry=e;var l=e.join(" ");t.className!=l&&i&&(t.className=l)}else!1!==n&&(e=this._cssPrefix+e),t.className!=e&&(i&&(t.className=e),t._option.cssAry=[e])},addStyle:function(t,e,i,n){if(i=i||!0,null==t._option&&(t._option={}),null!=t._option.cssAry){for(var s=0,o=t._option.cssAry.length;s<o&&t._option.cssAry[s]!=this._cssPrefix+e;s++);s>=o&&(!0===n?t._option.cssAry.splice(0,0,this._cssPrefix+e):t._option.cssAry.push(this._cssPrefix+e))}else t._option.cssAry=[this._cssPrefix+e];if(i){var l=t._option.cssAry.join(" ");l!==t.className&&(t.className=l)}},clearStyle:function(t,e){null==t._option&&(t._option={}),null!=t._option.cssAry&&(t._option.cssAry=[]),(e=e||!0)&&""!==t.className&&(t.className="")},delStyle:function(t,e,i){if(null==t._option&&(t._option={}),null!=t._option.cssAry){for(var n=0,s=t._option.cssAry.length;n<s&&t._option.cssAry[n]!=e;n++);n<s&&t._option.cssAry.splice(n,1)}if(i=i||!0){var o=t._option.cssAry.join(" ");o!==t.className&&(t.className=o)}},_setTdText:function(t,e,i){if(!0!==i){var n,s=t.childNodes.length;for(n=0;n<s;n++)if("#text"==(o=t.childNodes[n]).nodeName){o.nodeValue=e;break}if(n>=s)for(n=0;n<s;n++){var o;if("FONT"==(o=t.childNodes[n]).nodeName.toUpperCase()){o.childNodes[0].nodeValue=e;break}}}else this._setHtml(t,e)},_setNumberValue:function(t,e,i){var n=typeof i;return("number"===n&&!isNaN(i)||"string"==n&&""!==i&&!isNaN(i)&&i.indexOf("px")<0)&&(i<=0&&("width"===e||"height"===e)&&(i=1),i+="px",t.style[e]!==i)&&(t.style[e]=i,!0)},rgbToColor:function(t){if(t.indexOf("#")>=0)return t;var e=new RegExp("2[0-4]\\d|25[0-5]|[01]?\\d\\d?","ig"),i=t.match(e);if(3!=i.length)return i=null,e=null,"NaN";for(var n="#",s=0;s<3;s++){var o=parseInt(i[s]);n+=o<16?"0"+o.toString(16):o.toString(16),o=null}return i=null,e=null,n},getScrollXY:function(){var t={};return void 0!==window.pageYOffset?(t.top=window.pageYOffset,t.left=window.pageXOffset):void 0!==document.compatMode&&"BackCompat"!=document.compatMode?(t.top=document.documentElement.scrollTop,t.left=document.documentElement.scrollLeft):void 0!==document.body&&(t.top=document.body.scrollTop,t.left=document.body.scrollLeft),!0===this.inModelBody&&(t.top=0,t.left=0),t},getAXY:function(){var t=this.thisWindow.getBoundingClientRect(),e=this.getScrollXY();this._aleft=t.left+e.left,this._atop=t.top+e.top},getATop:function(){return null==this._atop&&this.getAXY(),this._atop},getALeft:function(){return null==this._aleft&&this.getAXY(),this._aleft},doFocus:function(t){this.logInfo("focus"),"function"==typeof this.onFocus&&this.onFocus(t)},doBlur:function(t){this.logInfo("blur"),"function"==typeof this.onBlur&&this.onBlur(t)},doMouseDown:function(t){"function"==typeof this.onMouseDown&&this.onMouseDown(t)},doMouseMove:function(t){"function"==typeof this.onMouseMove&&this.onMouseMove(t)},doMouseUp:function(t){"function"==typeof this.onMouseUp&&this.onMouseUp(t)},doKeyDown:function(t,e){return"function"==typeof this.onKeyDown&&this.onKeyDown(t,e),!0},doKeyUp:function(t,e){return"function"==typeof this.onKeyUp&&this.onKeyUp(t,e),!0},doMouseWheel:function(t){"function"==typeof this.onMouseWheel&&this.onMouseWheel(t)},doResize:function(t){"function"==typeof this.onResize&&this.onResize(t)},doShow:function(){"function"==typeof this.onShow&&this.onShow()},doHide:function(){"function"==typeof this.onHide&&this.onHide()},setContainer:function(t){},getContainer:function(){return this.control},appendChild:function(t){this.thisWindow.appendChild(t)},removeChild:function(t){for(var e=0,i=this.childComponent.length;e<i;e++)if(this.childComponent[e].index==t.index){this.childComponent.splice(e,1),this.getContainer().removeChild(t.getContainer());break}},removeChildComponent:function(t){if(null!=t)for(var e=t.length-1;e>=0;e--){var i=t[e];!0===i.isComponent&&null!=i.thisWindow&&null==i.thisWindow.parentNode&&t.splice(e,1)}},getParentElement:function(){return this.thisWindow.parentElement},setParent:function(t,e){null!=t&&(t.isComponent?(1!=e&&t.getContainer().appendChild(this.thisWindow),this.parent=t,this.parent.childComponent.push(this)):(null!=t.appendChild?(1!=e&&t.appendChild(this.thisWindow),this.parent=t):(1!=e&&t.append(this.thisWindow),this.parent=t[0]),1!=e&&this._asynRun(function(){"function"==typeof this.getAXY&&this.thisWindow.offsetWidth>0&&this.getAXY()},200),null==this.parent.childComponent&&(this.parent.childComponent=[]),this.parent.childComponent.push(this)))},getWidthOrHeight:function(t,e,i){if(!t||0===t.length)return 0;var n,s;if(t.length>=1&&(t=t[0]),n="width"===e?t.style.width:t.style.height,"outer"!==i&&!1!==i&&n&&0!==n)return parseFloat(n)||0;var o,l=document.defaultView,r=!0;if(l||(r=!1),o=r?l.getComputedStyle(t,null):t.currentStyle){var a,h,c;if("width"===e?(a=r?this.ELEM_WIDTH_STYLE:this.IE_ELEM_WIDTH_STYLE,h=t.offsetWidth):(a=r?this.ELEM_HEIGHT_STYLE:this.IE_ELEM_HEIGHT_STYLE,h=t.offsetHeight),h>0){h=parseFloat(h)||0;for(var u=0;u<6;u++)!(c=r?o.getPropertyValue(a[u]):o[a[u]])||"0px"===c||c.indexOf("px")<=0||(c=parseFloat(c)||0,u<=3?h-=c:h+=c);n=h}else for(n=parseFloat(n)||0,u=0;u<6;u++)!(s=r?o.getPropertyValue(a[u]):o[a[u]])||"0px"===s||s.indexOf("px")<=0||(n+=s=parseFloat(s)||0);return n}return 0},getWindow:function(){return this.thisWindow},getTextWidth:function(t,e,i,n){if(null==t)return 0;"string"!=typeof t&&(t+=""),-1!=t.indexOf("<")&&(t=t.replace(/<(a|span|div|li|ul|table|tr|td|input|i) [^<>]+>([^<>]+)?<\/\1>/gi,"$2")),this._textSpan.style.display="",null!=e&&(this._textSpan.style.fontSize=e),null!=i&&(this._textSpan.style.fontWeight=i),null!=n&&(this._textSpan.style.fontFamily=n),this._setHtml(this._textSpan,t);var s=this._textSpan.offsetWidth;return this._textSpan.style.display="none",s},getStyle:function(t,e){if(t.style[e])return t.style[e];if(t.currentStyle)return t.currentStyle[e];if(document.defaultView&&document.defaultView.getComputedStyle){e=e.replace(/[A-Z]/g,"-$1").toLowerCase();var i=document.defaultView.getComputedStyle(t,"");return i&&i.getPropertyValue(e)}return""},getCurrentStyle:function(t){if(null==t)return null;var e={};return getComputedStyle?e=getComputedStyle(t):t.currentStyle&&(e=t.currentStyle),e},getInnerText:function(t){var e="";return null!=t&&(e=(e=t.innerHTML).replace(/<[^<>]+>/g,"")),e},getTextLen:function(t,e){var i=t*this._sizew;return parseInt(e/i,10)},getShowStr:function(t,e,i,n){var s=t+"@"+i+"@"+e;if(null==this._textHeightJson&&(this._textHeightJson={}),null==(r=this._textHeightJson[s])){null!=e&&""!==e||(e=12),(e=parseInt(e,10))<12&&!0===this.getBrowser("chrome")&&(e=12),i=parseInt(i,10);var o=e*this._sizew*1.7,l=e*this._sizeh*1.11,r="",a=0,h=l,c=0,u=0;if(!(o<i))return"…";for(var d=0,p=t.length;d<p;d++)if(u=0,a+(u=t.charCodeAt(d)>256?2*o:o)<i)c++,a+=u;else{if(!(h+l<n))break;h+=l,a=u,c++}r=c<p-1?t.substring(0,c-1)+"…":t,this._textHeightJson[s]=r}return r},autoSuitWidth:function(t){},getHeight:function(t){var e=this.getOption().height;return null!=t&&(e=t.offsetHeight),e},setHeight:function(t,e){this.getOption().height!=t&&(this.getOption().height=t),(e=this.getBooleanValue(e,!0))&&this._hasResize()&&this._doResize()},getWidth:function(t){var e=this.getOption().width;return null!=t&&(e=t.offsetWidth),e},getOffsetWidth:function(){return this.thisWindow.offsetWidth},setWidth:function(t,e){this.getOption().width!=t&&(this.getOption().width=t),(e=this.getBooleanValue(e,!0))&&this._hasResize()&&this._doResize()},setTop:function(t,e){this.getOption().top!=t&&(this.getOption().top=t),this.logInfo("Window.setTop"),(e=this.getBooleanValue(e,!0))&&this._hasResize()&&this._doResize()},getTop:function(){return this.getOption().top},setLeft:function(t,e){this.getOption().left!=t&&(this.getOption().left=t),this.logInfo("Window.setLeft"),(e=this.getBooleanValue(e,!0))&&this._hasResize()&&this._doResize()},getLeft:function(){return this.getOption().left},setComAlign:function(t){"center"==t?this.thisWindow.style.margin="0 auto":(this.thisWindow.style.cssFloat=t,this.thisWindow.style.styleFloat=t)},update:function(){"function"==typeof this.refresh&&this.refresh()},beginUpdate:function(){this._update=!1},endUpdate:function(){this._update=!0},getMouseButton:function(t){return 2==t.button||3==t.button?this.mouseType.mtRight:this.mouseType.mtLeft},getInputer:function(){return this.inputer},getControl:function(){return this.control},isUpdateUI:function(){return!0},isenable:function(){return!0!==this.getOption().disabled},disable:function(){this._enabled=!1,this.getOption().disabled=!0,"function"==typeof this.refresh&&this.refresh()},hide:function(){this.thisWindow.style.display="none"},show:function(){this.thisWindow.style.display=""},isShow:function(){return null!=this.thisWindow&&this.thisWindow.offsetWidth>0},enable:function(){this._enabled=!0,this.getOption().disabled=!1,"function"==typeof this.refresh&&this.refresh()},isFocus:function(){return this.focus},setFocus:function(){this.focus=!0,this.hasSelect=!0,!1===this.doFocus()?this.focus=!1:this.focus=!0},setBlur:function(){this.focus=!1,this.hasSelect=!1,!1===this.doBlur()?this.focus=!0:this.focus=!1},_style:function(t,e,i){null!=t&&t.style[e]!=i&&(t.style[e]=i)},_setHtml:function(t,e,i){null==e&&(e="");var n=typeof e;"string"===n?(!1!==i&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),t.innerHTML=e):"object"==n?null!=e.tagName&&"script"!=e.tagName&&(e.parentElement==t&&document.createDocumentFragment().appendChild(e),t.innerHTML="",t.appendChild(e)):t.innerHTML=e},_onselectstart:function(t){var e=t||window.event,i=e.target||e.srcElement,n=!1;return this.shiftKeyDown||(n="INPUT"==i.tagName||"TEXTAREA"==i.tagName),e.returnValue=n,n},_replaceToDiv:function(){var t=this.createElement("div");t.setAttribute("dataField",this.control.getAttribute("dataField")),t.setAttribute("data-option",this.control.getAttribute("data-option")),t.setAttribute("id",this.control.getAttribute("id")),t.setAttribute("name",this.control.getAttribute("name")),t.setAttribute("width",this.control.getAttribute("width")),t.setAttribute("ng-model",this.control.getAttribute("ng-model")),t.setAttribute("v-model",this.control.getAttribute("v-model")),t.setAttribute("ng-bind",this.control.getAttribute("ng-bind")),this.control.parentNode.replaceChild(t,this.control),this.control=t,this.thisWindow=t},destory:function(){window._qzz_component_list&&delete window._qzz_component_list[this.index],this.clearEvent(),this.base()}}),null==window._bindRenderFunc&&(window._bindRenderFunc=function(t,e){function i(i){null!=i&&(i.fn[t]=function(t){var i=null;if(this.length>0&&(i=this[0]._component,!0!==t&&"true"!==t)){i=new e(this,t),this[0]._component=i;var n=i.getControl();n!=this&&(n._component=i)}return i},null==i.fn.qzzcom&&(i.fn.qzzcom=function(){return this._component}))}null==window.$?require(["jquery"],function(t){window.$=t,i(t)}):i(window.$)}),t.ui.window}),
/*!
 * 面板控件.
 * ecp.qzz.ui.button.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.window"],function(){var t=window.qzz;return t.space("ui"),t.ui.button=t.Class(t.ui.window,{_create:function(){this.base(),this.className="Button",this._common=[],this._stateValue=0,this.getOption().icon=this.getOption().icon||"",this.getOption().style=this.getOption().style||"H",null!=this.getOption().common?"string"==typeof this.getOption().common?this._common.push(this.getOption().common):this._common=this.getOption().common:this._common=["button_common"]},setIcon:function(t){this.getOption().icon='url("'+t+'") no-repeat scroll 50% 50% transparent'},_render:function(){this.control&&this.control.length>0&&(this.control=this.control[0]),this.control&&"INPUT"===this.control.tagName&&this._replaceToDiv(),this.base(),null!=this.thisWindow.parentNode&&""!==this.thisWindow.parentNode.style.position&&(this.thisWindow.style.position="absolute");var t=this.thisWindow.innerHTML;null!=t&&""!==t&&(null!=this.getOption().caption&&""!==this.getOption().caption||(this.getOption().caption=t,this.thisWindow.innerHTML="")),this._cTable=this.createElement("TABLE");var e=this._cTable.insertRow(0);this._tdIcon=e.insertCell(0),"H"==this.getOption().style?this._tdCaption=e.insertCell(1):(e=this._cTable.insertRow(1),this._tdCaption=e.insertCell(0)),""===this.getOption().icon&&(this._tdIcon.style.display="none"),""===this._tdCaption&&(this._tdCaption.style.display="none"),this.refresh()},setParent:function(t){this.base(t),null!=this.thisWindow.parentNode&&""!==this.thisWindow.parentNode.style.position&&(this.thisWindow.style.position="absolute")},refreash:function(){this.refresh()},refresh:function(t){"H"==this.getOption().style&&2==this._cTable.rows.length?(this._cTable.deleteRow(1),this._tdCaption=this._cTable.rows[0].insertCell(1)):"V"==this.getOption().style&&1==this._cTable.rows[0].length&&(this._cTable.rows[0].deleteCell(1),this._tdCaption=this._cTable.insertRow(1).insertCell(0)),""===this.getOption().icon||null==this.getOption().icon?"H"==this.getOption().style?this._tdIcon.style.display="none":this._tdIcon.parentElement.style.display="none":(this._tdIcon.style.display="",this._tdIcon.parentElement.style.display=""),this.setStyle(this._tdIcon,"button_icon"),""===this.getOption().caption||null==this.getOption().caption?"H"==this.getOption().style?this._tdCaption.style.display="none":this._tdCaption.parentElement.style.display="none":(this._tdCaption.style.display="",this._tdCaption.parentElement.style.display=""),this.setStyle(this._tdCaption,"button_caption"),this._tdIcon.style.background=this.getOption().icon,this._setHtml(this._tdCaption,this.getOption().caption||"",!1),this.setStyle(this._cTable,"button_table"),this.thisWindow.style.cursor="pointer",this.thisWindow.appendChild(this._cTable),!0===this.getOption().move&&!0===t?(this.setStyle(this._cTable,"button_table_move"),this.setStyle(this.thisWindow,"button_div_move"),this.focus?this.addStyle(this.thisWindow,this._common[this._stateValue]+" active focus"):this.addStyle(this.thisWindow,this._common[this._stateValue])):this.focus?this.setStyle(this.thisWindow,this._common[this._stateValue]+" active focus"):this.setStyle(this.thisWindow,this._common[this._stateValue]),null!=this.getOption().hint&&this.thisWindow.setAttribute("title",this.getOption().hint),1==this.getOption().disabled&&(this.addStyle(this._cTable,"button_disabled"),this.addStyle(this.thisWindow,"button_disabled"))},addStyle:function(t){arguments.length>1?this.base.apply(this,arguments):null!=t&&""!==t&&(null==this.getOption().common&&(this._common=[]),this._common.push(t),this.refresh())},clearStyle:function(){this._common=[],this._stateValue=0},setValue:function(t){t===this.getOption().isCheck?t=1:t===this.getOption().unCheck&&(t=0),this.setState(t)},getValue:function(){return this._stateValue==this.getOption().isCheck},setState:function(t){t<this._common.length&&t>=0&&this._stateValue!=t&&(this._stateValue=t,this.refresh())},doMouseDown:function(t){return 1!=this.getOption().disabled&&(this.trigger("onmousedown",[t]),!1)},doBlur:function(){this.base(),!0===this.getOption().canFocus&&(this.focus?this.setStyle(this.thisWindow,this._common[this._stateValue]+" active focus"):this.setStyle(this.thisWindow,this._common[this._stateValue])),this.refresh(!0)},doMouseUp:function(t){if(1==this.getOption().disabled||!1===this.hasSelect)return!1;var e=this._common.length;return e>0&&(this._stateValue++,this._stateValue=this._stateValue%e,!0===this.getOption().canFocus&&(this.focus?this.setStyle(this.thisWindow,this._common[this._stateValue]+" active focus"):this.setStyle(this.thisWindow,this._common[this._stateValue])),this.refresh(!0)),this.focus&&(this.trigger("onmouseup",[t]),this.trigger("onclick",[t]),this.trigger("onClick",[t])),!1}}),_bindRenderFunc("qzzbutton",t.ui.button),t.ui.button}),
/*!
 * 滚动条控件.
 * ecp.qzz.ui.scrollbar.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.window"],function(){var t=window.qzz;return t.space("ui"),t.ui.scrollbar=t.Class(t.ui.window,{_create:function(){this.base(),this.className="ScrollBar",this.logInfo("scrollBar.create"),this.visible=!0,this.getOption().height=132,this.getOption().width=17,this.scrollIndex=0,this.scrollCount=0,this.visibleCount=0,this.stepWidth=5},_render:function(){this.base(),this.thisWindow.style.overflowY="scroll",this._innerDiv=this.createElement("DIV"),this.thisWindow.appendChild(this._innerDiv),this.thisWindow.style.borderWidth="0px",this._innerDiv.style.height="10px",this._innerDiv.style.width="1px";var t=this;this.thisWindow.onscroll=function(e){t._onScroll(e,this.scrollHeight-t.getHeight(),this.scrollTop)}},_onScroll:function(t,e,i){this._update&&(this.scrollIndex=Math.round(i/this.stepWidth,10),"function"==typeof this.onScroll&&this.onScroll(this.scrollIndex,this.scrollIndex-this.priorScrollIndex),this.priorScrollIndex=this.scrollIndex)},refresh:function(){var t=(this.scrollCount-this.visibleCount)*this.stepWidth+this.getHeight();t<=0&&(t=1),this._innerDiv.style.height=t+"px",t>this.getOption().height&&this.thisWindow.clientWidth>1&&(this.getOption().width=this.getOption().width-this.thisWindow.clientWidth+1);var e=this._getNumberValue(this.getOption().width,17);this.getBrowser("msie")&&(e+=1),this.thisWindow.style.width=e+"px"},setVisible:function(t){this.thisWindow.style.display=t?"":"none",this.visible=t},getVisible:function(){return""==this.thisWindow.style.display},getWidth:function(){return this.getOption().width+1},setHeight:function(t){(t+=2)<34&&(t=34),this.base(t),this.refresh()},setScrollIndex:function(t,e){if(t!=this.scrollIndex){this.scrollIndex,this.scrollIndex=t,this.thisWindow.onscroll=null,this.thisWindow.scrollTop=Math.round(t*this.stepWidth,10),!1!==e?this._onScroll(null,this.thisWindow.scrollHeight-this.getHeight(),this.thisWindow.scrollTop):this.priorScrollIndex=this.scrollIndex;var i=this;i.thisWindow.onscroll=function(t){i._onScroll(t,this.scrollHeight-i.getHeight(),this.scrollTop)}}},setScrollCount:function(t,e){if(t<0&&(t=0),this.scrollCount!==t||this.visibleCount!==e){this.scrollCount=t,this.visibleCount=e;var i=0;this.scrollIndex>t-e&&(i=t-e-this.scrollIndex,this.scrollIndex=t-e),this.refresh(),"function"==typeof this.onScroll&&this.onScroll(this.scrollIndex,i),this.priorScrollIndex=this.scrollIndex}},scrollPrior:function(t){var e=!1;return this.scrollIndex>0&&(this.setScrollIndex(this.scrollIndex-1),e=!0),e},scrollNext:function(t){var e=!1;return this.scrollIndex<this.scrollCount-this.visibleCount&&(this.setScrollIndex(this.scrollIndex+1),e=!0),e}}),_bindRenderFunc("qzzscroll",t.ui.scrollbar),t.ui.scrollbar}),
/*!
 * 日期控件.
 * ecp.qzz.ui.calendar.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.date","qzz.window","qzz.iupdown"],function(){var t=window.qzz;return t.space("ui"),t.ui.calendar=t.Class(t.ui.window,{_create:function(){this.base(),this.className="Calendar",this.logInfo("calendar.create"),this.cyctypes={second:"second",minute:"minute",hour:"hour",day:"day",ten:"ten",month:"month",season:"season",year:"year"},this.cyctype=this.getOption().cyctype||this.cyctypes.day,this.cyctype==this.cyctypes.hour||this.cyctype==this.cyctypes.minute||this.cyctype==this.cyctypes.second?this.curCyctype=this.cyctypes.day:this.curCyctype=this.cyctype,this.monthCN=this.getI18n("qzz.monthsText",["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]),this.seasonCN=this.getI18n("qzz.seasonText",["第一季度","第二季度","第三季度","第四季度"]),this.weeks=this.getI18n("qzz.weeksText",["日","一","二","三","四","五","六"]),this.tenCN=this.getI18n("qzz.tendaysText",["上旬","中旬","下旬"]),this.getOption().dateSplit=this.getOption().dateSplit||"-",this.getOption().formatYear=this.getOption().formatYear||this.getI18n("qzz.formatYear","YYYY"),this.getOption().formatMonth=this.getOption().formatMonth||this.getI18n("qzz.formatMonth","MM"),this.getOption().formatDay=this.getOption().formatDay||this.getI18n("qzz.formatDay","DD"),this.getOption().timeSplit=this.getOption().timeSplit||":",this.getOption().formatHour=this.getOption().formatHour||this.getI18n("qzz.formatHour","HH"),this.getOption().formatMinute=this.getOption().formatMinute||this.getI18n("qzz.formatMinute","MM"),this.getOption().formatSecond=this.getOption().formatSecond||this.getI18n("qzz.formatSecond","SS"),this.curDate=new Date,this.curYear=this.curDate.getFullYear(),this.curMonth=this.curDate.getMonth()+1,this.curDay=this.curDate.getDate(),this.curWeek=this.curDate.getDay(),this.curHour=0,this.curMinute=0,this.curSecond=0,this.toYear=this.curYear,this.toMonth=this.curMonth,this.toDay=this.curDay,this.toWeek=this.curWeek,this.maxYear=9999,this.maxMonth=12,this.maxDay=31,this.minYear=1,this.minMonth=1,this.minDay=1,this.dateObj=new t.date,this.dateObj.setCycType(this.cyctype),this.hTime=new t.ui.input.updown(void 0,{cssPrefix:this._cssPrefix,loop:!0,lockLength:2}),this.hTime.setWidth(45),this.hTime.setMaxValue(23),this.hTime.setMinValue(0),this.mTime=new t.ui.input.updown(void 0,{cssPrefix:this._cssPrefix,loop:!0,lockLength:2}),this.mTime.setWidth(45),this.mTime.setMaxValue(59),this.mTime.setMinValue(0),this.mTime.setLockLength(2);var e=this;this.mTime.bind("onchange",function(t,i,n,s){s&&(i>n?e.hTime.upValue():e.hTime.downValue())}),this.sTime=new t.ui.input.updown(void 0,{cssPrefix:this._cssPrefix,loop:!0,lockLength:2}),this.sTime.setWidth(45),this.sTime.setMaxValue(59),this.sTime.setMinValue(0),this.sTime.bind("onchange",function(t,i,n,s){s&&(i>n?e.mTime.upValue():e.mTime.downValue())}),this.priorSel=null,this.showTime=this.getBooleanValue(this.getOption().showTime,!1),this.domList={},this.domIndex=0,this.dateSplit="-",this.timeSplit=":",this.dtSplit=/[- ]/g,null!=this.getOption().width&&10!=this.getOption().width||(this.getOption().width=192)},_render:function(){if(this.logInfo("calendar.render"),null==this.thisWindow)this.thisWindow=this.createElement("table");else if("DIV"===this.thisWindow.tagName){var t=this.createElement("table");t.setAttribute("id",this.control.getAttribute("id")),t.setAttribute("name",this.control.getAttribute("name")),t.setAttribute("width",this.control.getAttribute("width")),this.control.parentNode.replaceChild(conDiv,this.control),this.control=t,this.thisWindow=t}var e=this;this.thisWindow.onclick=function(){"function"==typeof e.onRectClick&&e.onRectClick()};var i=0;this.thisWindow.border="0px",this.thisWindow.cellPadding="0px",this.thisWindow.cellSpacing="1px",this._addCssList(this.thisWindow,"dateTable"),this.addStyle(this.thisWindow,"noBorder");var n=this.thisWindow.insertRow(0);this.headBox=n.insertCell(0),this._addCssList(this.headBox,"dateCell"),this.headBox.style.height="30px",i+=30;var s=this.thisWindow.insertRow(1);this.bodyBox=s.insertCell(0),this._addCssList(this.bodyBox,"dateCell"),this.bodyBox.style.verticalAlign="top",i+=210;var o=this.thisWindow.insertRow(2);this.timeBox=o.insertCell(0),this.timeRow=o,this.timeRow.style.height="25px",this._addCssList(this.timeBox,"dateCell");var l=this.createElement("TABLE");l.style.margin="auto",this.setStyle(l,"noborder"),this.timeBox.appendChild(l),this._addCssList(this.timeBox,"weekCommonCell");var r=l.insertRow(0),a=0;this.hBox=r.insertCell(a++),this._setHtml(r.insertCell(a++),this.timeSplit,!1),this.mBox=r.insertCell(a++),this._setHtml(r.insertCell(a++),this.timeSplit,!1),this.sBox=r.insertCell(a++),this.hTime.setParent(this.hBox),this.mTime.setParent(this.mBox),this.sTime.setParent(this.sBox);var h=r.insertCell(a++);this._setHtml(h,this.getI18n("qzz.current","当前"),!1),h.style.padding="3px",h.style.cursor="pointer",h.date=this,h.onclick=function(){var t=this.date,e=t._getCurTime();t.hTime.setValue(e.h),t.mTime.setValue(e.m),t.sTime.setValue(e.s)},this.setStyle(h,"weekCommonCell");var c=0;this.cyctype===this.cyctypes.day&&this.showTime?(this.timeRow.style.display="",c=32):(c=0,this.timeRow.style.display="none");var u=this.thisWindow.insertRow(3);this.toDateRect=u,this.footerBox=u.insertCell(0),this._addCssList(this.footerBox,"dateCell"),!0===this.getOption().showTodate&&(i+=30),this.refreshCalendar(),n=null,s=null,o=null,this.setHeight(i+c),this._sumHeight=i,this.setWidth(this.getOption().width)},getFormatDate:function(t,e,i,n,s,o,l){var r="",a=this.getOption().formatYear.replace(/YYYY/i,e),h="";i&&(parseInt(i,10)<10&&(i="0"+i),h=this.getOption().formatMonth.replace(/MM/i,i));var c="";n&&(parseInt(n,10)<10&&(n="0"+n),c=this.getOption().formatDay.replace(/DD/i,n));var u="";s&&(parseInt(s,10)<10&&(s="0"+s),u=this.getOption().formatHour.replace(/HH/i,s)),null!=o&&""!==o||(o=0),parseInt(o,10)<10&&(o="0"+o);var d=this.getOption().formatMinute.replace(/MM/i,d);null!=l&&""!==l||(l=0),parseInt(l,10)<10&&(l="0"+l);var p=this.getOption().formatSecond.replace(/SS/i,p);switch(t){case this.cyctypes.second:case this.cyctypes.minute:case this.cyctypes.hour:r=a+this.getOption().dateSplit+h+this.getOption().dateSplit+c+" "+u+this.getOption().timeSplit+d+this.getOption().timeSplit+p;break;case this.cyctypes.day:r=a+this.getOption().dateSplit+h+this.getOption().dateSplit+c;break;case this.cyctypes.ten:var g=this.dateObj.getTenByDay(parseInt(n,10)),f=this.tenCN[g-1];r=a+this.getOption().dateSplit+h+this.getOption().dateSplit+f;break;case this.cyctypes.month:r=a+this.getOption().dateSplit+h;break;case this.cyctypes.season:var y=this.dateObj.getSeasonByMonth(parseInt(i,10)),m=this.seasonCN[y-1];r=a+this.getOption().dateSplit+m;break;case this.cyctypes.year:r=a}return r},_addCssList:function(t,e){this.setStyle(t,e),this.isEmpty(t.id)&&(t.id="Calendar"+this.domIndex,this.domIndex++),this.domList[t.id]={dom:t,className:e}},_setCssPrefix:function(t){if(this._cssPrefix!==t)for(var e in this._cssPrefix=t,this.domList){var i=this.domList[e];this.setStyle(i.dom,i.className)}},_refreshHeader:function(){switch(null==this.selYear&&(this.selYear=this.curYear),null==this.selMonth&&(this.selMonth=this.curMonth),null==this.selDay&&(this.selDay=this.curDay),this.curCyctype){case this.cyctypes.hour:var t=this.getFormatDate(this.cyctypes.day,this.curYear,this.curMonth,this.curDay);this._setHtml(this.headText,t);break;case this.cyctypes.day:case this.cyctypes.ten:t=this.getFormatDate(this.cyctypes.month,this.curYear,this.curMonth),this._setHtml(this.headText,t);break;case this.cyctypes.month:case this.cyctypes.season:t=this.getFormatDate(this.cyctypes.year,this.curYear),this._setHtml(this.headText,t);break;case this.cyctypes.year:var e=this.selYear;e/=10;var i=parseInt(e,10);e-i==0&&(i-=1),e=10*i+1,this._setHtml(this.headText,this.getOption().formatYear.replace(/YYYY/i,e)+"-"+this.getOption().formatYear.replace(/YYYY/i,e+9))}},_getHeaderBox:function(){var t=this.createElement("table");this._addCssList(t,"weekDay"),t.border=0,t.cellPadding=0,t.cellSpacing=0;var e=t.insertRow(0),i=0,n=e.insertCell(i++);n.style.width="20px",this._addCssList(n,"weekCommonCell");var s=this.createElement("div");this._addCssList(s,"priorMonthCell"),this._setHtml(s,"&lt;"),n.appendChild(s),n.onclick=this.doDecClick;var o=e.insertCell(i++);this.headInfo=this.createElement("table"),this.setStyle(this.headInfo,"weekDay"),this.headText=this.headInfo.insertRow(0).insertCell(0),this.headText.date=this,this.headText.onclick=function(){switch(this.date.curCyctype){case this.date.cyctypes.second:this.date.curCyctype=this.date.cyctypes.minute;break;case this.date.cyctypes.minute:this.date.curCyctype=this.date.cyctypes.hour;break;case this.date.cyctypes.hour:this.date.curCyctype=this.date.cyctypes.day;break;case this.date.cyctypes.day:case this.date.cyctypes.ten:this.date.curCyctype=this.date.cyctypes.month;break;case this.date.cyctypes.month:case this.date.cyctypes.season:this.date.curCyctype=this.date.cyctypes.year}this.date.refreshCalendar()},this.headInfo.style.width="100%",this.headInfo.style.height="100%",this._refreshHeader(),this.setStyle(this.headText,"weekCommonCell"),o.appendChild(this.headInfo);var l=e.insertCell(i++),r=this.createElement("div");return this._addCssList(r,"nextMonthCell"),this._setHtml(r,"&gt;"),l.appendChild(r),l.style.width="20px",l.onclick=this.doAddClick,this._addCssList(l,"weekCommonCell"),n.date=this,l.date=this,e=null,n=null,t},_refreshFooter:function(){switch(this.footerBox.today=1,this.cyctype){case this.cyctypes.year:this._setHtml(this.footerBox,this.toYear,!1),this.footerBox.onclick=this.doToyearSelect;break;case this.cyctypes.season:this.footerBox.year=this.toYear,this.footerBox.season=this.dateObj.getSeasonByMonth(this.toMonth);var t=this.getFormatDate(this.cyctype,this.toYear,this.toMonth);this._setHtml(this.footerBox,t,!1),this.footerBox.onclick=this.doToseasonSelect;break;case this.cyctypes.month:t=this.getFormatDate(this.cyctype,this.toYear,this.toMonth),this._setHtml(this.footerBox,t,!1),this.footerBox.onclick=this.doTomonthSelect;break;case this.cyctypes.ten:this.footerBox.year=this.toYear,this.footerBox.month=this.toMonth,this.footerBox.ten=this.dateObj.getTenByDay(this.toDay),t=this.getFormatDate(this.cyctype,this.toYear,this.toMonth,this.toDay),this._setHtml(this.footerBox,t,!1),this.footerBox.onclick=this.doTotenSelect;break;case this.cyctypes.day:t=this.getFormatDate(this.cyctype,this.toYear,this.toMonth,this.toDay),this._setHtml(this.footerBox,t,!1),this.footerBox.onclick=this.doTodaySelect;break;case this.cyctypes.hour:var e=(s=new Date).getHours();t=this.getFormatDate(this.cyctype,this.toYear,this.toMonth,this.toDay,e,0,0),this._setHtml(this.footerBox,t,!1),this.footerBox.onclick=this.doTotimeSelect;break;case this.cyctypes.minute:e=(s=new Date).getHours();var i=s.getMinutes();t=this.getFormatDate(this.cyctype,this.toYear,this.toMonth,this.toDay,e,i,0),this._setHtml(this.footerBox,t,!1),this.footerBox.onclick=this.doTotimeSelect;var n=this;this._asynRun(function(){n._refreshFooter(),n=null},3e4);break;case this.cyctypes.second:e=(s=new Date).getHours(),i=s.getMinutes();var s,o=s.getSeconds();t=this.getFormatDate(this.cyctype,this.toYear,this.toMonth,this.toDay,e,i,o),this._setHtml(this.footerBox,t,!1),this.footerBox.onclick=this.doTotimeSelect,n=this,this._asynRun(function(){n._refreshFooter(),n=null},500)}this.isReadOnly(this.toYear,this.toMonth,this.toDay,this.cyctype)?(this.setStyle(this.footerBox,"weekReadOnlyCell"),this.footerBox.onclick=""):this.setStyle(this.footerBox,"weekCommonCell"),this.addStyle(this.footerBox,"toDaySel"),this.footerBox.style.paddingLeft="4px",this.footerBox.date=this,!0===this.getOption().showTodate?this.toDateRect.style.display="":this.toDateRect.style.display="none"},_getDayBox:function(){var t=this.createElement("table");t.border=0,t.cellPadding=0,t.cellSpacing=0;var e=t.insertRow(0).insertCell(0),i=this.createElement("table");this._addCssList(i,"weekTitle");for(var n=i.insertRow(0),s=0;s<7;s++){var o=n.insertCell(s);this._setHtml(o,this.weeks[s],!1),0==s?this._addCssList(o,"weekSunTitle"):6==s?this._addCssList(o,"weekSixTitle"):this._addCssList(o,"weekCommonTitle"),o=null}e.appendChild(i),e=null;var l=t.insertRow(1).insertCell(0);this.selYear=this.curYear,this.selMonth=this.curMonth,this._refreshHeader();var r=this.createElement("table");this._addCssList(r,"weekDay"),r.cellSpacing=3;var a=this.dateObj.getDaysRect(this.curYear,this.curMonth,!0),h=this.curMonth-1,c=this.curYear;h<1&&(h=12,c--),s=0;for(var u=a.length;s<6;s++){var d=r.insertRow(s);if(s<u){"none"==d.style.display&&(d.style.display="");for(var p=0;p<7;p++){var g=d.insertCell(p),f=a[s][p];1==f&&++h>12&&(c++,h=1),this._refreshDayCell(g,p,f,c,h),g=null}}else d.style.display="none";d=null}return l.appendChild(r),this.dayTable=r,l=null,t},_refreshDayBox:function(){this.selYear=this.curYear,this.selMonth=this.curMonth,this._refreshHeader();var t=this.dateObj.getDaysRect(this.curYear,this.curMonth,!0),e=this.curMonth-1,i=this.curYear;e<1&&(e=12,i--);for(var n=this.dayTable,s=0,o=t.length;s<6;s++){var l=n.rows[s];if(s<o){"none"==l.style.display&&(l.style.display="");for(var r=0;r<7;r++){var a=l.cells[r],h=t[s][r];1==h&&++e>12&&(i++,e=1),this._refreshDayCell(a,r,h,i,e),a=null}}else l.style.display="none";l=null}},_refreshDayCell:function(t,e,i,n,s){t.date=this,t.align="right",this._setHtml(t,"",!1),t.bgColor="",t.onclick="",t.onmouseover="",t.onmouseout="",t.tmpClassName="",0==e?this.setStyle(t,"weekSunCell"):6==e?this.setStyle(t,"weekSixCell"):this.setStyle(t,"weekCommonCell"),null!=i&&(this._setHtml(t,i,!1),t.onclick=this.doSelect,t.year=n,t.month=s,t.day=i),s!=this.curMonth&&this.setStyle(t,"otherWeekCommonCell"),n==this.toYear&&this.toMonth==s&&i==this.toDay&&this.setStyle(t,"weekToDayCell"),n==this.curYear&&this.curMonth==s&&null!=this.curDay&&i==this.curDay&&this.setStyle(t,"weekSelCell"),""!==t.innerHTML&&this.isReadOnly(this.curYear,s,parseInt(t.innerHTML,10),this.cyctypes.day)&&(this.setStyle(t,"weekReadOnlyCell"),t.onclick="")},_getMainBox:function(t,e){var i=this.createElement("table");this.setStyle(i,"mainBox");for(var n=0,s=t.length;n<s;n++)for(var o=t[n],l=i.insertRow(n),r=0,a=o.length;r<a;r++){var h=o[r],c=l.insertCell(r);c.date=this,c.onclick=this.doSelect,this._setHtml(c,h);var u=0;switch("function"==typeof e&&(u=e.apply(this,[h,c,n,r,s,a])),u){case"other":this.setStyle(c,"otherWeekCommonCell");break;case"select":this.setStyle(c,"weekSelCell");break;case"readonly":this.setStyle(c,"weekReadOnlyCell");break;case"current":this.setStyle(c,"weekToDayCell");break;default:this.setStyle(c,"weekCommonCell")}}return i},_refreshMainBox:function(t,e,i,n){for(var s=e,o=t,l=0,r=s.length;l<r;l++)for(var a=s[l],h=o.rows[l],c=0,u=a.length;c<u;c++){var d=a[c],p=h.cells[c];p.onclick=this.doSelect,this._setHtml(p,d);var g=0;switch("function"==typeof i&&(g=i.apply(this,[d,p,l,c,r,u])),g){case"other":this.setStyle(p,"otherWeekCommonCell");break;case"select":this.setStyle(p,"weekSelCell");break;case"readonly":this.setStyle(p,"weekReadOnlyCell");break;case"current":this.setStyle(p,"weekToDayCell");break;default:this.setStyle(p,"weekCommonCell")}"function"==typeof n&&n(p)}},_yearState:function(t,e,i,n,s,o){return e.isOther=null,t>this.maxYear||t<this.minYear?"readonly":0==i&&0==n||i==s-1&&n==o-1?(e.isOther=0==i?"prior":"next","other"):t==this.curYear?"select":t==this.toYear?"current":void 0},_refreshYearBox:function(){var t=this.dateObj.getYearsRect(this.curYear),e=this;this._refreshMainBox(this.yearTable,t,this._yearState,function(t){""!==t.innerHTML&&e.isReadOnly(parseInt(t.innerHTML,10),1,1,e.cyctypes.year)&&(e.setStyle(t,"weekReadOnlyCell"),t.onclick="")})},_getYearBox:function(){var t=this.dateObj.getYearsRect(this.curYear);return this.yearTable=this._getMainBox(t,this._yearState),this.yearTable.style.height="182px",this.yearTable.style.width="190px",this.yearTable},_seasonState:function(t,e,i,n,s,o){var l=i*o+n+1;e.season=l;var r=this.dateObj.getMonthBySeason(l),a=this.dateObj.getSeasonByMonth(this.curMonth);return this.isReadOnly(this.curYear,r,1,this.cyctypes.month)?"readonly":l===a?"select":this.curYear==this.toYear&&l===this.dateObj.getSeasonByMonth(this.toMonth)?"current":void 0},_getSeasonBox:function(){var t=this.dateObj.getSeasonsRect();return this.seasonTable=this._getMainBox(t,this._seasonState),this.seasonTable.style.height="104px",this.seasonTable.style.width="190px",this.seasonTable},_refreshSeasonBox:function(){this._refreshHeader();var t=this;this._refreshMainBox(this.seasonTable,this.dateObj.getSeasonsRect(),this._seasonState,function(e){""!==e.innerHTML&&t.isReadOnly(t.curYear,t.dateObj.getMonthBySeason(e.season),1,t.cyctypes.month)&&(t.setStyle(e,"weekReadOnlyCell"),e.onclick="")})},_monthState:function(t,e,i,n,s,o){var l=i*o+n+1;return e.month=l,this.isReadOnly(this.curYear,l,1,this.cyctypes.month)?"readonly":l===this.curMonth?"select":this.curYear==this.toYear&&l===this.toMonth?"current":void 0},_getMonthBox:function(){var t=this._getMainBox(this.dateObj.getMonthsRect(),this._monthState);return t.style.height="182px",t.style.width="190px",this.monthTable=t,t},_refreshMonthBox:function(){this._refreshHeader();var t=this;this._refreshMainBox(this.monthTable,this.dateObj.getMonthsRect(),this._monthState,function(e){""!==e.innerHTML&&t.isReadOnly(t.curYear,parseInt(e.innerHTML,10),1,t.cyctypes.month)&&(t.setStyle(e,"weekReadOnlyCell"),e.onclick="")})},_tenState:function(t,e,i,n,s,o){var l=i*o+n+1;e.ten=l;var r=this.dateObj.getDayByTen(l),a=this.dateObj.getTenByDay(this.curDay);return this.isReadOnly(this.curYear,this.curMonth,r,this.cyctypes.ten)?"readonly":l===a?"select":this.curYear==this.toYear&&this.curMonth==this.toMonth&&l===this.dateObj.getTenByDay(this.toDay)?"current":void 0},_getTenBox:function(){var t=this._getMainBox(this.dateObj.getTensRect(),this._tenState);return t.style.height="182px",t.style.width="190px",this.tenTable=t,t},_refreshTenBox:function(){this._refreshHeader();var t=this;this._refreshMainBox(this.tenTable,this.dateObj.getTensRect(),this._tenState,function(e){""!==e.innerHTML&&t.isReadOnly(t.curYear,t.curMonth,t.dateObj.getDayByTen(e.ten),t.cyctypes.ten)&&(t.setStyle(e,"weekReadOnlyCell"),e.onclick="")})},_hourState:function(t,e,i,n,s,o){var l=i*o+n;if(e.hour=l,l===this.curHour)return"select"},_getHourBox:function(){var t=this.dateObj.getHoursRect();return this.hourTable=this._getMainBox(t,this._hourState),this.hourTable},_refreshHourBox:function(){var t=this.dateObj.getHoursRect();return this._refreshMainBox(this.hourTable,t,this._hourState),this.hourTable},_minuteState:function(t,e,i,n,s,o){var l=t.split(":");if(l=parseInt(l[1],10),e.minute=parseInt(l,10),l==this.curMinute)return"select"},_getMinuteBox:function(){var t=this.dateObj.getMinutesRect(this.curHour);return this.minuteTable=this._getMainBox(t,this._minuteState),this.minuteTable},_refreshMinuteBox:function(){var t=this.dateObj.getMinutesRect(this.curHour);return this._refreshMainBox(this.minuteTable,t,this._minuteState),this.minuteTable},_secondState:function(t,e,i,n,s,o){var l=t.split(":");if(l=parseInt(l[2],10),e.second=l,l==this.curSecond)return"select"},_getSecondBox:function(){var t=this.dateObj.getSecondsRect(this.curHour,this.curMinute);return this.secondTable=this._getMainBox(t,this._secondState),this.secondTable},_refreshSecondBox:function(){var t=this.dateObj.getSecondsRect(this.curHour,this.curMinute);return this._refreshMainBox(this.secondTable,t,this._secondState),this.secondTable},isLeapYear:function(t){return this.dateObj.isLeapYear(t)},getMonthDays:function(t,e){return this.dateObj.getMonthDays(t,e)},checkRound:function(t){var e=this.dateSplit,i=t.split(e),n="none",s=parseInt(i[0],10),o=parseInt(i[1],10),l=parseInt(i[2],10);return s>this.maxYear?(s=this.maxYear,o=this.maxMonth,l=this.maxDay,n="max"):s==this.maxYear&&o>this.maxMonth?(o=this.maxMonth,l=this.maxDay,n="max"):s==this.maxYear&&o==this.maxMonth&&l>this.maxDay&&this.cyctype==this.cyctypes.day&&(l=this.maxDay,n="max"),s<this.minYear?(s=this.minYear,o=this.minMonth,l=this.minDay,n="min"):s==this.minYear&&o<this.minMonth?(o=this.minMonth,l=this.minDay,n="min"):s==this.minYear&&o==this.minMonth&&l<this.minDay&&this.cyctype==this.cyctypes.day&&(l=this.minDay,n="min"),{state:n,date:this._dateToStr(s,o,l)}},_dateToStr:function(t,e,i){return this.dateObj._dateToStr(t,e,i)},checkDate:function(t){return this.dateObj.checkDate(t)},toDate:function(t){return this.toDate(t)},getNextDate:function(t){if(""!==(t=this.checkDate(t))){var e=t.split(this.dtSplit),i=parseInt(e[0],10),n=parseInt(e[1],10),s=parseInt(e[2],10);s<this.getMonthDays(i,n)?s++:(s=1,n<12?n++:(n=1,i++));var o=i+this.dateSplit+n+this.dateSplit+s;return e.length>3&&(o=o+" "+e[3]),o}},getPriorDate:function(t){if(""!==(t=this.checkDate(t))){var e=t.split(this.dtSplit),i=parseInt(e[0],10),n=parseInt(e[1],10),s=parseInt(e[2],10);this.getMonthDays(i,n-1),s>1?s--:(s=12,n>1?n--:(n=12,i--));var o=i+this.dateSplit+n+this.dateSplit+s;return e.length>3&&(o=o+" "+e[3]),o}},doDecClick:function(){this.date.curCyctype===this.date.cyctypes.hour?this.date.curDay>1?this.date.curDay--:(this.date.curMonth>1?this.date.curMonth--:(this.date.curYear--,this.date.curMonth=12),this.date.curDay=this.date.getMonthDays(this.date.curYear,this.date.curMonth)):this.date.curCyctype===this.date.cyctypes.day||this.date.curCyctype===this.date.cyctypes.ten?(this.date.selMonth>1?this.date.selMonth--:(this.date.selYear--,this.date.selMonth=12,this.date.curYear=this.date.selYear),this.date.curMonth=this.date.selMonth):this.date.curCyctype===this.date.cyctypes.month||this.date.curCyctype===this.date.cyctypes.season?(this.date.selYear--,this.date.curYear=this.date.selYear):this.date.curCyctype===this.date.cyctypes.year&&(this.date.selYear=this.date.selYear-10,this.date.curYear=this.date.selYear),this.date.refreshCalendar()},doAddClick:function(){if(this.date.curCyctype===this.date.cyctypes.hour){var t=this.date.getMonthDays(this.date.curYear,this.date.curMonth);this.date.curDay<t?this.date.curDay++:(this.date.curMonth<12?this.date.curMonth++:(this.date.curYear++,this.date.curMonth=1),this.date.curDay=1)}else this.date.curCyctype===this.date.cyctypes.day||this.date.curCyctype===this.date.cyctypes.ten?(this.date.selMonth<12?this.date.selMonth++:(this.date.selYear++,this.date.selMonth=1,this.date.curYear=this.date.selYear),this.date.curMonth=this.date.selMonth):this.date.curCyctype===this.date.cyctypes.month||this.date.curCyctype===this.date.cyctypes.season?(this.date.selYear++,this.date.curYear=this.date.selYear):this.date.curCyctype===this.date.cyctypes.year&&(this.date.selYear=this.date.selYear+10,this.date.curYear=this.date.selYear);this.date.refreshCalendar()},doSelect:function(){null!=this.date.priorSel&&(this.date.priorSel.bgColor=""),this.date.priorSel=this;var t=this.date.curCyctype;switch(this.date.curCyctype){case this.date.cyctypes.second:this.date.curSecond=this.second;break;case this.date.cyctypes.minute:this.date.curMinute=this.minute,this.date.cyctype!==this.date.cyctypes.year&&this.date.cyctype!==this.date.cyctypes.month&&this.date.cyctype!==this.date.cyctypes.day&&this.date.cyctype!==this.date.cyctypes.hour&&this.date.cyctype!==this.date.cyctypes.minute&&(this.date.curCyctype=this.date.cyctypes.second);break;case this.date.cyctypes.hour:this.date.curHour=this.hour,this.date.cyctype!==this.date.cyctypes.year&&this.date.cyctype!==this.date.cyctypes.month&&this.date.cyctype!==this.date.cyctypes.day&&this.date.cyctype!==this.date.cyctypes.hour&&(this.date.curCyctype=this.date.cyctypes.minute);break;case this.date.cyctypes.day:this.date.curMonth=this.month,this.date.curYear=this.year,null!=this.innerHTML&&(this.date.curDay=parseInt(this.innerHTML,10),this.date.selDay=this.date.curDay),this.date.cyctype!==this.date.cyctypes.year&&this.date.cyctype!==this.date.cyctypes.month&&this.date.cyctype!==this.date.cyctypes.day&&(this.date.curCyctype=this.date.cyctypes.hour);break;case this.date.cyctypes.ten:this.date.curDay=this.date.dateObj.getDayByTen(this.ten);break;case this.date.cyctypes.month:this.date.curMonth=this.month,this.date.selMonth=this.month,this.date.cyctype!==this.date.cyctypes.year&&this.date.cyctype!==this.date.cyctypes.month?this.date.cyctype==this.date.cyctypes.ten?this.date.curCyctype=this.date.cyctypes.ten:this.date.curCyctype=this.date.cyctypes.day:this.date.curDay=1;break;case this.date.cyctypes.season:this.date.curMonth=this.date.dateObj.getMonthBySeason(this.season),this.date.curDay=1;break;case this.date.cyctypes.year:this.date.curYear=parseInt(this.innerHTML,10),"next"==this.isOther?this.date.selYear=this.date.selYear+10:"prior"==this.isOther?this.date.selYear=this.date.selYear-10:this.date.selYear=this.date.curYear,this.date.cyctype!==this.date.cyctypes.year?this.date.cyctype==this.date.cyctypes.season?this.date.curCyctype=this.date.cyctypes.season:this.date.curCyctype=this.date.cyctypes.month:(this.date.curMonth=1,this.date.curDay=1)}this.date.refreshCalendar(),t===this.date.cyctype&&"function"==typeof this.date.onSelect&&this.date.onSelect(this.date)},doTotimeSelect:function(){if((this.date.cyctype==this.date.cyctypes.hour||this.date.cyctype==this.date.cyctypes.minute||this.date.cyctype==this.date.cyctypes.second)&&null!=this.innerHTML){var t=this.date._decodeDateTime(this.innerHTML);this.date.curYear=t.year,this.date.curMonth=t.month,this.date.curDay=t.day,this.date.curHour=t.hour,this.date.curMinute=t.minute,this.date.curSecond=t.second}"function"==typeof this.date.onSelect&&this.date.onSelect(this.date)},doTodaySelect:function(){if(this.date.cyctype==this.date.cyctypes.day&&null!=this.innerHTML){var t=this.date._decodeDateTime(this.innerHTML);this.date.curYear=t.year,this.date.curMonth=t.month,this.date.curDay=t.day}"function"==typeof this.date.onSelect&&this.date.onSelect(this.date)},doTotenSelect:function(){this.date.cyctype==this.date.cyctypes.ten&&null!=this.innerHTML&&(this.date.curYear=this.year,this.date.curMonth=this.month,this.date.curDay=this.date.dateObj.getDayByTen(this.ten)),"function"==typeof this.date.onSelect&&this.date.onSelect(this.date)},doTomonthSelect:function(){if(this.date.cyctype==this.date.cyctypes.month&&null!=this.innerHTML){var t=this.date._decodeDateTime(this.innerHTML);this.date.curYear=t.year,this.date.curMonth=t.month,this.date.curDay=1}"function"==typeof this.date.onSelect&&this.date.onSelect(this.date)},doToyearSelect:function(){this.date.cyctype==this.date.cyctypes.year&&null!=this.innerHTML&&(this.date.curYear=parseInt(this.innerHTML,10),this.date.curMonth=1,this.date.curDay=1),"function"==typeof this.date.onSelect&&this.date.onSelect(this.date)},doToseasonSelect:function(){this.date.cyctype==this.date.cyctypes.season&&null!=this.innerHTML&&(this.date.curYear=this.year,this.date.curMonth=this.date.dateObj.getMonthBySeason(this.season),this.date.curDay=1),"function"==typeof this.date.onSelect&&this.date.onSelect(this.date)},isReadOnly:function(t,e,i,n){var s=!0;switch(null==n&&(n=this.cyctypes.day),n){case this.cyctypes.year:s=t>this.maxYear||t<this.minYear;break;case this.cyctypes.season:s=t>this.maxYear||t<this.minYear||t==this.maxYear&&e>this.maxMonth||t==this.minYear&&e<this.minMonth;break;case this.cyctypes.month:s=t>this.maxYear||t<this.minYear||t==this.maxYear&&e>this.maxMonth||t==this.minYear&&e<this.minMonth;case this.cyctypes.ten:s=t>this.maxYear||t<this.minYear||t==this.maxYear&&e>this.maxMonth||t==this.minYear&&e<this.minMonth||t==this.maxYear&&e==this.maxMonth&&i>this.maxDay||t==this.minYear&&e==this.minMonth&&i<this.minDay;break;case this.cyctypes.hour:case this.cyctypes.minute:case this.cyctypes.second:case this.cyctypes.day:s=t>this.maxYear||t<this.minYear||t==this.maxYear&&e>this.maxMonth||t==this.minYear&&e<this.minMonth||t==this.maxYear&&e==this.maxMonth&&i>this.maxDay||t==this.minYear&&e==this.minMonth&&i<this.minDay}return s},refreshCalendar:function(t){switch(this.isEmpty(this.headerTable)?(this.headerTable=this._getHeaderBox(),this.headBox.align="center",this.headBox.appendChild(this.headerTable)):this._refreshHeader(),this.curCyctype){case this.cyctypes.year:this.isEmpty(this.yearBox)||0==this.yearBox.rows.length?(this._setHtml(this.bodyBox,"",!1),this.yearBox=this._getYearBox(),this.bodyBox.appendChild(this.yearBox)):(0!=this.bodyBox.childNodes.length&&this.bodyBox.childNodes[0]===this.yearBox||(this._setHtml(this.bodyBox,"",!1),this.bodyBox.appendChild(this.yearBox)),this._refreshYearBox());break;case this.cyctypes.season:this.isEmpty(this.seasonBox)||0==this.seasonBox.rows.length?(this._setHtml(this.bodyBox,"",!1),this.seasonBox=this._getSeasonBox(),this.bodyBox.appendChild(this.seasonBox)):(0!==this.bodyBox.childNodes.length&&this.bodyBox.childNodes[0]===this.seasonBox||(this._setHtml(this.bodyBox,"",!1),this.bodyBox.appendChild(this.seasonBox)),this._refreshSeasonBox());break;case this.cyctypes.month:this.isEmpty(this.monthBox)||0==this.monthBox.rows.length?(this._setHtml(this.bodyBox,"",!1),this.monthBox=this._getMonthBox(),this.bodyBox.appendChild(this.monthBox)):(0!==this.bodyBox.childNodes.length&&this.bodyBox.childNodes[0]===this.monthBox||(this._setHtml(this.bodyBox,"",!1),this.bodyBox.appendChild(this.monthBox)),this._refreshMonthBox());break;case this.cyctypes.ten:this.isEmpty(this.tenBox)||0==this.tenBox.rows.length?(this._setHtml(this.bodyBox,"",!1),this.tenBox=this._getTenBox(),this.bodyBox.appendChild(this.tenBox)):(0!==this.bodyBox.childNodes.length&&this.bodyBox.childNodes[0]===this.tenBox||(this._setHtml(this.bodyBox,"",!1),this.bodyBox.appendChild(this.tenBox)),this._refreshTenBox());break;case this.cyctypes.day:this.isEmpty(this.dayBox)||0==this.dayBox.rows.length?(this._setHtml(this.bodyBox,"",!1),this.dayBox=this._getDayBox(),this.bodyBox.appendChild(this.dayBox)):(0!==this.bodyBox.childNodes.length&&this.bodyBox.childNodes[0]===this.dayBox||(this._setHtml(this.bodyBox,"",!1),this.bodyBox.appendChild(this.dayBox)),this._refreshDayBox());break;case this.cyctypes.hour:this.isEmpty(this.hourBox)||0==this.hourBox.rows.length?(this._setHtml(this.bodyBox,"",!1),this.hourBox=this._getHourBox(),this.bodyBox.appendChild(this.hourBox)):(0!==this.bodyBox.childNodes.length&&this.bodyBox.childNodes[0]===this.hourBox||(this._setHtml(this.bodyBox,"",!1),this.bodyBox.appendChild(this.hourBox)),this._refreshHourBox());break;case this.cyctypes.minute:this.isEmpty(this.minuteBox)||0==this.minuteBox.rows.length?(this._setHtml(this.bodyBox,"",!1),this.minuteBox=this._getMinuteBox(),this.bodyBox.appendChild(this.minuteBox)):(0!==this.bodyBox.childNodes.length&&this.bodyBox.childNodes[0]===this.minuteBox||(this._setHtml(this.bodyBox,"",!1),this.bodyBox.appendChild(this.minuteBox)),this._refreshMinuteBox());break;case this.cyctypes.second:this.isEmpty(this.secondBox)||0==this.secondBox.rows.length?(this._setHtml(this.bodyBox,"",!1),this.secondBox=this._getSecondBox(),this.bodyBox.appendChild(this.secondBox)):(0!==this.bodyBox.childNodes.length&&this.bodyBox.childNodes[0]===this.secondBox||(this._setHtml(this.bodyBox,"",!1),this.bodyBox.appendChild(this.secondBox)),this._refreshSecondBox())}this._refreshFooter()},setDate:function(t,e){if(null!=t){""===(t=this.checkDate(t))&&(t=new Date);var i=this._decodeDateTime(t);this.curYear=i.year,this.curMonth=i.month,this.curDay=i.day,this.cyctype===this.cyctypes.day&&this.showTime?(this.hTime.setValue(0),this.mTime.setValue(0),this.sTime.setValue(0)):this.cyctype!==this.cyctypes.hour&&this.cyctype!==this.cyctypes.minute&&this.cyctype!==this.cyctypes.second||(this.curHour=i.hour,this.curMinute=i.minute,this.curSecond=i.secnod),!1!==e&&this.refreshCalendar()}},_decodeDateTime:function(t){var e=null;if(null!=t&&""!==t)if(e={},"string"==typeof t){var i=t.split(this.dtSplit),n=i.length;if(e.year=parseInt(i[0],10),n>1&&(e.month=parseInt(i[1],10)),n>2&&(e.day=parseInt(i[2],10)),this.cyctype===this.cyctypes.day&&this.showTime||this.cyctype===this.cyctypes.hour||this.cyctype===this.cyctypes.minute||this.cyctype===this.cyctypes.second)if(i.length>3&&""!==i[3]){var s=i[3].split(/[:.]/g),o=s.length;e.hour=s[0],e.minute=s[1],e.second=s[2],o>3&&(e.msecond=s[3])}else{var l=this._getCurTime();e.hour=l.h,e.minute=l.m,e.second=l.s}isNaN(e.year)&&(t=new Date,e.year=t.getFullYear(),e.month=t.getMonth()+1,e.day=t.getDate(),l=this._getCurTime(),e.hour=l.h,e.minute=l.m,e.second=l.s)}else t=new Date,e.year=t.getFullYear(),e.month=t.getMonth()+1,e.day=t.getDate(),(this.cyctype===this.cyctypes.day&&this.showTime||this.cyctype===this.cyctypes.hour||this.cyctype===this.cyctypes.minute||this.cyctype===this.cyctypes.second)&&(l=this._getCurTime(),e.hour=l.h,e.minute=l.m,e.second=l.s);return e},_getCurTime:function(t){return this.dateObj._getCurTime(t)},setMaxDate:function(t,e){if(null!=t){if(""!==(t=this.checkDate(t))){var i=this._decodeDateTime(t);this.maxYear=i.year,this.maxMonth=i.month,this.maxDay=i.day}else this.maxYear=9999,this.maxMonth=12,this.maxDay=31;!1!==e&&this.refreshCalendar()}},setMinDate:function(t,e){if(null!=t){if(""!==(t=this.checkDate(t))){var i=this._decodeDateTime(t);this.minYear=i.year,this.minMonth=i.month,this.minDay=i.day}else this.minYear=1,this.minMonth=1,this.minDay=1;!1!==e&&this.refreshCalendar()}},setFormatYear:function(t){this.getOption().formatYear=t||this.getOption().formatYear,this.dateObj.setFormatYear(this.getOption().formatYear)},setFormatMonth:function(t){this.getOption().formatMonth=t||this.getOption().formatMonth,this.dateObj.setFormatMonth(this.getOption().formatMonth)},setFormatDay:function(t){this.getOption().formatDay=t||this.getOption().formatDay,this.dateObj.setFormatDay(this.getOption().formatDay)},setFormatHour:function(t){this.getOption().formatHour=t||this.getOption().formatHour,this.dateObj.setFormatHour(this.getOption().formatHour)},setFormatMinute:function(t){this.getOption().formatMinute=t||this.getOption().formatMinute,this.dateObj.setFormatMinute(this.getOption().formatMinute)},setFormatSecond:function(t){this.getOption().formatSecond=t||this.getOption().formatSecond,this.dateObj.setFormatSecond(this.getOption().formatSecond)},setDateSplit:function(t){this.getOption().dateSplit=t||this.getOption().dateSplit,this.dateObj.setDateSplit(this.getOption().dateSplit)},setTimeSplit:function(t){this.getOption().timeSplit=t||this.getOption().timeSplit,this.dateObj.setTimeSplit(this.getOption().timeSplit)},setShowTime:function(t){this.showTime=!this.isEmpty(t)&&Boolean(t),this.cyctype===this.cyctypes.day&&this.showTime?(this.timeRow.style.display="",this.setHeight(this._sumHeight+32)):(this.timeRow.style.display="none",this.setHeight(this._sumHeight)),this.dateObj.setShowTime(this.showTime)},setCycType:function(t){this.cyctype=t,this.cyctype==this.cyctypes.hour||this.cyctype==this.cyctypes.minute||this.cyctype==this.cyctypes.second?this.curCyctype=this.cyctypes.day:this.curCyctype=this.cyctype,this.dateObj.setCycType(this.cyctype),this.refreshCalendar(!1)},getDate:function(){var t=parseInt(this.curYear,10),e=parseInt(this.curMonth,10),i=parseInt(this.curDay,10);t<100&&(t="20"+t),e<10&&(e="0"+e),i<10&&(i="0"+i);var n=t+this.dateSplit+e+this.dateSplit+i;if(this.cyctype===this.cyctypes.day&&this.showTime){var s=" ";s+=this.hTime.getText()+this.timeSplit,s+=this.mTime.getText()+this.timeSplit,n+=s+=this.sTime.getText()}else if(this.cyctype===this.cyctypes.hour)s=" ",n+=s+=this.curHour+this.timeSplit+"00"+this.timeSplit+"00";else if(this.cyctype===this.cyctypes.minute)s=" ",("number"==typeof(o=this.curMinute)&&o<10||"string"==typeof o&&0==o.length)&&(o="0"+o),n+=s+=this.curHour+this.timeSplit+o+this.timeSplit+"00";else if(this.cyctype===this.cyctypes.second){var o;s=" ",("number"==typeof(o=this.curMinute)&&o<10||"string"==typeof o&&0==o.length)&&(o="0"+o);var l=this.curSecond;("number"==typeof l&&l<10||"string"==typeof l&&0==l.length)&&(l="0"+l),n+=s+=this.curHour+this.timeSplit+o+this.timeSplit+l}return n}}),t.ui.calendar.instance=null,t.ui.calendar.getInstance=function(e){return null===e&&(e=""),null==t.ui.calendar.instance&&(t.ui.calendar.instance=new t.ui.calendar(void 0,{cssPrefix:this._cssPrefix}),t.ui.calendar.instance._notFree=!0),t.ui.calendar.instance._setCssPrefix(e),t.ui.calendar.instance},_bindRenderFunc("qzzcalendar",t.ui.calendar),t.ui.calendar}),
/*!
 * 面板控件.
 * ecp.qzz.ui.panel.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.window"],function(){var t=window.qzz;return t.space("ui"),t.ui.panel=t.Class(t.ui.window,{_create:function(){this.base(),this.className="Panel",this.align="alNone",this.isContainer=!0},_render:function(){this._update=!1,this.base(),this._update=!0,this.isNotEmpty(this.parent)&&null!=this.getOption().Align&&(null==this.parent.isComponent&&this.isEmpty(this.parent.style.position)&&(this.parent.style.position="relative"),!1!==this.getOption().absolute&&(this.thisWindow.style.position="absolute")),null!=this.getOption().Align&&this.setAlign(this.getOption().Align)},_afterRender:function(){var t=this;if(this.isNotEmpty(this.parent)&&!this.parent.isComponent){t=this;var e=this.parent;e.hasBindResize,e.hasBindResize=!0}this.base(),!1===this.getOption().absolute&&(this.thisWindow.style.left=""),t=this,setTimeout(function(){!0!==t._hasDestroy&&null!=t.parent&&t.parent.offsetWidth-t.getWidth()>8&&(t.doResize(),t=null)},100)},doResize:function(){this._doResize(this.parent),!1===this.getOption().absolute&&(this.thisWindow.style.left="")},_doResize:function(t){if(!("alNone"!==this.getAlign()||"string"==typeof this._width&&this._width.indexOf("%")>0)||!1!==this.isShow()){if(!this._update)return!1;null==t&&(this.base(),"function"==typeof this.onResize&&this.onResize(this.getWidth(),this.getHeight()),this.trigger("onResize",[this.getWidth(),this.getHeight()])),this.logInfo("panel doResize");var e=t||this;this.removeChildComponent(e.childComponent);var i=e.childComponent.length;if(i>0){for(var n=0,s=0,o=0,l=0,r=this._getRectLeft(t),a=this._getRectTop(t),h=this._getRectWidth(t),c=this._getRectHeight(t),u=null,d=0;d<i;d++){var p=e.childComponent[d];if(p.isContainer){var g=p._getMarginTop()+p._getMarginBottom(),f=p._getMarginLeft()+p._getMarginRight(),y=c-o-l,m=h-n-s,v=a,C=r,S=p.getAlign();"alClient"===S?u=p:"alRight"===S?(s+=p.getWidth()+f,p.setHeight(y-g,!1),p.setTop(o+v,!1),p.setLeft(h-s+C)):"alLeft"===S?(p.setTop(o+v,!1),p.setLeft(n+C,!1),n+=p.getWidth()+f,p.setHeight(y-g)):"alTop"===S?(p.setTop(o+v,!1),p.setLeft(n+C,!1),0!=p.getOption().absolute&&(o+=p.getHeight()),o+=g,p.setWidth(m-f)):"alBottom"===S?(l+=p.getHeight()+g,p.setWidth(m-f,!1),p.setTop(c-l+v,!1),p.setLeft(n+C)):"alFull"===S&&(p.setWidth("100%",!1),p.setHeight("100%"))}p=null}this.isNotEmpty(u)&&(g=u._getMarginTop()+u._getMarginBottom(),f=u._getMarginLeft()+u._getMarginRight(),y=c-o-l,m=h-n-s,v=a,C=r,u.setWidth(m-f,!1),u.setLeft(n+C,!1),u.setHeight(y-g,!1),u.setTop(o+v)),u=null}}},getAlign:function(){return this.align},doShow:function(){this._doResize(this.parent)},setAlign:function(t){this.align!==t&&(this.align=t,this._sizeChanged=!0,this.isNotEmpty(this.parent)&&(this.parent.isComponent?this.parent._doResize():this._doResize(this.parent)))}}),_bindRenderFunc("qzzpanel",t.ui.panel),t.ui.panel}),
/*!
 * 框架控件.
 * ecp.qzz.ui.frame.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.panel","qzz.scrollbar"],function(){var t=window.qzz;return t.space("ui"),t.ui.frame=t.Class(t.ui.panel,{_create:function(){this.base(),this.className="Frame",this._hScrollHeight=18,this._pageBoxHeight=0,this._vScrollHide=!1,this._hScrollHide=!0,this.maxer=2},_render:function(){this.base(),this.scrollBar=new t.ui.scrollbar(void 0,{cssPrefix:this._cssPrefix});var e=this;this.scrollBar.onScroll=function(t,i){e.doScroll(t,i)},this.frameTable=this.createElement("table"),this.thisWindow.appendChild(this.frameTable),this.setStyle(this.frameTable,"component_ui_listview_table"),this.frameTable.style.width=this._getRectWidth()+"px",this._getRectHeight()>0&&(this.frameTable.style.height=this._getRectHeight()+"px");var i=this.frameTable.insertRow(0);this.mainbox=i.insertCell(0),this.setStyle(this.mainbox,"component_ui_listview_box_td"),(n=this._getRectWidth()-this.scrollBar.getWidth())<=0&&(n=1),this.mainbox.style.width=n+"px",this.scrollbox=i.insertCell(1),this.scrollbox.style.width=this.scrollBar.getWidth()+"px",this.scrollBar.setHeight(this._getRectHeight()-this._hScrollHeight-this._pageBoxHeight),this.setStyle(this.scrollbox,"component_ui_listview_box_td"),this.scrollBar.setParent(this.scrollbox),this.listDiv=this.createElement("div");var n,s=this._getRectHeight()-this._pageBoxHeight;if(s<=0&&(s=1),this.listDiv.style.height=s+"px",(n=this._getRectWidth()-this.scrollBar.getWidth()-2)<=0&&(n=1),this.listDiv.style.width=n+this.maxer+"px",this.setStyle(this.listDiv,"treeListDiv"),this.mainbox.appendChild(this.listDiv),(a=this.thisWindow.childNodes.length)>1){for(var o=[],l=0;l<a;l++){var r=this.thisWindow.childNodes[l];r!==this.frameTable&&o.push(r),r=null}l=0;for(var a=o.length;l<a;l++)this.listDiv.appendChild(o[l]);o=null}},_doResize:function(t){if(!this._update)return!1;this.base(t),this.logBegin("Frame doRisize");var e=this._getRectHeight(),i=e+"px",n=this._getRectWidth(),s=n+"px";if(this.isNotEmpty(this.listDiv)&&e>0&&n>0)if(this.listDiv.style.height!=e-this._pageBoxHeight+"px"&&(this.listDiv.style.height=e-this._pageBoxHeight+"px"),this.scrollBar.setHeight(e-this._pageBoxHeight),this.scrollBar.refresh(),this.frameTable.style.width!=s&&(this.frameTable.style.width=s),this.frameTable.style.height!=i&&(this.frameTable.style.height=i),this.scrollBar.visible){var o=this.scrollBar.getWidth();s=n-o+"px",this.mainbox.style.width!=s&&(this.mainbox.style.width=s),s=o+"px",this.scrollbox.style.width!=s&&(this.scrollbox.style.width=s),s=n-o-1+this.maxer+"px",this.listDiv.style.width!=s&&(this.listDiv.style.width=s)}else{s=n-1+"px",this.mainbox.style.width!=s&&(this.mainbox.style.width=s),"1px"!=this.scrollbox.style.width&&(this.scrollbox.style.width="1px");var l=this._getNumberValue(this.mainbox.style.width,1)+this.maxer+"px";this.listDiv.style.width!=l&&(this.listDiv.style.width=l)}this.logEnd("Frame doResize("+this.getOption().top+","+this.getOption().left+","+this.getOption().width+","+this.getOption().height+")")},doScroll:function(t,e){},setVScrollHide:function(t){this._vScrollHide=t,this.scrollBar.setVisible(!t),t?(this.mainbox.style.width=this._getRectWidth()-1+"px",this.scrollbox.style.width="1px",this.listDiv.style.width=this._getRectWidth()-1+this.maxer+"px"):(this.mainbox.style.width=this._getRectWidth()-this.scrollBar.getWidth()+"px",this.scrollbox.style.width=this.scrollBar.getWidth()+"px",this.listDiv.style.width=this._getRectWidth()-this.scrollBar.getWidth()-1+this.maxer+"px")},getHScrollHeight:function(){return this._hScrollHeight},getHScrollHide:function(){return this.isEmpty(this.listDiv)||this.listDiv.offsetHeight-this.listDiv.scrollHeight<=10},refreshScrollBar:function(){this.getHScrollHide()?this.scrollBar.setHeight(this._getRectHeight()-2-this._pageBoxHeight):this.scrollBar.setHeight(this._getRectHeight()-this._hScrollHeight-this._pageBoxHeight),this.setVScrollHide(!0!==this.scrollBar.getVisible())},getBoxWidth:function(){return this._getNumberValue(this.listDiv.style.width,this.getWidth())},refreshVScrollBar:function(){var t=this;this.listDiv.style.overflow="hidden",this._asynRun(function(){t.listDiv.style.overflow="","function"==typeof t.doVScrollShow&&t.doVScrollShow()},0)}}),_bindRenderFunc("qzzframe",t.ui.frame),t.ui.frame}),
/*!
 * 列表视图控件.
 * ecp.qzz.ui.listview.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.frame","qzz.list","qzz.icheckbox"],function(){var t=window.qzz;return t.space("ui"),t.ui.listview=t.Class(t.ui.frame,{_create:function(){this.base(),this.className="ListView",this.logInfo("listView.create"),this.list=new t.list;var e=this.getOption().data;this.isNotEmpty(e)&&this.list.setItemList(e),e=null,this.selectIndex=-1,this.rowIndex=0,this.getOption().showCount=this._getNumberValue(this.getOption().showCount,6),this.selBackgroup=!1,""!==this.getOption().fontSize&&null!=this.getOption().fontSize?this._rowHeight=1.9*parseInt(this.getOption().fontSize,10):this._rowHeight=23,this._rowHeight=this._getNumberValue(this.getOption().rowHeight,this._rowHeight),this._scrollFireEvent=this.getBooleanValue(this.getOption().scrollFireEvent,!0),this.getOption().height=this._rowHeight*this.getOption().showCount,this.topIndex=0,this.getOption().width=this._getNumberValue(this.getOption().width,150),this.rendered=!1,this.autoHeight=!1,this.getOption().multiSelect=this.getBooleanValue(this.getOption().multiSelect,!1),this.getOption().selectAll=this.getBooleanValue(this.getOption().selectAll,!1),this.getOption().idkey=this.getOption().idkey||"id",this.getOption().capkey=this.getOption().capkey||"text",this.list.idColName=this.getOption().idkey,this.list.textColName=this.getOption().capkey},_render:function(){this.base(),this.logInfo("listView.render"),this.listTab=this.createElement("table"),this.setStyle(this.listTab,"component_ui_listview_list_table"),this.listTab.style.width="100%",this.listTab._this=this,this.listDiv.appendChild(this.listTab),this.refresh(),this.rendered=!0},refreash:function(t){this.refresh(t)},setHeight:function(t){var e=t;this.base(e),this.thisWindow.style.height=e+"px"},_getSelectObj:function(){var t=this.createElement("span");this.addStyle(t,"link"),t.id="all",this._setHtml(t,this.getI18n("qzz.selectAll","全选"));var e=this.createElement("span");e.id="rever",this.addStyle(e,"link"),this._setHtml(e,this.getI18n("qzz.rever","反选"));var i=this.createElement("table"),n=i.insertRow(0),s=0,o=n.insertCell(s++);return this._setHtml(o,"("),(o=n.insertCell(s++)).appendChild(t),o=n.insertCell(s++),this._setHtml(o,"&nbsp;|&nbsp;"),(o=n.insertCell(s++)).appendChild(e),o=n.insertCell(s++),this._setHtml(o,")"),i},_getAllText:function(){return"("+this.getI18n("qzz.selectAll","全选")+"&nbsp;|&nbsp;"+this.getI18n("qzz.rever","反选")+")"},refresh:function(e){if(!this._update)return!1;var i="100%";if("image"!==this.getOption().viewType){var n="12px";null!=this.getOption().fontSize&&(n=this.getOption().fontSize+"px"),i=this.getTextWidth(this.list.getMaxText(),n)+10}this.getOption().multiSelect&&(i+=23);var s=!1;if(!0===this.getOption().selectAll&&!0===this.getOption().multiSelect){var o=this.list.indexOf("all");o>0&&this.list.delItem(o);var l=this.list.getItem(0);if(l&&"all"!=l[this.getOption().idkey]){var r={};r[this.getOption().idkey]="all",r[this.getOption().capkey]=this._getAllText(),r._filter=!1,this.list.insertItem(0,r)}if(l&&!0===l.checked&&!0!==l.rever)for(var a=1,h=this.list.length();a<h;a++)(d=this.list.getItem(a)).checked=!0;else{var c=!1,u=!1;for(a=1,h=this.list.length();a<h;a++){var d;if(!0===(d=this.list.getItem(a)).checked?c=!0:!0!==d.checked&&(u=!0),c&&u){s=!0;break}}}this.list._refreshFilter()}this._overWidth=!1;var p=this.getOption().width;this.scrollBar.visible&&(p-=this.scrollBar.getWidth()),i>p?(this.listTab.style.width=i+"px",this._overWidth=!0):(this.listTab.style.width="100%",this._overWidth=!1);var g=0;this._overWidth&&(g=this.getHScrollHeight());var f=this.getOption().showCount;this.autoHeight||(f=parseInt((this._getRectHeight()-g)/this._rowHeight,10));var y,m,v,C=this.listTab.rows.length,S=this.list.length(),b=f<S?f:S,x=this.topIndex,_=this;this.rowIndex=-1;var w="",T=b*this._rowHeight;for(this.autoHeight&&(this._overWidth&&(T+=g),this.setHeight(T)),a=0;a<=b&&x<S;a++){null==(m=this.listTab.rows[a])&&(m=this.listTab.insertRow(a)),v=0;var N=this.list.getItem(x);if(this.getOption().multiSelect?(m.cells.length>1?(y=m.cells[v]).style.display="":((y=m.insertCell(v)).checkBox=new t.ui.input.checkbox,y.checkBox._this=this,y.checkBox.bind("onClick",function(t){_.doSelect.apply(this,arguments)},!0),y.onmouseover=this.doMouseOverCell,y.onmouseout=this.doMouseOutCell,y.appendChild(y.checkBox.getContainer()),y.style.width="20px",y.style.textAlign="center"),y.checkBox.item=N,y._this=this,y.checkBox._selectIndex=x,"all"==N.id?!0===N.checked?y.checkBox.setCheck(!0):s?y.checkBox.setSomeCheck(!0):y.checkBox.setCheck(!1):y.checkBox.setCheck(1==N.checked),1==N.disabled?(y.checkBox.setDisable(!0),y.checkBox.unbind("onClick")):y.checkBox.setDisable(!1),x!=this.selectIndex||this.selBackgroup?this.setStyle(y,"component_ui_listview_td"):this.focus?this.setStyle(y,"component_ui_listview_td_over"):this.setStyle(y,"component_ui_listview_td_nofocus_over"),""!==this.getOption().fontSize&&null!=this.getOption().fontSize&&(y.style.fontSize=this.getOption().fontSize+"px"),null!=this._rowHeight&&""!==this._rowHeight&&(y.style.height=this._rowHeight-1+"px"),v++):m.cells.length>1&&((y=m.cells[v]).style.display="none",v++),null==(y=m.cells[v])&&(y=m.insertCell(v)),this.getOption().multiSelect&&(y.style.paddingLeft="0px"),x!=this.selectIndex&&N[this.getOption().capkey]!=e||this.selBackgroup?this.setStyle(y,"component_ui_listview_td"):(this.focus?this.setStyle(y,"component_ui_listview_td_over"):this.setStyle(y,"component_ui_listview_td_nofocus_over"),this.rowIndex=a,N[this.getOption().capkey]==e&&(this.selectIndex=x)),""!==this.getOption().fontSize&&null!=this.getOption().fontSize&&(y.style.fontSize=this.getOption().fontSize+"px"),null!=this._rowHeight&&""!==this._rowHeight&&(y.style.height=this._rowHeight-1+"px"),y._this=this,y._selectIndex=x,w=N[this.getOption().capkey],x++,"image"==this.getOption().viewType||"imageText"==this.getOption().viewType){var O=this._rowHeight-4+"px";null==y._cimg&&(y._cimg=this.createElement("span")),null==y._cimgTab&&(y._cimgTab=this.createElement("img")),y._cimg.innerHTML="",y._cimg.appendChild(y._cimgTab),y._cimg.style.height=O,y._cimg.style.width=O,y._cimg.style.display="block",y._cimg.style.textAlign="center",y._cimg.style.backgroundColor="#DCF1F3",y._cimgTab.onload=function(){this.style.width="auto",this.style.height="auto",this.offsetWidth>this.offsetHeight?(this.style.width="100%",this.style.marginTop=y._cimg.offsetWidth/2-this.offsetHeight/2+"px"):this.style.height="100%"},y._cimgTab.setAttribute("src",N[this.getOption().idkey]),y.setAttribute("title",N.title||w),"imageText"==this.getOption().viewType?(null==y._ctext&&(y._ctext=this.createElement("span")),this._setHtml(y._ctext,N.title||w,!0),y._cimg.style.float="left",y._ctext.style.float="left",y._ctext.style.padding="3px 0 0 5px",this._setHtml(y,y._cimg,!1),y.appendChild(y._ctext)):y.appendChild(y._cimg)}else"all"==N.id?(null==this._allTab&&(this._allTab=this._getSelectObj()),this._setHtml(y,this._allTab)):this._setHtml(y,w,!1!==this.getOption().escape),y.setAttribute("title","");1!=N.disabled&&("all"==N.id?y.onmouseup=this.doSelect:y.onclick=this.doSelect,y.ondblclick=this.doItemDBClick),y.onmouseover=this.doMouseOverCell,y.onmouseout=this.doMouseOutCell}f<S?(this.scrollBar.setScrollCount(S,f),this.setVScrollHide(!1)):(this.scrollBar.setScrollCount(0,0),this.setVScrollHide(!0)),this.listTabWidth=i,this.refreshScrollBar();for(var L=C-1;L>=a;L--)L<this.listTab.rows.length&&this.listTab.deleteRow(L)},refreshScrollBar:function(){this.base(),this.scrollBar.setScrollIndex(this.topIndex)},doItemDBClick:function(t){var e=this._this,i=e.list.getItem(this._selectIndex);(e.selectIndex!=this._selectIndex||e.getOption().multiSelect)&&(e.selectIndex=this._selectIndex,this.tmpClassName="",e.getOption().multiSelect&&(i.checked=!i.checked,e.doSelect.apply(this,arguments)),e.refresh()),e.trigger("onDBClick",[i]),i=null},doSelect:function(t){var e=this._this,i=e.list.getItem(this._selectIndex);if(e.selectIndex!=this._selectIndex||e.getOption().multiSelect){if(e.selectIndex=this._selectIndex,this.tmpClassName="",e.getOption().multiSelect&&(i.checked=!i.checked,i.rever=!1,e.getOption().selectAll)){var n=e.list.getItemList();if("all"==i[e.getOption().idkey])if(t.target&&"rever"==t.target.id){for(var s=!0,o=0,l=n.length;o<l;o++)0===o||n[o].disabled||(n[o].checked=!n[o].checked,!0!==n[o].checked&&(s=!1));i.rever=!0,i.checked=s}else if(t.target&&"all"==t.target.id){for(o=0,l=n.length;o<l;o++)0===o||n[o].disabled||(n[o].checked=!0);i.checked=!0}else for(o=0,l=n.length;o<l;o++)0===o||n[o].disabled||(i.checked?n[o].checked=!0:n[o].checked=!1);else{var r,a=i.checked;for(o=0,l=n.length;o<l;o++)if(!(0===o&&"all"===n[o][e.getOption().idkey]||n[o].disabled))if(a){if(!n[o].checked){if("all"==n[0][e.getOption().idkey]&&n[0].checked){n[0].checked=!1;break}r=!0}}else if("all"==n[0][e.getOption().idkey]&&n[0].checked){n[0].checked=!1;break}!a||r||"all"!=n[0][e.getOption().idkey]||n[0].checked||(n[0].checked=!0)}}e.refresh()}if("function"==typeof e.onSelect&&null!=i&&e.onSelect(e.selectIndex,i),e.trigger("onSelect",[e.selectIndex,i]),e.getOption().multiSelect&&"function"==typeof e.onCheckChanged)try{e.onCheckChanged(i,i.checked)}catch(t){e.logError("[onCheckChanged] error:"+t.message+t.stack)}i=null},setSelectByText:function(t){if(this.selBackgroup=!1,this.getOption().multiSelect){"string"==typeof t&&(t=t.split(/[ ,，]+/g));for(var e=t.length,i=this._getAllText(),n="("+this.getI18n("qzz.selectAll","全选")+")",s=0,o=[],l=0,r=this.list.length(!0);l<r&&s<e;l++){var a=this.list.getItem(l,!0);a.checked=!1;for(var h=0;h<e;h++){var c=a[this.getOption().capkey];if(c==t[h]||c+""===t[h]||c+""===i&&t[h]===n){a.checked=!0,s++;break}}a.checked&&o.push(a)}return this.refresh(),o}return this.selectIndex=this.list.indexOfText(t,!0),this.refresh(),this.selectIndex},setSelect:function(t){if(this.selBackgroup=!1,this.getOption().multiSelect){if("string"==typeof t?t=t.split(/[ ,，]+/g):"number"==typeof t&&(t=[t+""]),this.getOption().selectAll&&t&&"all"===t[0]){var e=this.list.getItemList();t=[];for(var i=0,n=e.length;i<n;i++)e[i].checked&&t.push(e[i][this.getOption().idkey])}i=0;for(var s=this.list.length(!0);i<s;i++){var o=this.list.getItem(i,!0);o.checked=!1,n=0;for(var l=t.length;n<l;n++)if(null!=o[this.getOption().idkey]&&o[this.getOption().idkey]===t[n]||o[this.getOption().capkey]===t[n]){o.checked=!0;break}}}else this.selectIndex=this.list.indexOf(t,!0);this.refresh()},getSelect:function(){if(this.getOption().multiSelect){for(var t=[],e=0;e<this.list.length(!0);e++){var i=this.list.getItem(e,!0);i.checked&&t.push(i),i=null}return t}return this.list.getItem(_this.selectIndex)},doMouseOverCell:function(t){var e=this._this;if(this.tmpClassName=this.className,e.focus){e.setStyle(this,"component_ui_listview_td_over");var i=this.parentNode.cells[1-this.cellIndex];if(e.isNotEmpty(i)&&(i.tmpClassName=i.className,e.setStyle(i,"component_ui_listview_td_over"),i=null),e.getOption().multiSelect){var n=this.parentNode.cells[0];n.style.width="20px",n.style.textAlign="center"}e.selBackgroup||e.selectIndex==this._selectIndex||(e.selectIndex=this._selectIndex,e.refresh(),e.selBackgroup=!0)}},doMouseOutCell:function(t){var e=this._this;if(e.focus&&""!==this.tmpClassName){e.setStyle(this,this.tmpClassName,void 0,!1);var i=this.parentNode.cells[1-this.cellIndex];if(e.isNotEmpty(i)&&(e.setStyle(i,i.tmpClassName),i=null),e.getOption().multiSelect){var n=this.parentNode.cells[0];n.style.width="20px",n.style.textAlign="center"}}},doMouseWheel:function(t){this.base();var e=t,i=this;return(e.wheelDelta?e.wheelDelta:-1*e.detail)>0?i.scrollBar.scrollPrior():i.scrollBar.scrollNext(),i=null,e.returnValue=!1,e=null,!1},doKeyDown:function(t,e){if(e==this.keyBoard.UP?this.prior():e==this.keyBoard.DOWN&&this.next(),(e==this.keyBoard.UP||e==this.keyBoard.DOWN)&&"function"==typeof this.onSelect){var i=this.list.getItem(this.selectIndex);null!=i&&this._scrollFireEvent&&this.onSelect(this.selectIndex,i)}e=null},doKeyUp:function(t,e){if(e==this.keyBoard.ENTER&&"function"==typeof this.onSelect){var i=this.list.getItem(this.selectIndex);null!=i&&(this.getOption().multiSelect&&(i.checked=!i.checked,this.refresh()),this.onSelect(this.selectIndex,i)),i=null,this.logInfo("key up")}},setShowCount:function(t){this.getOption().showCount!=t&&(this.getOption().showCount=t,this.getOption().height=t*this._rowHeight,this.refresh())},setItemList:function(t){this.list.filtered=!1,this.list.filter="",this.list.setItemList(t),this.topIndex=0,this.refresh()},value:function(t){null==t||this.setItemList(t)},addItem:function(t){this.list.addItem(t),this.refresh()},delItem:function(t,e){this.list.delItem(t),0!=e&&this.refresh()},addFilter:function(t,e){if(this.list.addFilter(t,e),this.topIndex=0,1==this.list.length()?this.selectIndex=0:this.selectIndex=-1,this.getOption().selectAll){for(var i=this.list.length(),n=i>1,s=0;n&&s<i;s++)"all"!==(o=this.list.getItem(s))[this.getOption().idkey]&&(n=n&&!0===o.checked);var o;null!=(o=this.list.getItem(0))&&"all"===o[this.getOption().idkey]&&(o.checked=n)}0!=e&&this.refresh(t)},doFilter:function(){this.list.doFilter(),this.refresh()},clearFilter:function(t){this.list.clearFilter()},filterExist:function(t){return this.list.filterExist(t)},getFilter:function(){return this.list.filter},prior:function(){this.selectIndex>0?(this.selectIndex--,this.selectIndex<this.topIndex?this.topIndex=this.selectIndex:this.selectIndex>this.topIndex+this.getOption().showCount-1&&(this.topIndex=this.selectIndex-this.getOption().showCount+1),this.scrollBar.setScrollIndex(this.topIndex),this.refresh()):(this.selectIndex=0,this.refresh())},next:function(){this.selectIndex<this.list.length()-1?(this.selectIndex++,this.selectIndex<this.topIndex?this.topIndex=this.selectIndex:this.selectIndex>this.topIndex+this.getOption().showCount-1&&(this.topIndex=this.selectIndex-this.getOption().showCount+1),this.scrollBar.setScrollIndex(this.topIndex),this.refresh()):(this.selectIndex=this.list.length()-1,this.refresh())},getCurItem:function(){return this.list.getItem(this.selectIndex)},getItem:function(t){return this.list.getItem(t)},indexOfText:function(t,e){return this.list.indexOfText(t,e)},indexOf:function(t,e){return this.list.indexOf(t,e)},getSelectIndex:function(){if(this.list.filtered){var t=this.list.getItem(this.selectIndex),e=-1;return null!=t&&(e=this.list.indexOfText(t[this.getOption().capkey],!0)),t=null,e}return this.selectIndex},endUpdate:function(){this._update=!0,this.refresh()},doScroll:function(t,e){this.topIndex=t,this.refresh()},_doResize:function(t){this.base(t)},doBlur:function(){this.base(),this.refresh()},doFocus:function(){this.base(),this.refresh()},doSelectAll:function(){if(this.getOption().multiSelect){for(var t=0;t<this.list.length(!0);t++)this.list.getItem(t,!0).checked=!0;this.refresh()}},clearSelectAll:function(){if(this.getOption().multiSelect){for(var t=0;t<this.list.length(!0);t++)this.list.getItem(t,!0).checked=!1;this.refresh()}},length:function(t){return this.list.length(t)},getHScrollHide:function(){var t=this.getOption().width;return this.scrollBar.visible&&(t-=this.scrollBar.getWidth()),this.listTabWidth<=t},setIdkey:function(t){this.getOption().idkey=t}}),_bindRenderFunc("qzzlistview",t.ui.listview),t.ui.listview}),
/*!
 * 树形视图控件.
 * ecp.qzz.ui.treeview.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.frame","qzz.treelist","qzz.icheckbox"],function(){var t=window.qzz;return t.space("ui"),t.ui.treeview=t.Class(t.ui.frame,{_create:function(){this.base(),this.className="TreeView",this.logInfo("treeView.create"),this.treeList=new t.treelist,this.rowIndex=0,this.showCount=this._getNumberValue(this.getOption().showCount,6),this.topNode=null,this.topIndex=0,this.bottomNode=null,this._rowHeight=this._getNumberValue(this.getOption().rowHeight,17),this.scrollHeight=16,this.getOption().height=this._getNumberValue(this.getOption().height,this._rowHeight*this.showCount+this.scrollHeight),this.rendered=!1,this.autoHeight=this.getBooleanValue(this.getOption().autoHeight,!1);var e,i=this.getOption().data;if(this.treePidData=this.getBooleanValue(this.getOption().treePidData,!1),null==this.getOption().pidkey&&null==this.getOption().parentKeyId||(this.treePidData=!0),this.treeList.getOption().fullPath=this.getOption().fullPath,this.treeList.getOption().treeId=this.getOption().treeId||this.getOption().treekey,this.treeList.getOption().idkey=this.getOption().idkey||this.treeList.getOption().idkey,this.treeList.getOption().capkey=this.getOption().capkey||this.treeList.getOption().capkey,this.treePidData)this.treeList.setIDPID(this.getOption().treeId||this.getOption().idkey,this.getOption().parentKeyId||this.getOption().pidkey),this.treeList.initSort=!1;else{var n=this.getOption().treeId||this.getOption().treekey;null==n&&(n=this.treeList.getOption().idkey||"bm"),this.treeList.setItemCode(n)}if(this.isNotEmpty(i)){var s=this;this.treeList.setItemList(i,function(){s.setLeafOnly(!0===s.getOption().leafOnly)}),this.treeList.first(),this.topNode=this.treeList.getCurNode()}i=null,this.isNotEmpty(this.getOption().checkFlag)&&((e=this.getOption().checkFlag).indexOf("p")>=0&&(this.treeList.autoCheckType.autoCheckAllParent=!0),e.indexOf("s")>=0&&(this.treeList.autoCheckType.autoCheckAllChild=!0),e.indexOf("b")>=0&&(this.treeList.autoCheckType.autoCheckBrother=!0),e.indexOf("e")>=0&&(this.treeList.autoCheckType.autoCheckAllParentExt=!0)),this.isNotEmpty(this.getOption().unCheckFlag)&&((e=this.getOption().unCheckFlag).indexOf("p")>=0&&(this.treeList.autoCheckType.autoUnCheckAllParent=!0),e.indexOf("s")>=0&&(this.treeList.autoCheckType.autoUnCheckAllChild=!0),e.indexOf("b")>=0&&(this.treeList.autoCheckType.autoUnCheckBrother=!0),e.indexOf("e")>=0&&(this.treeList.autoCheckType.autoUnCheckAllParentExt=!0)),this.multiSelect=this.getBooleanValue(this.getOption().multiselect,this.getOption().multiSelect),this.isEmpty(this.multiSelect)&&(this.multiSelect=!1),this.treeList.multiSelect=this.multiSelect},_render:function(){this.base(),this.logInfo("treeView.render"),this.listTab=this.createElement("table"),this.setStyle(this.listTab,"component_ui_listview_list_table"),this.listTab.style.width="100%",this.listTab._this=this,this.listDiv.appendChild(this.listTab),this.isSelect=!0,this.maxWidth=0,this.refresh()},_onTreeCheckBoxClick:function(t){var e=this._this,i=this._cNode;if(i.checkState?e.treeList.setUnSelect(i):e.treeList.setSelect(i),"function"==typeof e.onCheckChanged)try{e.onCheckChanged(this._cNode,this._cNode.checkState)}catch(t){e.logError("[onCheckChanged] error:"+t.message+t.stack)}e.trigger("onSelectRow",[this._cNode,this._cNode.checkState]),e.trigger("onCheckChanged",[this._cNode,this._cNode.checkState]),e.refresh(),e=null},refreash:function(){this.refresh()},refresh:function(){if(!this._update)return!1;this.beginUpdate();var e=this.getHScrollHeight();this.autoHeight||(this.showCount=Math.round((this._getRectHeight()-e)/this._rowHeight)+1);var i,n,s,o=this.listTab.rows.length,l=this.treeList.getVisibleCount(),r=this.showCount<l?this.showCount:l,a=this.topNode;this.rowIndex=-1;var h=this.treeList.curNode;for(this.treeList.beginUpdate(),this.treeList.select(a),s=0;s<=r&&null!=a;s++){null==(n=this.listTab.rows[s])&&(n=this.listTab.insertRow(s)),i=n.cells[0];var c=a.index>=a.pNode.count-1;if(null==i){i=n.insertCell(0);var u=this.createElement("table");u.border=0,u.cellPadding=0,u.cellSpacing=0,i.nodeTable=u,i.nodeR=u.insertRow(0),i.nodeR.style.height=this._rowHeight+"px",i.pointTd=i.nodeR.insertCell(0),i.pointTd.style.width="16px",i.pointTd._this=this,i.pointDiv=this.createElement("div"),i.pointDiv.style.width="16px",i.pointDiv.style.height=this._rowHeight+"px",i.pointTd.appendChild(i.pointDiv),i.checkTd=i.nodeR.insertCell(1),i.checkTd.style.width="16px",i.checkBox=new t.ui.input.checkbox,i.checkBox._this=this,i.checkBox.bind("onClick",this._onTreeCheckBoxClick,!0),i.checkTd.appendChild(i.checkBox.getContainer()),i.textTd=i.nodeR.insertCell(2),i.textTd._this=this,i.appendChild(u)}else for(var d=i.nodeR.cells.length;d>3;)i.nodeR.deleteCell(0),d--;var p=0;this.multiSelect?(i.checkTd.style.display="",i.checkBox.setCheck(a.checkState),i.checkBox._cNode=a,p=16,a.enable?i.checkBox.setDisable(!1):i.checkBox.setDisable(!0)):i.checkTd.style.display="none",i.textTd._node=a;var g;g=c?"_last":"_center",a.recNo==h.recNo?(this.focus?this.setStyle(i.textTd,"component_ui_treeview_td_over"):this.setStyle(i.textTd,"component_ui_treeview_td_nofocus_over"),this.rowIndex=s):this.setStyle(i.textTd,"component_ui_treeview_td"),i.style.paddingLeft="4px",a.count>0?(a.expanded?this.setStyle(i.pointDiv,"component_ui_treeview_node_expand"+g):this.setStyle(i.pointDiv,"component_ui_treeview_node_collapse"+g),i.pointTd.node=a,i.pointTd.onclick=function(){this.node.expanded?this.node.collapse():this.node.expand(),this._this.isSelect=!1,this._this.refresh()}):(this.setStyle(i.pointDiv,"component_ui_treeview_node"+g),i.pointTd.onclick=null),!1===a.enable&&this.addStyle(i.textTd,"component_ui_treeview_td_disable");for(var f=16*a.level+16+p,y=a.pNode,m=0;m<a.level;m++){var v=i.nodeR.insertCell(0);v.style.width="16px",y.index>=y.pNode.count-1?this.setStyle(v,"component_ui_treeview_box_last"):this.setStyle(v,"component_ui_treeview_box_center"),y=y.pNode}var C=a.text;this.hasbind("onItemDraw")&&(C=this.trigger("onItemDraw",[this.treeList,i.textTd,C])),this._setHtml(i.textTd,C);var S=this.getTextWidth(a.text+25);this.maxWidth<f+S&&(this.maxWidth=f+S),i.textTd.onclick=this.doSelect,a=this.treeList.next()?this.treeList.curNode:null}this.maxWidth>0&&(this.listTab.style.width=this.maxWidth+10+"px");for(var b=o-1;b>=s;b--)this.listTab.deleteRow(b);this.bottomNode=this.treeList.curNode,this.treeList.endUpdate(!1),this.treeList.select(h),o=null,this.showCount-1<l?(this.scrollBar.setScrollCount(l,this.showCount-1),this.setVScrollHide(!1)):(this.scrollBar.setScrollCount(0,0),this.setVScrollHide(!0)),this.rendered=!0,this.endUpdate()},doSelect:function(t){var e=this._this;if(e.isSelect){var i=this._node;e.treeList.curNode.recNo!=i.recNo&&(e.treeList.select(i),this.tmpClassName="",e.refresh()),"function"==typeof e.onSelect&&!0===e.treeList.isEnableCheck()&&e.onSelect(e.treeList.curNode),e.trigger("onSelect",[e.treeList.curNode])}e.isSelect=!0},doScroll:function(t,e){if(0!==e){var i=this;i.topIndex=t,i.treeList.beginUpdate();var n=i.treeList.curNode;if(i.treeList.select(i.topNode),e>0)for(var s=0;s<e;s++)i.treeList.next();else for(s=0;s>e;s--)i.treeList.prior();i.topNode=i.treeList.curNode,i.treeList.select(n),n=null,i.treeList.endUpdate(),i.refresh(),i=null}},doMouseWheel:function(t){this.base();var e=t,i=this;return(e.wheelDelta?e.wheelDelta:-1*e.detail)>0?i.scrollBar.scrollPrior():i.scrollBar.scrollNext(),i=null,e.returnValue=!1,e=null,!1},doKeyDown:function(t,e){e==this.keyBoard.UP?this.prior():e==this.keyBoard.DOWN&&this.next(),e=null},addFilterText:function(t,e,i){this.treeList.addFilterText(t,e,i)},clearFilterText:function(t){this.treeList.clearFilterText(t)},setFiltered:function(t,e){this.treeList.setFiltered(t,e)},isFiltered:function(){return this.treeList.filtered},doKeyUp:function(t,e){if(e==this.keyBoard.ENTER){var i=this.treeList.getCurNode();null!=i&&("function"==typeof this.onSelect&&this.onSelect(i),this.trigger("onSelect",[i])),i=null,this.logInfo("key up")}},first:function(){this.treeList.first(),this.topNode=this.treeList.getCurNode(),this.topNode.level>=0&&(this.topNode.scrIndex=1),this.beginUpdate(),this.scrollBar.setScrollIndex(0),this.endUpdate(!1),this.refresh()},prior:function(){this.treeList.prior(),this._scrollToFocus()},next:function(){this.treeList.next(),this._scrollToFocus()},last:function(){this.treeList.last(),this._scrollToFocus()},addNode:function(e,i,n){return e instanceof t.treenode?this.treeList.addNode(e,i,n):"string"==typeof e?((s=new t.treenode).text=e,this.treeList.addNode(s)):"object"==typeof e?((s=new t.treenode).text=e.text,s.id=e.id,this.treeList.addNode(s)):void 0;var s},insertNode:function(e,i,n,s){return i instanceof t.treenode?this.treeList.insertNode(e,i,n,s):"string"==typeof i?((o=new t.treenode).text=i,this.treeList.insertNode(e,o)):"object"==typeof i?((o=new t.treenode).text=i.text,o.id=i.id,this.treeList.insertNode(e,o)):void 0;var o},delNode:function(t,e){return this.treeList.delNode(t,e)},setLeafOnly:function(t,e){this.treeList.each(function(e){e.count>0&&(e.enable=!0!==t)},e)},value:function(t,e){this.setItemList(t,e)},setItemList:function(t,e){var i=this;this.topNode=null,this.treeList.setItemList(t,function(){i.setLeafOnly(!0===i.getOption().leafOnly,function(){null!=i.topNode&&i.refresh(),"function"==typeof e&&e(),i=null})}),this.treeList.first(),this.topNode=this.treeList.curNode,this.topCount=0,this.maxWidth=0,this.refresh()},setItemCode:function(t){this.treeList.setItemCode(t)},setIDPID:function(t,e){this.treeList.setIDPID(t,e)},_doResize:function(t){this.base(t),this.rendered&&this._update&&(this.refresh(),this.autoHeight&&(null==this.showCount&&(this.showCount=0),this.getOption().height=this._rowHeight*this.showCount+this.scrollHeight))},doBlur:function(){this.base(),this.refresh()},doFocus:function(){this.base(),this.refresh()},getCurNode:function(){return this.treeList.getCurNode()},setMultiSelect:function(t){this.getOption().multiselect=t,this.multiSelect=t},getSelectedData:function(){if(this.multiSelect){this.treeList.getCurNode(),this.treeList.first();for(var t=[];!this.treeList.isEof();)this.treeList.isSelected()&&t.push(this.getCurNode().data),this.treeList.next(!0);return t}return this.treeList.getCurNode().data},setSelectById:function(t,e){var i=this;this.treeList.setSelectById(t,function(t){i.refresh(),"function"==typeof e&&e(t)})},setSelectByText:function(t,e){var i=this;this.treeList.setSelectByText(t,function(t){i.refresh(),"function"==typeof e&&e(t)})},indexOfText:function(t){return this.treeList.indexOfText(t)},locate:function(t){return!!this.treeList.locate(t)&&(this._scrollToFocus(),!0)},getDisplay:function(t){return this.treeList.getDisplay(t)},getValue:function(t){return this.treeList.getValue(t)},getText:function(t){return this.treeList.getText(t)},getAllCount:function(){return this.treeList.getAllCount()},unCheckAll:function(t){this.treeList.unCheckAll(t)},checkAll:function(t){this.treeList.checkAll(t)},getScrollIndex:function(){return null!=this.topNode?this.topNode.scrIndex:1},scrollToIndex:function(t){if(t>1){t>this.getAllCount()&&(t=this.getAllCount());var e=!0;if(t>1){this.treeList.beginUpdate();var i=this.treeList.getCurNode(),n=0;if(this.treeList.select(this.topNode),t>this.topNode.scrIndex)for(;!this.treeList.isEof()&&t!=this.treeList.getIndex();){if(t<this.treeList.getIndex()){e=!1;break}n++,this.treeList.next()}else for(;!this.treeList.isBof()&&t!=this.treeList.getIndex();){if(t>this.treeList.getIndex()){e=!1;break}n--,this.treeList.prior()}this.treeList.select(i),this.treeList.endUpdate(!1),!0===e&&this.scrollBar.setScrollIndex(this.scrollBar.scrollIndex+n),this.refresh()}else this.first()}else this.first()},_scrollToFocus:function(){if(this.treeList.curNode.scrIndex<this.topNode.scrIndex){var t=this.scrollBar.scrollIndex,e=this.treeList.curNode;for(this.treeList.curNode=this.topNode;this.treeList.curNode.recNo!=e.recNo&&!this.treeList.isBof();)this.treeList.prior(),this.treeList.isBof()||t--;this.scrollBar.setScrollIndex(t)}else if(!this.treeList.isEof()&&this.treeList.curNode.scrIndex>=this.bottomNode.scrIndex){for(t=this.scrollBar.scrollIndex,e=this.treeList.curNode,this.treeList.curNode=this.bottomNode;this.treeList.curNode.recNo!=e.recNo&&!this.treeList.isEof();)this.treeList.next(),this.treeList.isEof()||t++;this.scrollBar.setScrollIndex(t+1)}this.refresh()}}),_bindRenderFunc("qzztreeview",t.ui.treeview),t.ui.treeview}),
/*!
 * 远光ECP平台3.4版本 
 * 
 * 可见窗口基类.：qzz.ui.Window
 * ecp.qzz.ui.codeview.js
 * @requires qzz.ui
 */
null==window.qdefine&&(window.qdefine=define),null==window.GRM_ROOT&&(window.GRM_ROOT="/grm/ecp/webcore"),qdefine(["ecp.utils","qzz.window","qzz.copy"],function(t){var e=window.qzz;return e.space("ui"),e.ui.codeview=e.Class(e.ui.window,{_create:function(){this.className="CodeView",this.logInfo("CodeView.create"),this.base(),null!=this.getOption().top&&0!==this.getOption().top||(this.getOption().top=4),this._rowSplit="\n"},_render:function(){this.base(),null==this.getOption().code&&"HTML"!=this.getOption().type&&this.getBrowser("msie")?this.getOption().code=this.thisWindow.innerText:null==this.getOption().code&&null!=this.thisWindow.innerHTML&&(this.getOption().code=this.thisWindow.innerHTML),this.thisWindow.style.backgroundColor="#FFFFFF",this._setHtml(this.thisWindow,"",!1),this._copyBtn=this.createElement("DIV"),this._copyBtn.id="copy_btn",this._copyBtn.setAttribute("title","复制"),this.setStyle(this._copyBtn,"copyDiv");var e=this;this.thisWindow.appendChild(this._copyBtn),ZeroClipboard.setMoviePath(GRM_ROOT+"/components/qzz/ZeroClipboard.swf");var i=new ZeroClipboard.Client;i.addEventListener("mouseOver",function(t){var n=e.getOption().code;null!=n&&(n=n.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#37;/g,"%")),i.setText(n)}),i.addEventListener("complete",function(e,i){t.notify("复制完成。")}),i.setHandCursor(!0),i.glue("copy_btn",this._copyBtn),this._list=this._splitRow(),this._codeTable=this.createElement("OL"),this._codeTable.setAttribute("start",1),this.setStyle(this._codeTable,"coreIndex"),this.thisWindow.appendChild(this._codeTable),this.refresh()},_splitRow:function(){var t=this.getOption().code;return null==t?[]:t.split(/\n/g)},setCode:function(t){this.getOption().code=t,this._splitRow(),this.refresh()},_addRow:function(t,e){var i=this.createElement("li");this._codeTable.appendChild(i);var n,s=this.createElement("span");i.appendChild(s),n=t%2==1?"code_1":"code_2",this.setStyle(i,n);var o="";if(null!=e){var l=e.split("//");e=(e=(e=(e="&nbsp;"+(e=l[0]).replace(/ /g,"&nbsp;").replace(/	/g,"&nbsp;&nbsp;&nbsp;&nbsp;")).replace(/</g,"&lt").replace(/>/g,"&gt")).replace(/(['][^']*[']|["][^"]*["])/g,"<font color='blue'>$1</font>")).replace(/\b(if|else|function|null|this|var|true|false|return|for|while|in)\b/g,"<strong style='color:#A349A4'>$1</strong>"),l.length>1&&(l[0]="//",o="<font style='color:green'>"+l.join("")+"</font>")}this._setHtml(s,e+o,!1),i=null,s=null},_onselectstart:function(t){var e=t||window.event,i=e.target||e.srcElement,n=!1;return this.shiftKeyDown||(n="INPUT"==i.tagName||"TEXTAREA"==i.tagName),e.returnValue=n,n},refresh:function(){this._setHtml(this._codeTable,"",!1),""===this._list[0]&&this._list.splice(0,1);for(var t=this._list.length,e=0;e<t;e++)this._addRow(e+1,this._list[e]);this.thisWindow.style.width="100%",this.thisWindow.style.height="100%"},doResize:function(){this.thisWindow.style.width="100%",this.setHeight(this._codeTable.offsetHeight+2),this.thisWindow.style.width="100%"}}),_bindRenderFunc("qzzcodeview",e.ui.codeview),e.ui.codeview}),
/*!
 * 折叠视图控件.
 * ecp.qzz.ui.accordion.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.frame","qzz.treelist","qzz.icheckbox"],function(){var t=window.qzz;return t.space("ui"),t.ui.accordion=t.Class(t.ui.frame,{_create:function(){this.base(),this.className="accordion",this.logInfo("accordion.create"),this.treeList=new t.treelist,this.rowIndex=0,this.showCount=this._getNumberValue(this.getOption().showCount,6),this.topNode=null,this.topIndex=0,this.bottomNode=null,this._rowHeight=this._getNumberValue(this.getOption().rowHeight,17),this.scrollHeight=16,this.getOption().height=this._getNumberValue(this.getOption().height,this._rowHeight*this.showCount+this.scrollHeight),this.rendered=!1,this.autoHeight=this.getBooleanValue(this.getOption().autoHeight,!1);var e,i=this.getOption().data;if(this.treePidData=this.getBooleanValue(this.getOption().treePidData,!1),null==this.getOption().pidkey&&null==this.getOption().parentKeyId||(this.treePidData=!0),this.treeList.getOption().fullPath=this.getOption().fullPath,this.treeList.getOption().treeId=this.getOption().treeId||this.getOption().treekey,this.treeList.getOption().idkey=this.getOption().idkey||this.treeList.getOption().idkey,this.treeList.getOption().capkey=this.getOption().capkey||this.treeList.getOption().capkey,this.treePidData)this.treeList.setIDPID(this.getOption().treeId||this.getOption().idkey,this.getOption().parentKeyId||this.getOption().pidkey),this.treeList.initSort=!1;else{var n=this.getOption().treeId||this.getOption().treekey;null==n&&(n=this.treeList.getOption().idkey||"bm"),this.treeList.setItemCode(n)}if(this.isNotEmpty(i)){var s=this;this.treeList.setItemList(i,function(){s.setLeafOnly(!0===s.getOption().leafOnly)}),this.treeList.first(),this.topNode=this.treeList.getCurNode()}i=null,this.isNotEmpty(this.getOption().checkFlag)&&((e=this.getOption().checkFlag).indexOf("p")>=0&&(this.treeList.autoCheckType.autoCheckAllParent=!0),e.indexOf("s")>=0&&(this.treeList.autoCheckType.autoCheckAllChild=!0),e.indexOf("b")>=0&&(this.treeList.autoCheckType.autoCheckBrother=!0),e.indexOf("e")>=0&&(this.treeList.autoCheckType.autoCheckAllParentExt=!0)),this.isNotEmpty(this.getOption().unCheckFlag)&&((e=this.getOption().unCheckFlag).indexOf("p")>=0&&(this.treeList.autoCheckType.autoUnCheckAllParent=!0),e.indexOf("s")>=0&&(this.treeList.autoCheckType.autoUnCheckAllChild=!0),e.indexOf("b")>=0&&(this.treeList.autoCheckType.autoUnCheckBrother=!0),e.indexOf("e")>=0&&(this.treeList.autoCheckType.autoUnCheckAllParentExt=!0)),this.multiSelect=this.getBooleanValue(this.getOption().multiselect,this.getOption().multiSelect),this.isEmpty(this.multiSelect)&&(this.multiSelect=!1),this.treeList.multiSelect=this.multiSelect},_render:function(){this.base(),this.logInfo("accordion.render"),this.listTab=this.createElement("table"),this.setStyle(this.listTab,"component_ui_listview_list_table"),this.listTab.style.width="100%",this.listTab._this=this,this.listDiv.appendChild(this.listTab),this.isSelect=!0,this.maxWidth=0,this.refresh()},_onTreeCheckBoxClick:function(t){var e=this._this,i=this._cNode;if(i.checkState?e.treeList.setUnSelect(i):e.treeList.setSelect(i),"function"==typeof e.onCheckChanged)try{e.onCheckChanged(this._cNode,this._cNode.checkState)}catch(t){e.logError("[onCheckChanged] error:"+t.message+t.stack)}e.trigger("onSelectRow",[this._cNode,this._cNode.checkState]),e.trigger("onCheckChanged",[this._cNode,this._cNode.checkState]),e.refresh(),e=null},refreash:function(){this.refresh()},refresh:function(){if(!this._update)return!1;this.beginUpdate();var e=this.getHScrollHeight();this.autoHeight||(this.showCount=Math.round((this._getRectHeight()-e)/this._rowHeight)+1);var i,n,s,o=this.listTab.rows.length,l=this.treeList.getVisibleCount(),r=this.showCount<l?this.showCount:l,a=this.topNode;this.rowIndex=-1;var h=this.treeList.curNode;for(this.treeList.beginUpdate(),this.treeList.select(a),s=0;s<=r&&null!=a;s++){null==(n=this.listTab.rows[s])&&(n=this.listTab.insertRow(s)),i=n.cells[0];var c=a.index>=a.pNode.count-1;if(null==i)i=n.insertCell(0),nodeTable=this.createElement("table"),nodeTable.border=0,nodeTable.cellPadding=0,nodeTable.cellSpacing=0,i.nodeTable=nodeTable,i.nodeR=nodeTable.insertRow(0),i.nodeR.style.height=this._rowHeight+"px",i.pointTd=i.nodeR.insertCell(0),i.pointTd.style.width="16px",i.pointTd._this=this,i.pointDiv=this.createElement("div"),i.pointDiv.style.width="16px",i.pointDiv.style.height=this._rowHeight+"px",i.pointTd.appendChild(i.pointDiv),i.checkTd=i.nodeR.insertCell(1),i.checkTd.style.width="16px",i.checkBox=new t.ui.input.checkbox,i.checkBox._this=this,i.checkBox.bind("onClick",this._onTreeCheckBoxClick,!0),i.checkTd.appendChild(i.checkBox.getContainer()),i.textTd=i.nodeR.insertCell(2),i.textTd._this=this,i.appendChild(nodeTable);else for(var u=i.nodeR.cells.length;u>3;)i.nodeR.deleteCell(0),u--;var d=0;this.multiSelect?(i.checkTd.style.display="",i.checkBox.setCheck(a.checkState),i.checkBox._cNode=a,d=16,a.enable?i.checkBox.setDisable(!1):i.checkBox.setDisable(!0)):i.checkTd.style.display="none",i.textTd._node=a;var p;p=c?"_last":"_center",a.recNo==h.recNo?(this.focus?this.setStyle(i.textTd,"component_ui_treeview_td_over"):this.setStyle(i.textTd,"component_ui_treeview_td_nofocus_over"),this.rowIndex=s):this.setStyle(i.textTd,"component_ui_treeview_td"),i.style.paddingLeft="4px",a.count>0?(a.expanded?this.setStyle(i.pointDiv,"component_ui_treeview_node_expand"+p):this.setStyle(i.pointDiv,"component_ui_treeview_node_collapse"+p),i.pointTd.node=a,i.pointTd.onclick=function(){this.node.expanded?this.node.collapse():this.node.expand(),this._this.isSelect=!1,this._this.refresh()}):(this.setStyle(i.pointDiv,"component_ui_treeview_node"+p),i.pointTd.onclick=null),!1===a.enable&&this.addStyle(i.textTd,"component_ui_treeview_td_disable");for(var g=16*a.level+16+d,f=a.pNode,y=0;y<a.level;y++){var m=i.nodeR.insertCell(0);m.style.width="16px",f.index>=f.pNode.count-1?this.setStyle(m,"component_ui_treeview_box_last"):this.setStyle(m,"component_ui_treeview_box_center"),f=f.pNode}var v=a.text;this.hasbind("onItemDraw")&&(v=this.trigger("onItemDraw",[this.treeList,i.textTd,v])),this._setHtml(i.textTd,v);var C=this.getTextWidth(a.text+25);this.maxWidth<g+C&&(this.maxWidth=g+C),i.textTd.onclick=this.doSelect,a=this.treeList.next()?this.treeList.curNode:null}this.maxWidth>0&&(this.listTab.style.width=this.maxWidth+10+"px");for(var S=o-1;S>=s;S--)this.listTab.deleteRow(S);this.bottomNode=this.treeList.curNode,this.treeList.endUpdate(!1),this.treeList.select(h),o=null,this.showCount-1<l?(this.scrollBar.setScrollCount(l,this.showCount-1),this.setVScrollHide(!1)):(this.scrollBar.setScrollCount(0,0),this.setVScrollHide(!0)),this.rendered=!0,this.endUpdate()},doSelect:function(t){var e=this._this;if(e.isSelect){var i=this._node;e.treeList.curNode.recNo!=i.recNo&&(e.treeList.select(i),this.tmpClassName="",e.refresh()),"function"==typeof e.onSelect&&!0===e.treeList.isEnableCheck()&&e.onSelect(e.treeList.curNode)}e.isSelect=!0},doScroll:function(t,e){if(0!==e){var i=this;i.topIndex=t,i.treeList.beginUpdate();var n=i.treeList.curNode;if(i.treeList.select(i.topNode),e>0)for(var s=0;s<e;s++)i.treeList.next();else for(s=0;s>e;s--)i.treeList.prior();i.topNode=i.treeList.curNode,i.treeList.select(n),n=null,i.treeList.endUpdate(),i.refresh(),i=null}},doMouseWheel:function(t){this.base();var e=t,i=this;return(e.wheelDelta?e.wheelDelta:-1*e.detail)>0?i.scrollBar.scrollPrior():i.scrollBar.scrollNext(),i=null,e.returnValue=!1,e=null,!1},doKeyDown:function(t,e){e==this.keyBoard.UP?this.prior():e==this.keyBoard.DOWN&&this.next(),e=null,_this=null},addFilterText:function(t,e,i){this.treeList.addFilterText(t,e,i)},clearFilterText:function(t){this.treeList.clearFilterText(t)},setFiltered:function(t,e){this.treeList.setFiltered(t,e)},isFiltered:function(){return this.treeList.filtered},doKeyUp:function(t,e){if(e==this.keyBoard.ENTER&&"function"==typeof this.onSelect){var i=this.treeList.getCurNode();null!=i&&this.onSelect(i),i=null,this.logInfo("key up")}},first:function(){this.treeList.first(),this.topNode=this.treeList.getCurNode(),this.topNode.level>=0&&(this.topNode.scrIndex=1),this.beginUpdate(),this.scrollBar.setScrollIndex(0),this.endUpdate(!1),this.refresh()},prior:function(){this.treeList.prior(),this._scrollToFocus()},next:function(){this.treeList.next(),this._scrollToFocus()},last:function(){this.treeList.last(),this._scrollToFocus()},addNode:function(e,i,n){return e instanceof t.treenode?this.treeList.addNode(e,i,n):"string"==typeof e?((s=new t.treenode).text=e,this.treeList.addNode(s)):"object"==typeof e?((s=new t.treenode).text=e.text,s.id=e.id,this.treeList.addNode(s)):void 0;var s},insertNode:function(e,i,n,s){return i instanceof t.treenode?this.treeList.insertNode(e,i,n,s):"string"==typeof i?((o=new t.treenode).text=i,this.treeList.insertNode(e,o)):"object"==typeof i?((o=new t.treenode).text=i.text,o.id=i.id,this.treeList.insertNode(e,o)):void 0;var o},delNode:function(t,e){return this.treeList.delNode(t,e)},setLeafOnly:function(t,e){this.treeList.each(function(e){e.count>0&&(e.enable=!0!==t)},e)},value:function(t,e){this.setItemList(t,e)},setItemList:function(t,e){var i=this;this.topNode=null,this.treeList.setItemList(t,function(){i.setLeafOnly(!0===i.getOption().leafOnly,function(){null!=i.topNode&&i.refresh(),"function"==typeof e&&e(),i=null})}),this.treeList.first(),this.topNode=this.treeList.curNode,this.topCount=0,this.maxWidth=0,this.refresh()},setItemCode:function(t){this.treeList.setItemCode(t)},setIDPID:function(t,e){this.treeList.setIDPID(t,e)},_doResize:function(t){this.base(t),this.rendered&&this._update&&(this.refresh(),this.autoHeight&&(null==this.showCount&&(this.showCount=0),this.getOption().height=this._rowHeight*this.showCount+this.scrollHeight))},doBlur:function(){this.base(),this.refresh()},doFocus:function(){this.base(),this.refresh()},getCurNode:function(){return this.treeList.getCurNode()},setMultiSelect:function(t){this.getOption().multiselect=t,this.multiSelect=t},getSelectedData:function(){if(this.multiSelect){this.treeList.getCurNode(),this.treeList.first();for(var t=[];!this.treeList.isEof();)this.treeList.isSelected()&&t.push(this.getCurNode().data),this.treeList.next(!0);return t}return this.treeList.getCurNode().data},setSelectById:function(t,e){this.treeList.setSelectById(t,e)},setSelectByText:function(t,e){this.treeList.setSelectByText(t,e)},indexOfText:function(t){return this.treeList.indexOfText(t)},locate:function(t){return!!this.treeList.locate(t)&&(this._scrollToFocus(),!0)},getDisplay:function(t){return this.treeList.getDisplay(t)},getValue:function(t){return this.treeList.getValue(t)},getAllCount:function(){return this.treeList.getAllCount()},unCheckAll:function(t){this.treeList.unCheckAll(t)},checkAll:function(t){this.treeList.checkAll(t)},getScrollIndex:function(){return null!=this.topNode?this.topNode.scrIndex:1},scrollToIndex:function(t){if(t>1){t>this.getAllCount()&&(t=this.getAllCount());var e=!0;if(t>1){this.treeList.beginUpdate();var i=this.treeList.getCurNode(),n=0;if(this.treeList.select(this.topNode),t>this.topNode.scrIndex)for(;!this.treeList.isEof()&&t!=this.treeList.getIndex();){if(t<this.treeList.getIndex()){e=!1;break}n++,this.treeList.next()}else for(;!this.treeList.isBof()&&t!=this.treeList.getIndex();){if(t>this.treeList.getIndex()){e=!1;break}n--,this.treeList.prior()}this.treeList.select(i),this.treeList.endUpdate(!1),!0===e&&this.scrollBar.setScrollIndex(this.scrollBar.scrollIndex+n),this.refresh()}else this.first()}else this.first()},_scrollToFocus:function(){if(this.treeList.curNode.scrIndex<this.topNode.scrIndex){var t=this.scrollBar.scrollIndex,e=this.treeList.curNode;for(this.treeList.curNode=this.topNode;this.treeList.curNode.recNo!=e.recNo&&!this.treeList.isBof();)this.treeList.prior(),this.treeList.isBof()||t--;this.scrollBar.setScrollIndex(t)}else if(!this.treeList.isEof()&&this.treeList.curNode.scrIndex>=this.bottomNode.scrIndex){for(t=this.scrollBar.scrollIndex,e=this.treeList.curNode,this.treeList.curNode=this.bottomNode;this.treeList.curNode.recNo!=e.recNo&&!this.treeList.isEof();)this.treeList.next(),this.treeList.isEof()||t++;this.scrollBar.setScrollIndex(t+1)}this.refresh()}}),_bindRenderFunc("qzzaccordion",t.ui.accordion),t.ui.accordion}),
/*!
 * 公式视图控件.
 * ecp.qzz.ui.treeview.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.frame","qzz.treelist","qzz.inumber"],function(){var t=window.qzz;return t.space("ui"),t.ui.expressview=t.Class(t.ui.panel,{_create:function(){this.base(),this.className="expressview",this.logInfo("expressview.create"),this.treeList=new t.treelist,this.rowIndex=0,this.showCount=this._getNumberValue(this.getOption().showCount,6),this.topNode=null,this.topIndex=0,this.bottomNode=null,this._rowHeight=this._getNumberValue(this.getOption().rowHeight,17),this.scrollHeight=16,this.getOption().height=this._getNumberValue(this.getOption().height,this._rowHeight*this.showCount+this.scrollHeight),this.rendered=!1,this.autoHeight=this.getBooleanValue(this.getOption().autoHeight,!1);var e,i=this.getOption().data;if(this.treePidData=this.getBooleanValue(this.getOption().treePidData,!1),null==this.getOption().pidkey&&null==this.getOption().parentKeyId||(this.treePidData=!0),this.treeList.getOption().fullPath=this.getOption().fullPath,this.treeList.getOption().treeId=this.getOption().treeId||this.getOption().treekey,this.treeList.getOption().idkey=this.getOption().idkey||this.treeList.getOption().idkey,this.treeList.getOption().capkey=this.getOption().capkey||this.treeList.getOption().capkey,this.treeList.getOption().initSort=this.getBooleanValue(this.getOption().initSort,!1),this.treePidData)this.treeList.setIDPID(this.getOption().treeId||this.getOption().idkey,this.getOption().parentKeyId||this.getOption().pidkey),this.treeList.initSort=!1;else{var n=this.getOption().treeId||this.getOption().treekey;null==n&&(n=this.treeList.getOption().idkey||"bm"),this.treeList.setItemCode(n)}if(this.isNotEmpty(i)){var s=this;this.treeList.setItemList(i,function(){s.setLeafOnly(!0===s.getOption().leafOnly)}),this.treeList.first(),this.topNode=this.treeList.getCurNode()}i=null,this.isNotEmpty(this.getOption().checkFlag)&&((e=this.getOption().checkFlag).indexOf("p")>=0&&(this.treeList.autoCheckType.autoCheckAllParent=!0),e.indexOf("s")>=0&&(this.treeList.autoCheckType.autoCheckAllChild=!0),e.indexOf("b")>=0&&(this.treeList.autoCheckType.autoCheckBrother=!0),e.indexOf("e")>=0&&(this.treeList.autoCheckType.autoCheckAllParentExt=!0)),this.isNotEmpty(this.getOption().unCheckFlag)&&((e=this.getOption().unCheckFlag).indexOf("p")>=0&&(this.treeList.autoCheckType.autoUnCheckAllParent=!0),e.indexOf("s")>=0&&(this.treeList.autoCheckType.autoUnCheckAllChild=!0),e.indexOf("b")>=0&&(this.treeList.autoCheckType.autoUnCheckBrother=!0),e.indexOf("e")>=0&&(this.treeList.autoCheckType.autoUnCheckAllParentExt=!0)),this.multiSelect=this.getBooleanValue(this.getOption().multiselect,this.getOption().multiSelect),this.isEmpty(this.multiSelect)&&(this.multiSelect=!1),this.treeList.multiSelect=this.multiSelect,this.getOption().elenames=this.getOption().elenames||["+","-","*","/","&gt;","&gt;=","&lt;","&lt;=","=","&lt;&gt;","(",")","abs","sum","并且","或者","为空","非空","包含","不含","如果","否则","就"],this.getOption().eleids=this.getOption().eleids||["+","-","*","/",">",">=","<","<=","=","<>","(",")","abs","sum","&&","||","==null","<>null","包含","不含","if","else","then"]},_render:function(){this.base(),this.logInfo("expressview.render"),this.addStyle(this.thisWindow,"hideborder"),this.expressBox=this.createElement("DIV"),this.thisWindow.appendChild(this.expressBox),this.setStyle(this.expressBox,"express_box"),this.expressBtn=this.createElement("div"),this.setStyle(this.expressBtn,"express_btn"),this.thisWindow.appendChild(this.expressBtn),this.eleBox=this.createElement("DIV"),this.thisWindow.appendChild(this.eleBox),this.setStyle(this.eleBox,"express_ele_box"),this.calcBox=this.createElement("div"),this.setStyle(this.calcBox,"calc_box"),this.eleBox.appendChild(this.calcBox);for(var e=0,i=this.getOption().elenames.length;e<i;e++){var n=this.getOption().elenames[e],s=this.getOption().eleids[e],o=this.createElement("div");this.calcBox.appendChild(o),o.innerHTML=n,o._id=s,this.setStyle(o,"express_ele"),o._this=this,o.onmouseup=function(t){var e=this._this,i=this.innerHTML,n=this._id;"abs"!=i&&"sum"!=i||(i+="(",n+="("),e._addElement({id:n,text:i}),e.selectElement=!0}}this.commonBox=this.createElement("DIV"),this.setStyle(this.commonBox,"common_box"),this.eleBox.appendChild(this.commonBox),this.inputLabel=this.createElement("span"),this.inputLabel.innerHTML="",this.commonBox.appendChild(this.inputLabel),this.commonInput=new t.ui.input.number({width:100,height:26,placeholder:"请输入数值"}),this.commonInput.setParent(this.commonBox),this.commonInput.getContainer().style.display="inline-block";var l=this;this.commonBtn=this._addBtn({caption:"添加数值",width:80,height:26,marginLeft:10},function(){var t=l.commonInput.getValue();(""!==t&&null!=t||0===t)&&l._addElement({id:t,text:l.commonInput.getText()})});var r=(this.getHeight()-120)/2-60;this.delBtn=this._addBtn({caption:"删除",width:40,height:26,marginLeft:4,marginTop:r},function(){l.delNode()},this.expressBtn),this.clearBtn=this._addBtn({caption:"全清",width:40,height:26,marginLeft:4,marginTop:4},function(){l.value([])},this.expressBtn),this.movePrior=this._addBtn({caption:"&lt;&lt;",width:40,height:26,marginLeft:4,marginTop:4},function(){l.treeList.moveNode(-1),l.refresh()},this.expressBtn),this.movePrior=this._addBtn({caption:"&gt;&gt;",width:40,height:26,marginLeft:4,marginTop:4},function(){l.treeList.moveNode(1),l.refresh()},this.expressBtn),this._asynRun(function(){this.refresh()},200)},_addBtn:function(e,i,n){null==n&&(n=this.commonBox);var s=new t.ui.button(e);s.setParent(n),s.getContainer().style.display="inline-block",s.getContainer().style.verticalAlign="middle";var o=this;return s.bind("onClick",function(){"function"==typeof i&&i.apply(o),o.selectElement=!0}),s},_onTreeCheckBoxClick:function(t){var e=this._this,i=this._cNode;if(i.checkState?e.treeList.setUnSelect(i):e.treeList.setSelect(i),"function"==typeof e.onCheckChanged)try{e.onCheckChanged(this._cNode,this._cNode.checkState)}catch(t){e.logError("[onCheckChanged] error:"+t.message+t.stack)}e.trigger("onSelectRow",[this._cNode,this._cNode.checkState]),e.trigger("onCheckChanged",[this._cNode,this._cNode.checkState]),e.refresh(),e=null},refresh:function(){if(!this._update)return!1;this.beginUpdate(),this.treeList.length();var t=this;this.expressBox.innerHTML="";var e=this.treeList.getCurNode();this.treeList.first();var i="";this.treeList.each(function(n){var s=t.createElement("div");t.expressBox.appendChild(s);var o=this.getText(n);s.innerHTML=o,s._node=n,t.setStyle(s,"express_object"),n.recNo==e.recNo&&(i=o,t.addStyle(s,"express_select")),n._dom=s,s._this=t,s.onmouseup=t.doSelect},function(){t.treeList.select(e),t.rendered=!0,t.endUpdate(!1),(")"==i||"string"==typeof i&&i.indexOf("(")>=0||"["==i||"]"==i)&&t._heightLight(i)});var n=this.getHeight()-this.eleBox.offsetHeight;0==this.eleBox.offsetHeight&&(n-=116),this.expressBox.style.height=n+"px",this.expressBox.style.width=this.getWidth()-50+"px",this.expressBtn.style.height=n+"px",this.rendered=!0,this.endUpdate(!1)},_findNext:function(t,e){this.treeList.beginUpdate();for(var i=this.treeList.getCurNode(),n=-1;!this.treeList.isEof();){var s=this.treeList.getText();if(s==e){if(0==n){var o=this.treeList.getCurNode()._dom;this.addStyle(o,"express_light");break}n--}else"string"==typeof t&&t.indexOf(s)>=0&&n++;this.treeList.next()}this.treeList.select(i),this.treeList.endUpdate(!1)},_findPrior:function(t,e){this.treeList.beginUpdate();for(var i=this.treeList.getCurNode(),n=-1;!this.treeList.isBof();){var s=this.treeList.getText();if("string"==typeof s&&s.indexOf(e)>=0){if(0==n){var o=this.treeList.getCurNode()._dom;this.addStyle(o,"express_light");break}n--}else s==t&&n++;this.treeList.prior()}this.treeList.select(i),this.treeList.endUpdate(!1)},_heightLight:function(t){")"==t?this._findPrior(")","("):"]"==t?this._findPrior("]","["):"string"==typeof t&&t.indexOf("(")>=0?this._findNext(t,")"):"["==t&&this._findNext("[","]")},doSelect:function(t){var e=this._this,i=this._node;e.treeList.curNode.recNo!=i.recNo&&(e.treeList.select(i),this.tmpClassName="",e.refresh()),"function"==typeof e.onSelect&&!0===e.treeList.isEnableCheck()&&e.onSelect(e.treeList.curNode),e.isSelect=!0},doScroll:function(t,e){if(0!==e){var i=this;i.topIndex=t,i.treeList.beginUpdate();var n=i.treeList.curNode;if(i.treeList.select(i.topNode),e>0)for(var s=0;s<e;s++)i.treeList.next();else for(s=0;s>e;s--)i.treeList.prior();i.topNode=i.treeList.curNode,i.treeList.select(n),n=null,i.treeList.endUpdate(),i.refresh(),i=null}},doMouseUp:function(){!0!==this.isSelect&&!0===this.hasSelect&&(1==this.selectElement||this.commonInput.isFocus()||this.treeList.select(this.treeList.rootNode),this.refresh()),this.isSelect=!1,this.selectElement=!1},doKeyDown:function(t,e){e==this.keyBoard.UP?this.prior():e==this.keyBoard.DOWN&&this.next(),e=null,_this=null},addFilterText:function(t,e,i){this.treeList.addFilterText(t,e,i)},clearFilterText:function(t){this.treeList.clearFilterText(t)},setFiltered:function(t,e){this.treeList.setFiltered(t,e)},isFiltered:function(){return this.treeList.filtered},first:function(){this.treeList.first(),this.topNode=this.treeList.getCurNode(),this.topNode.level>=0&&(this.topNode.scrIndex=1),this.beginUpdate(),this.scrollBar.setScrollIndex(0),this.endUpdate(!1),this.refresh()},prior:function(){this.treeList.prior(),this._scrollToFocus()},next:function(){this.treeList.next(),this._scrollToFocus()},last:function(){this.treeList.last(),this._scrollToFocus()},addNode:function(e,i,n){return e instanceof t.treenode?this.treeList.addNode(e,i,n):"object"==typeof e?((s=new t.treenode).text=e.text,s.id=e.id,this.treeList.addNode(s)):((s=new t.treenode).text=e,this.treeList.addNode(s));var s},insertNode:function(e,i,n,s){return i instanceof t.treenode?this.treeList.insertNode(e,i,n,s):"object"==typeof i?((o=new t.treenode).text=i.text,o.id=i.id,this.treeList.insertNode(e,o,n)):((o=new t.treenode).text=i,this.treeList.insertNode(e,o,n));var o},delNode:function(t,e){var i=this.treeList.delNode(t,e);return this.treeList.getIndex()>1&&this.treeList.next(),i},addElement:function(t,e){this._addElement({id:t,text:e})},_addElement:function(t){var e=this.treeList.getCurNode();this.treeList.getLevel()<0?this.addNode(t):this.insertNode(this.treeList.getIndex()-1,t,this.treeList.rootNode),this.treeList.select(e),this.refresh()},setLeafOnly:function(t,e){this.treeList.each(function(e){e.count>0&&(e.enable=!0!==t)},e)},value:function(t,e){this.setItemList(t,e)},setItemList:function(t,e){var i=this;this.topNode=null,this.treeList.setItemList(t,function(){i.setLeafOnly(!0===i.getOption().leafOnly,function(){null!=i.topNode&&i.refresh(),"function"==typeof e&&e(),i=null})}),this.treeList.first(),this.topNode=this.treeList.curNode,this.topCount=0,this.maxWidth=0,this.refresh()},setItemCode:function(t){this.treeList.setItemCode(t)},setIDPID:function(t,e){this.treeList.setIDPID(t,e)},_doResize:function(t){this.base(t),this.rendered&&this._update&&(this.refresh(),this.autoHeight&&(null==this.showCount&&(this.showCount=0),this.getOption().height=this._rowHeight*this.showCount+this.scrollHeight))},doBlur:function(){this.base(),this.refresh()},doFocus:function(){this.base(),this.refresh()},getCurNode:function(){return this.treeList.getCurNode()},setMultiSelect:function(t){this.getOption().multiselect=t,this.multiSelect=t},getSelectedData:function(){if(this.multiSelect){this.treeList.getCurNode(),this.treeList.first();for(var t=[];!this.treeList.isEof();)this.treeList.isSelected()&&t.push(this.getCurNode().data),this.treeList.next(!0);return t}return this.treeList.getCurNode().data},setSelectById:function(t,e){this.treeList.setSelectById(t,e)},setSelectByText:function(t,e){this.treeList.setSelectByText(t,e)},indexOfText:function(t){return this.treeList.indexOfText(t)},locate:function(t){return!!this.treeList.locate(t)&&(this._scrollToFocus(),!0)},getDisplay:function(t){return this.treeList.getDisplay(t)},getValue:function(t){return this.treeList.getValue(t)},getAllCount:function(){return this.treeList.getAllCount()},unCheckAll:function(t){this.treeList.unCheckAll(t)},checkAll:function(t){this.treeList.checkAll(t)},getScrollIndex:function(){return null!=this.topNode?this.topNode.scrIndex:1},scrollToIndex:function(t){if(t>1){t>this.getAllCount()&&(t=this.getAllCount());var e=!0;if(t>1){this.treeList.beginUpdate();var i=this.treeList.getCurNode(),n=0;if(this.treeList.select(this.topNode),t>this.topNode.scrIndex)for(;!this.treeList.isEof()&&t!=this.treeList.getIndex();){if(t<this.treeList.getIndex()){e=!1;break}n++,this.treeList.next()}else for(;!this.treeList.isBof()&&t!=this.treeList.getIndex();){if(t>this.treeList.getIndex()){e=!1;break}n--,this.treeList.prior()}this.treeList.select(i),this.treeList.endUpdate(!1),!0===e&&this.scrollBar.setScrollIndex(this.scrollBar.scrollIndex+n),this.refresh()}else this.first()}else this.first()},_scrollToFocus:function(){if(this.treeList.curNode.scrIndex<this.topNode.scrIndex){var t=this.scrollBar.scrollIndex,e=this.treeList.curNode;for(this.treeList.curNode=this.topNode;this.treeList.curNode.recNo!=e.recNo&&!this.treeList.isBof();)this.treeList.prior(),this.treeList.isBof()||t--;this.scrollBar.setScrollIndex(t)}else if(!this.treeList.isEof()&&this.treeList.curNode.scrIndex>=this.bottomNode.scrIndex){for(t=this.scrollBar.scrollIndex,e=this.treeList.curNode,this.treeList.curNode=this.bottomNode;this.treeList.curNode.recNo!=e.recNo&&!this.treeList.isEof();)this.treeList.next(),this.treeList.isEof()||t++;this.scrollBar.setScrollIndex(t+1)}this.refresh()},getExpression:function(t){null==t&&(t=" "),this.treeList.beginUpdate();var e=this.treeList.getCurNode();this.treeList.first();for(var i=[];!this.treeList.isEof();)i.push(this.treeList.getValue()),this.treeList.next();return this.treeList.select(e),this.treeList.endUpdate(!1),i.join(t)},getExpDisplay:function(t){null==t&&(t=" "),this.treeList.beginUpdate();var e=this.treeList.getCurNode();this.treeList.first();for(var i=[];!this.treeList.isEof();)i.push(this.treeList.getText()),this.treeList.next();return this.treeList.select(e),this.treeList.endUpdate(!1),i.join(t)},decode:function(t,e){null==e&&(e=" ");for(var i=t.expression.split(e),n=t.display.split(e),s=[],o=0,l=i.length;o<l;o++){var r={};r[this.getOption().idkey]=i[o],r[this.getOption().capkey]=n[o],s.push(r)}this.value(s),this.refresh()},validate:function(){return!0},setElement:function(t,e){}}),_bindRenderFunc("qzzexpressview",t.ui.expressview),t.ui.expressview}),
/*!
 * 面板控件.
 * ecp.qzz.ui.button.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.window","qzz.button"],function(){var t=window.qzz;return t.space("ui"),t.ui.toolbutton=t.Class(t.ui.window,{_create:function(){this.base(),this.className="toolButton",this.getOption().column=this.getNumberValue(this.getOption().column,5),this.getOption().buttonList=this.getOption().buttonList||[],this.getOption().height=this.getNumberValue(this.getOption().height,20),this.getOption().buttonHeight=this.getNumberValue(this.getOption().buttonHeight,this.getOption().height),this.getOption().buttonWidth=this.getNumberValue(this.getOption().buttonWidth,this.getOption().buttonHeight),this.getOption().borderWidth=this.getNumberValue(this.getOption().borderWidth,0),this.getOption().space=this.getNumberValue(this.getOption().space,0),this._buttons={}},_render:function(){this.control&&"INPUT"===this.control.tagName&&this._replaceToDiv(),this.base(),null!=this.thisWindow.parentNode&&""!==this.thisWindow.parentNode.style.position&&(this.thisWindow.style.position="absolute"),this.thisWindow.style.borderWidth="0px",this._cTable=this.createElement("TABLE"),this._cTable.insertRow(0),this.thisWindow.appendChild(this._cTable),this.refresh()},setItemList:function(t){this.clearButton(),this.getOption().buttonList=t,this.refresh()},clearButton:function(){for(var t in this._buttons)this._buttons[t].destroy();this._buttons={};for(var e=this._cTable.rows.length-1;e>=0;e--){for(var i=this._cTable.rows[e],n=i.cells.length-1;n>=0;n--)i.deleteCell(n);this._cTable.deleteRow(e)}this._cTable.insertRow(0)},refresh:function(){var e=0,i=0,n=0,s=0,o=0,l=this.getOption().buttonList.length,r=this.getOption().buttonHeight||this.getOption().height,a=0;this._buttons={};for(var h=null;e<l;){if(e%this.getOption().column==0){if(i>0&&this.getOption().space>0){if(null==(h=this._cTable.rows[i])&&(h=this._cTable.insertRow(i)),i>0)for(var c=0;c<this.getOption().column;c++)null==h.cells[c]&&h.insertCell(c);h.style.height=this.getOption().space+"px",a+=this.getOption().space,i++}if(null==(h=this._cTable.rows[i])&&(h=this._cTable.insertRow(i)),i>0)for(c=0;c<this.getOption().column;c++)null==h.cells[c]&&h.insertCell(c);s<o&&(s=o),a+=r+1,o=0,n=0,i++}n>0&&this.getOption().space>0&&(null==(u=h.cells[n])&&(u=h.insertCell(n)),u.style.width=this.getOption().space+"px",o+=this.getOption().space,n++);var u=h.cells[n];null==u&&(u=h.insertCell(n)),n++;var d=this.getOption().buttonList[e];null==u._btn&&(u._btn=new t.ui.button(null,{width:this.getOption().buttonWidth,height:this.getOption().buttonHeight,borderWidth:this.getNumberValue(d.borderWidth,this.getOption().borderWidth),style:this.getOption().style||"V"}));var p=u._btn;p.setParent(u),p.setName(d.name),this._buttons[d.name]=p,null!=d.caption&&(p.getOption().caption=d.caption),null!=d.icon&&p.setIcon(d.icon),null!=d.hint&&(p.getOption().hint=d.hint);var g=this;p.bind("onClick",function(){this.isenable()&&(g.trigger("on"+this.getName(),[this]),g.trigger("onButtonClick",[this]))}),null!=d.width?(p.setWidth(d.width),o+=d.width):o+=this.getOption().buttonWidth,null!=d.common&&(p.clearStyle(),p.addStyle(d.common)),p.refresh(),e++}s<o&&(s=o),this.setWidth(s),this.setHeight(a),this.trigger("onItemDraw",[this])},enable:function(t){if(null!=t){var e=this._buttons[t];null!=e&&e.enable()}else this.base()},disable:function(t){if(null!=t){var e=this._buttons[t];null!=e&&e.disable()}else this.base()},isenable:function(t){if(null!=t){var e=this._buttons[t];return null==e||e.isenable()}return this.base()},getButton:function(t){return this._buttons.null}}),_bindRenderFunc("qzztoolbutton",t.ui.toolbutton),t.ui.toolbutton}),
/*!
 * 分页.
 * ecp.qzz.ui.paged.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.icombobox","qzz.window"],function(){var t=window.qzz;return t.space("ui"),t.ui.paged=t.Class(t.ui.window,{_create:function(){this.getOption().width=this.getOption().width||620,this.getOption().height=this._getNumberValue(this.getOption().height,25),this.base(),this.getOption().pageSize=this._getNumberValue(this.getOption().pageSize,10),this.getOption().minPager=this.getBooleanValue(this.getOption().minPager,!1),this.getOption().pageIndex=this._getNumberValue(this.getOption().pageIndex,1),this.getOption().border=this._getNumberValue(this.getOption().border,0),null==this.getOption().pageSizeList&&(this.getOption().pageSizeList=[10,25,50,100,200]),this._totalCount=this._getNumberValue(this.getOption().totalCount,0),this._pageCount=parseInt(this._totalCount/this.getOption().pageSize,10),this._totalCount/this.getOption().pageSize-this._pageCount>0&&this._pageCount++,this._priorPage={pageSize:10,pageIndex:1}},_render:function(){this.base(),this._pageTab=this.createElement("TABLE"),this.thisWindow.appendChild(this._pageTab),this._pageTab.style.marginLeft="auto",this.setStyle(this._pageTab,"pagerTable");var e=this._pageTab.insertRow(0),i=0,n=e.insertCell(i++);n.setAttribute("id","common_td"),this._setHtml(n,this.getI18n("qzz.recordCount","共{0}条，").replace("{0}",this._totalCount),!1),this.totalCountTd=n,this.totalCountTd.style.textAlign="right",(n=e.insertCell(i++)).setAttribute("id","common_td"),this._setHtml(n,this.getI18n("qzz.filterCount","当前页筛选出{0}条，").replace("{0}",this._filterCount||"0"),!1),n.style.textAlign="right",this.filterCountTd=n,(n=e.insertCell(i++)).setAttribute("id","common_td"),n.style.width="165px",this._pageSizeTd=n,this._pageSizeTab=this.createElement("TABLE"),this.setStyle(this._pageSizeTab,"pagerTable"),n.appendChild(this._pageSizeTab);var s=0,o=this._pageSizeTab.insertRow(0),l=o.insertCell(s++);this._setHtml(l,this.getI18n("qzz.pershow","每页显示")+"&nbsp;",!1),this._pageSizeListTd=o.insertCell(s++),this._pageSizeListTd.setAttribute("id","common_td"),this._pageSizeListTd.style.width="56px",this.pageSizeList=new t.ui.input.combobox(null,{fontSize:12,data:this.getOption().pageSizeList,width:55,height:24,disInput:!0,canClear:!1}),this.pageSizeList.setParent(this._pageSizeListTd),this.pageSizeList.setValue(this.getOption().pageSize),this.pageSizeList.setReadOnly(!0);var r=this;this.pageSizeList.bind("onSelect",function(t,e){r.setPageSize(e.text)}),(l=o.insertCell(s++)).setAttribute("id","common_td"),this._setHtml(l,"&nbsp;"+this.getI18n("qzz.percount","条记录"),!1),(n=e.insertCell(i++)).setAttribute("id","common_td"),n.style.width="1px";var a=e.insertCell(i++);a.setAttribute("id","common_td"),this._indexTab=this.createElement("TABLE"),a.appendChild(this._indexTab),this.setStyle(this._indexTab,"page_index_table"),this._refreshIndex()},setPageSize:function(t){if(this._priorPage.pageSize=this.getOption().pageSize,this._priorPage.pageIndex=this.getOption().pageIndex,t===this.getI18n("qzz.all","全部"))this._pageCount=1,this.getOption().pageSize=t;else{this.getOption().pageSize=parseInt(t,10);var e=this._totalCount/this.getOption().pageSize;this._pageCount=parseInt(e,10),e-this._pageCount>0&&this._pageCount++}this.pageSizeList.setValue(this.getOption().pageSize),this.getOption().pageIndex=1,this._refreshIndex()},setPageIndex:function(t,e){t>0&&t<=this._pageCount&&(this._priorPage.pageIndex=this.getOption().pageIndex),this.getOption().pageIndex=t,this._priorPage.pageIndex==t&&0==this.getOption().fireAllEvent||this._refreshIndex(!1!==e)},nextPage:function(){this.getOption().pageIndex<this._pageCount&&(this._priorPage.pageIndex=this.getOption().pageIndex,this.getOption().pageIndex++,this._refreshIndex())},getPageIndex:function(){return this.getOption().pageIndex},getPageCount:function(){return this._pageCount||1},getPageSize:function(){return this.getOption().pageSize},priorPage:function(){this.getOption().pageIndex>1&&(this._priorPage.pageIndex=this.getOption().pageIndex,this.getOption().pageIndex--,this._refreshIndex())},lastPage:function(){this.getOption().pageIndex<this._pageCount&&(this._priorPage.pageIndex=this.getOption().pageIndex,this.getOption().pageIndex=this._pageCount,this._refreshIndex())},firstPage:function(t){(!0===t||this.getOption().pageIndex>1)&&(this._priorPage.pageIndex=this.getOption().pageIndex,this.getOption().pageIndex=1,this._refreshIndex(t))},reWidth:function(t){t>1&&(this.setWidth(t),this._refreshIndex())},_refreshIndex:function(t){for(;this._indexTab.rows.length>0;)this._indexTab.deleteRow(0);null!=this._filterCount&&!0===this.getOption().filterCount&&!0!==this.getOption().minPager?(this.filterCountTd.style.display="",this._setHtml(this.filterCountTd,this.getI18n("qzz.filterCount","当前页筛选出{0}条，").replace("{0}",this._filterCount),!1)):this.filterCountTd.style.display="none",this._setHtml(this.totalCountTd,this.getI18n("qzz.recordCount","共{0}条，").replace("{0}",this._totalCount),!1);var e=this._indexTab.insertRow(0),i=0,n=e.insertCell(i++),s=this;this._setHtml(n,"&lt;&lt;",!1),1==this.getOption().pageIndex?this.setStyle(n,"page_index_cell_disabled"):(this.setStyle(n,"page_index_cell"),n.onclick=function(){s.firstPage()}),n=e.insertCell(i++),this._setHtml(n,"&lt;",!1),1==this.getOption().pageIndex?this.setStyle(n,"page_index_cell_disabled"):(this.setStyle(n,"page_index_cell"),n.onclick=function(){s.priorPage()});var o=this.getOption().pageIndex-1;o<1&&(o=1);var l=o+2;l>this._pageCount&&(l=this._pageCount),!0!==this.getOption().minPager&&o>this._pageCount-4&&(o=this._pageCount-4)<1&&(o=1),l<o&&1==o&&(l=1);for(var r=o;r<=l;r++)n=e.insertCell(i++),r===this.getOption().pageIndex?this.setStyle(n,"page_index_cell active"):this.setStyle(n,"page_index_cell"),this._setHtml(n,r,!1),n.onclick=function(){s.setPageIndex(parseInt(this.innerHTML,10))};if(!0!==this.getOption().minPager&&(this._pageCount==l+2?(n=e.insertCell(i++),l+1===this.getOption().pageIndex?this.setStyle(n,"page_index_cell active"):this.setStyle(n,"page_index_cell"),this._setHtml(n,l+1,!1),n.onclick=function(){s.setPageIndex(parseInt(this.innerHTML,10))}):this._pageCount>l+2&&(n=e.insertCell(i++),this.setStyle(n,"three_point"),this._setHtml(n,"...",!1),n.onclick=function(){s.setPageIndex(s.getOption().pageIndex+3)}),this._pageCount>=l+1&&(n=e.insertCell(i++),this._pageCount===this.getOption().pageIndex?this.setStyle(n,"page_index_cell active"):this.setStyle(n,"page_index_cell"),this._setHtml(n,this._pageCount,!1),n.onclick=function(){s.setPageIndex(parseInt(this.innerHTML,10))})),n=e.insertCell(i++),this._setHtml(n,"&gt;",!1),this.getOption().pageIndex>=this._pageCount?this.setStyle(n,"page_index_cell_disabled"):(this.setStyle(n,"page_index_cell"),n.onclick=function(){s.nextPage()}),n=e.insertCell(i++),this._setHtml(n,"&gt;&gt;",!1),this.getOption().pageIndex>=this._pageCount?this.setStyle(n,"page_index_cell_disabled"):(this.setStyle(n,"page_index_cell"),n.onclick=function(){s.lastPage()}),this._indexTab.style.maxWidth=40*i+"px",this.hasbind("onPageChanged")&&!1!==t){var a=this.getOption().pageSize;a===this.getI18n("qzz.all","全部")&&(a=this._totalCount),this.trigger("onPageChanged",[this._pageCount,a,this.getOption().pageIndex])}!0===this.getOption().minPager?(this._pageSizeTd.style.display="none",this._indexTab.parentElement.style.minWidth=""):(this._pageSizeTd.style.display="",this._indexTab.parentElement.style.minWidth=this._indexTab.style.maxWidth),this.thisWindow.style.marginLeft="auto"},setFilterCount:function(t){this._filterCount=t,this._refreshIndex(!1)},clearFilterCount:function(){this._filterCount=null,this._refreshIndex(!1)},setTotalCount:function(t,e,i){t=parseInt(t,10),this._totalCount=t,this.getOption().pageSize===this.getI18n("qzz.all","全部")?this._pageCount=1:(null==i&&(i=this.getOption().pageSize),i>this.getOption().pageSize&&(t-=i-this.getOption().pageSize),this._pageCount=parseInt(t/this.getOption().pageSize,10),t/this.getOption().pageSize-this._pageCount>0&&this._pageCount++),!1!==e&&(this._priorPage.pageIndex=1,this.getOption().pageIndex=1),this._refreshIndex(e)},getTotalCount:function(){return this._totalCount},setPageSizeList:function(t){if(this.isArray(t)){for(var e=0,i=t.length;e<i;e++)t[e]!==this.getI18n("qzz.all","全部")&&(t[e]=parseInt(t[e],10));this.getOption().pageSizeList=t,t.length>0&&(this._priorPage.pageSize=this.getOption().pageSize,this._priorPage.pageIndex=this.getOption().pageIndex,this.pageSizeList.setItemList(t),this.getOption().pageSize=t[0],this.pageSizeList.setValue(this.getOption().pageSize),this.getOption().pageIndex=1),this._refreshIndex()}},resetPageState:function(){this.getOption().pageSize=this._priorPage.pageSize,this.getOption().pageIndex=this._priorPage.pageIndex,this._refreshIndex()}}),_bindRenderFunc("qzzpaged",t.ui.paged),t.ui.paged}),
/*!
 * 下拉窗口控件.
 * ecp.qzz.ui.drop.popwindow.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.window","qzz.button"],function(){var t=window.qzz;return t.space("ui.drop"),t.ui.drop.popwindow=t.Class(t.ui.window,{_create:function(){this.base(),this.className="PopWindow",this._hasShow=!1,this._canHide=!0,this.getOption().closeImg=!0,this.getBooleanValue(this.getOption().closeImg,!1),this.getOption().width=this.getNumberValue(this.getOption().width,200),this.getOption().height=this.getNumberValue(this.getOption().height,200)},_render:function(){this.base(),this.setStyle(this.thisWindow,"dropDiv"),this.thisWindow.style.display="none",this.getOption().closeImg&&(this.closeDiv=new t.ui.button({top:0,left:this.getOption().width-20,width:20,height:20,fontSize:12,common:["button_common"],over:["button_over"],down:["button_over"]})),this.thisWindow.oncontextmenu=function(){return!1}},doFocus:function(t){this.isShow()&&this.base()},doBlur:function(t){this.getOption().closeImg&&this.isShow()&&!0!==this.isMouseOver()&&(this.hide(),this.base())},getDropWindow:function(){return this.thisWindow},isShow:function(){return null!=this.thisWindow&&"none"!=this.thisWindow.style.display},execute:function(t,e,i,n){this.logInfo("show Drop Window.");var s=this.getScrollXY();t+this.getHeight()>this._getBodyHeight()-5&&((null==i||isNaN(i))&&(i=0),(t=t-this.getHeight()-i-5)<0&&(t=this._getBodyHeight()-this.getHeight()-5)),e+this.getWidth()>this._getBodyWidth()-5+s.left&&((null==n||isNaN(n))&&(n=0),(e=e-this.getWidth()-n-5)<0&&(e=this._getBodyWidth()-this.getWidth()-5));var o=this.getControl().parentNode;null!=o&&"BODY"!==o.tagName&&(o.scrollTop>0&&(t+=o.scrollTop),o.scrollLeft>0&&(e+=o.scrollLeft));var l=this.thisWindow.parentElement;if(null!=l&&(t-=this.getNumberValue(l.style.top,0),e-=this.getNumberValue(l.style.left,0)),this.getOption().top=t+4,this.thisWindow.style.top=this.getOption().top+"px",this.getOption().left=e,this.thisWindow.style.left=e+"px",!this.isShow()){if(this.thisWindow.style.display="",this.hasSelect=!0,"function"==typeof this.onShow)try{this.onShow(this)}catch(t){this.logError("[onShow]ERR:"+t.message)}this.trigger("onShow",[this])}this.setFocus()},doKeyDown:function(t,e){e===this.keyBoard.ESC&&this.hide()},hide:function(){if(this.isShow()&&this._canHide){if(this.thisWindow.style.display="none",this.setBlur(),"function"==typeof this.onHide)try{this.onHide(this)}catch(t){this.logError("[onHide]ERR:"+t.message)}this.trigger("onHide",[this])}}}),_bindRenderFunc("qzzpopwin",t.ui.drop.popwindow),t.ui.drop.popwindow}),
/*!
 * 下拉菜单控件.
 * ecp.qzz.ui.drop.popmenu.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.pwindow"],function(){var t=window.qzz;return t.space("ui.drop"),t.ui.drop.popmenu=t.Class(t.ui.drop.popwindow,{_create:function(){this.base(),this.className="PopMenu",this.logInfo("popMenu.create"),this._popList=[],this._popCount=0},_render:function(){this.base(),this.logInfo("popMenu.render"),this._mTab=this.createElement("table"),this.appendChild(this._mTab),this.refresh()},endUpdate:function(){this._update=!0,this.refresh()},getMenu:function(t){for(var e=0;e<this._popCount;e++)if(this._popList[e].name==t)return this._popList[e];return null},addMenu:function(t,e,i,n,s,o){var l={};return l.name=t,l.caption=e,l.icon=o,l.event=i,l.enable=s,l.shutCut=n,this._popList[this._popCount++]=l,this.refresh(),l},insertMenu:function(t,e,i,n,s,o,l){var r={};if(r.name=e,r.caption=i,r.icon=l,r.event=n,r.enable=o,r.shutCut=s,t>=0&&t<=this._popCount){for(var a=this._popCount-1;a>=t;a--)this._popList[a+1]=this._popList[a];this._popList[t]=r,this._popCount++}return this.refresh(),r},updateMenu:function(t,e,i,n,s,o){var l=this.getMenu(t);return null!=l&&(l.caption=e,l.icon=o,l.event=i,l.enable=s,l.shutCut=n),this.refresh(),l},delMenu:function(t){for(var e=!1,i=0,n=0;n<this._popCount;n++)if(this._popList[n].name==t){e=!0,i=n;break}if(e){var s=this._popList[i];for(null!=s&&(s.name=void 0,s.caption=void 0,s.icon=void 0,s.event=void 0,s.enable=void 0,s.shutCut=void 0),n=i;n<this._popCount-1;n++)this._popList[n]=this._popList[n+1];this._popCount--}this.refresh()},clearMenu:function(){this._popCount=0},setEnable:function(t,e){var i=this.getMenu(t);if(null!=i)if(i.enable=e,e){var n=this;for((s=i.row).onclick=function(){"function"==typeof this.event&&this.event(),n.hide()},o=0;o<s.cells.length;o++)s.cells[o].style.scolor="#000000"}else{var s;(s=i.row).onclick=null;for(var o=0;o<s.cells.length;o++)s.cells[o].style.color="#AAAAAA"}this.refresh()},getMenuCount:function(){return this._popCount},refreash:function(){this.refresh()},refresh:function(){if(!this._update)return!1;for(var t=this._mTab.rows.length-1;t>=0;t--)this._mTab.deleteRow(t);var e=this;this.setStyle(this._mTab,"popMain");var i=4,n=1,s=!1,o=0;for(t=0;t<this._popCount;t++){var l=this._popList[t];if(null!=l){var r=this._mTab.insertRow(t);if(r.oncontextmenu=function(){return!1},"-"==l.caption){var a=r.insertCell(0);null!=l.icon&&(mIcon=myCreateElement("img"),mIcon.src=l.icon,a.appendChild(mIcon)),this._setHtml(a,"<hr class='"+this._cssPrefix+"lineColor'>",!1),a.colSpan=3,a.style.height="20px",o+=22}else{this.setStyle(r,"popCaption");var h=null==l.enable||l.enable;r.event=l.event,h?r.onclick=function(){null!=this.event&&this.event(),e.hide()}:(r.onclick=null,r.onmouseover=null),a=r.insertCell(0),this.setStyle(a,"popIcon"),null!=l.icon&&(mIcon=myCreateElement("img"),mIcon.src=l.icon,a.appendChild(mIcon),s=!0),a.style.color=h?"#000000":"#AAAAAA",a=r.insertCell(1),this._setHtml(a,l.caption);var c=this.strLen(l.caption);c>i&&(i=c),a.style.height="20px",a.style.color=h?"#000000":"#AAAAAA",a=r.insertCell(2),null!=l.shutCut&&(this._setHtml(a,l.shutCut),c=this.strLen(l.shutCut)),c>n&&(n=c),a.style.width="50px",a.style.color=h?"#000000":"#AAAAAA",o+=22,c=null}l.row=r,r=null}l=null}if(this._popCount>0){var u=10*i,d=10*n;this._mTab.rows[0].cells.length>1?(this._mTab.rows[0].cells[1].style.width=u+"px",this._mTab.rows[0].cells[2].style.width=d+"px"):this._mTab.rows[1].cells.length>1&&(this._mTab.rows[1].cells[1].style.width=u+"px",this._mTab.rows[1].cells[2].style.width=d+"px");var p=u+d;s&&(p+=20),this.setWidth(p),this.setHeight(o),p=null,u=null,d=null}i=null,n=null,s=null}}),_bindRenderFunc("qzzpopmenu",t.ui.drop.popmenu),t.ui.drop.popmenu}),
/*!
 * 下拉列表控件.
 * ecp.qzz.ui.drop.poplistview.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.pwindow","qzz.listview","qzz.iedit"],function(){var t=window.qzz;return t.space("ui.drop"),t.ui.drop.poplistview=t.Class(t.ui.drop.popwindow,{_create:function(){this.base(),this.className="PopListView",this.logInfo("popListView.create"),this.multiSelect=this.getBooleanValue(this.getOption().multiple,!1),this.multiSelect=this.getBooleanValue(this.getOption().multiSelect,this.multiSelect),this.selectAll=this.getBooleanValue(this.getOption().selectAll,this.selectAll),this.getOption().idkey=this.getOption().idkey||"id",this.getOption().capkey=this.getOption().capkey||"text",this.getOption().search=this.getBooleanValue(this.getOption().search,!1),this.getOption().more=this.getBooleanValue(this.getOption().more,!1)},_render:function(){if(this.base(),!0===this.getOption().search||!0===this.getOption().more){if(this.popTable=this.createElement("TABLE"),this.addStyle(this.popTable,"noBorder"),this.popView=this.popTable.insertRow(0),!0===this.getOption().search){var e=this.popTable.insertRow(0).insertCell(0);this.searchBox=new t.ui.input.edit(null,{name:"searchBox",width:100,placeholder:this.getI18n("qzz.inputKey","输入关键字"),margin:4}),this.searchBox.setParent(e);var i=this;this.searchBox.bind("onChange",function(t){if(i.clearFilter(),null!=t&&""!==t)i.addFilter(t);else{var e=!0;i.hasbind("onFilter")&&(e=i.trigger("onFilter",[t])),!1!==e&&(i.view.refresh(t),i.refresh())}})}if(!0===this.getOption().more){e=this.popTable.insertRow(this.popTable.rows.length).insertCell(0);var n=this.createElement("A");this.addStyle(n,"moreFont"),this._setHtml(n,"更多"),n.href="#",i=this,n.onclick=function(){i.trigger("onMoreClick",[])},n.style.float="right",n.style.marginRight="4px",e.appendChild(n)}this.thisWindow.appendChild(this.popTable)}this.view=new t.ui.listview(void 0,{cssPrefix:this._cssPrefix,data:this.getOption().data,selectAll:this.selectAll,multiSelect:this.multiSelect,fontSize:this.getOption().fontSize,scrollFireEvent:!1,idkey:this.getOption().idkey,leafOnly:this.getOption().leafOnly,capkey:this.getOption().capkey,border:"0px",rowHeight:this.getOption().rowHeight,viewType:this.getOption().viewType,showCount:this.getOption().showCount}),i=this,this.view.autoHeight=!0,this.view._this=this,this.view.bind("onHeightChanged",function(t){this._this.setHeight(t)}),this.logInfo("popListView.render"),this.refresh()},refreash:function(){this.refresh()},refresh:function(){this.view.setParent(this.getDropWindow()),this.setWidth(this.view.getWidth()+2,!1),null!=this.searchBox&&this.searchBox.setWidth(this.view.getWidth()-8),this.setHeight(this.view.getHeight()+4),this.view.onSelect=this.doSelect},getDropWindow:function(){return!0===this.getOption().search||!0===this.getOption().more?this.popView:this.base()},doBlur:function(){this.base(),null!=this.view&&this.view.setBlur()},doSelect:function(t,e){var i=this._this;i.view.focus&&(1!=i.multiSelect&&(i.hide(),i.view.setBlur()),"function"==typeof i.onSelect&&i.onSelect(t,e))},doMouseWheel:function(t){this.view.focus||this.view.doMouseWheel(t)},doKeyUp:function(t,e){this.focus&&this.view.setFocus()},setWidth:function(t,e){this.base(t,e),this.view.setWidth(t-2,e),null!=this.searchBox&&this.searchBox.setWidth(this.view.getWidth()-8)},setHeight:function(t,e){var i=0;null!=this.searchBox&&(i=this.searchBox.getHeight()+8),!0===this.getOption().more&&(i+=20),this.base(t+i,e)},isFocus:function(){return this.focus&&this.view.focus},prior:function(){this.view.prior()},next:function(){this.view.next()},indexOfText:function(t,e){return this.view.indexOfText(t,e)},indexOf:function(t,e){return this.view.indexOf(t,e)},getItem:function(t){return null==t?this.view.getCurItem():this.view.getItem(t)},getSelectIndex:function(){return this.view.getSelectIndex()},setMultiSelect:function(t){this.multiSelect=t,this.getOption().multiSelect=t,this.view.getOption().multiSelect=t,this.view.refresh()},setSelectAll:function(t){this.selectAll=t,this.view.selectAll=t},execute:function(t,e,i){this.view.autoHeight&&(this.setHeight(this.view.getHeight()+2,!1),this.setWidth(this.view.getWidth()+2),null!=this.searchBox&&(this.searchBox.setValue(""),this.searchBox.setFocus())),this.base(t,e,i),this.view.setFocus(),this.view.refreshScrollBar()},setItemList:function(t){this.view._update=!1,this.view.setItemList(t),this.view._update=!0,this.isShow()&&(this.view.endUpdate(),this.refresh())},addItem:function(t){this.view.addItem(t)},delItem:function(t){this.view.delItem(t)},addFilter:function(t,e){if(""!==t&&!this.view.filterExist(t)){var i=!0;this.hasbind("onFilter")&&(i=this.trigger("onFilter",[t,e])),0!=i&&(this.view.addFilter(t,e),0!=e&&(this.setWidth(this.view.getWidth()+2,!1),this.setHeight(this.view.getHeight()+2)))}},doFilter:function(){this.view.doFilter(),this.setWidth(this.view.getWidth()+2,!1),this.setHeight(this.view.getHeight()+2)},clearFilter:function(){this.view.clearFilter()},getFilter:function(){return this.view.getFilter()},setSelectByText:function(t){return this.view.setSelectByText(t)},setSelect:function(t){this.view.setSelect(t)},getSelect:function(){return this.view.getSelect()},length:function(){return this.view.length()},setIdkey:function(t){this.getOption().idkey=t,this.view.setIdkey(t)},clearSelectAll:function(){this.view.clearSelectAll()}}),_bindRenderFunc("qzzpoplistview",t.ui.drop.poplistview),t.ui.drop.poplistview}),
/*!
 * 下拉树控件.
 * ecp.qzz.ui.drop.poplistview.js
 * 创建：QZZ
 * 日期：2016-12-20
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.pwindow","qzz.treeview","qzz.iedit"],function(){var t=window.qzz;return t.space("ui.drop"),t.ui.drop.poptreeview=t.Class(t.ui.drop.popwindow,{_create:function(){this.base(),this.className="PopTreeView",this.logInfo("popTreeView.create"),this.multiSelect=this.getBooleanValue(this.getOption().multiple,!1),this.multiSelect=this.getBooleanValue(this.getOption().multiSelect,this.multiSelect),this.selectAll=this.getBooleanValue(this.getOption().selectAll,this.selectAll),this.getOption().idkey=this.getOption().idkey||"id",this.getOption().pidkey=this.getOption().pidkey,this.getOption().capkey=this.getOption().capkey||"text",this.getOption().search=this.getBooleanValue(this.getOption().search,!1),this.getOption().more=this.getBooleanValue(this.getOption().more,!1)},_render:function(){if(this.base(),!0===this.getOption().search||!0===this.getOption().more){if(this.popTable=this.createElement("TABLE"),this.addStyle(this.popTable,"noBorder"),this.popView=this.popTable.insertRow(0),!0===this.getOption().search){var e=this.popTable.insertRow(0).insertCell(0);this.searchBox=new t.ui.input.edit(null,{name:"searchBox",width:100,placeholder:this.getI18n("qzz.inputKey","输入关键字"),margin:4}),this.searchBox.setParent(e);var i=this;this.searchBox.bind("onChange",function(t){!0===i.view.isFiltered()?i.view.clearFilterText(function(){i.view.addFilterText(t,!0),i.view.first()}):i.view.addFilterText(t,!0)})}if(!0===this.getOption().more){e=this.popTable.insertRow(this.popTable.rows.length).insertCell(0);var n=this.createElement("A");this.addStyle(n,"moreFont"),this._setHtml(n,"更多"),n.href="#",i=this,n.onclick=function(){i.trigger("onMoreClick",[])},n.style.float="right",n.style.marginRight="4px",e.appendChild(n)}this.thisWindow.appendChild(this.popTable)}this.view=new t.ui.treeview(void 0,{cssPrefix:this._cssPrefix,data:this.getOption().data,selectAll:this.getOption().selectAll,multiSelect:this.getOption().multiSelect,fontSize:this.getOption().fontSize,leafOnly:this.getOption().leafOnly,scrollFireEvent:!1,treekey:this.getOption().treekey,idkey:this.getOption().idkey,fullPath:this.getOption().fullPath,capkey:this.getOption().capkey,pidkey:this.getOption().pidkey,checkFlag:this.getOption().checkFlag,unCheckFlag:this.getOption().unCheckFlag,autoHeight:!0,showCount:this.getOption().showCount,border:"0px"}),i=this,this.view._this=this,this.view.bind("onHeightChanged",function(t){this._this.setHeight(t)}),this.logInfo("popTreeView.render"),this.refresh()},refreash:function(){this.refresh()},getDropWindow:function(){return!0===this.getOption().search||!0===this.getOption().more?this.popView:this.base()},refresh:function(){this.view.setParent(this.getDropWindow()),this.setWidth(this.view.getWidth()+2,!1),null!=this.searchBox&&this.searchBox.setWidth(this.view.getWidth()-8),this.setHeight(this.view.getHeight()+4),this.view.onSelect=this.doSelect;var t=this;this.view.bind("onCheckChanged",function(e,i){t.trigger("onCheckChanged",[e,i])})},doBlur:function(){this.base(),null!=this.view&&this.view.setBlur()},doSelect:function(t){var e=this._this;e.view.focus&&(1!=e.multiSelect&&(e.hide(),e.view.setBlur()),"function"==typeof e.onSelect&&e.onSelect(t),e.hasbind("onSelect")&&e.trigger("onSelect",[t]))},doMouseWheel:function(t){this.view.focus||this.view.doMouseWheel(t)},doKeyUp:function(t,e){this.focus&&this.view.setFocus()},setWidth:function(t,e){this.base(t,e),this.view.setWidth(t-2,e),null!=this.searchBox&&this.searchBox.setWidth(this.view.getWidth()-8)},setHeight:function(t,e){var i=0;null!=this.searchBox&&(i=this.searchBox.getHeight()+8),!0===this.getOption().more&&(i+=20),this.base(t+i,e)},isFocus:function(){return this.focus&&this.view.focus},prior:function(){this.view.prior()},next:function(){this.view.next()},indexOfText:function(t,e){return null!=this.view?this.view.indexOfText(t,e):null},getDisplay:function(t){return null!=this.view?this.view.getDisplay(t):""},getValue:function(t){return this.view.getValue(t)},setMultiSelect:function(t){this.multiSelect=t,this.view.getOption().multiSelect=t,this.view.multiSelect=t,this.view.refresh()},setSelectAll:function(t){this.selectAll=t,this.view.selectAll=t},execute:function(t,e,i){this.view.autoHeight&&(this.setHeight(this.view.getHeight()+2,!1),this.setWidth(this.view.getWidth()+2),null!=this.searchBox&&(this.searchBox.setValue(""),this.searchBox.setFocus(),this.searchBox.trigger("onChange",[""]))),this.base(t,e,i),this.view.setFocus(),this.view.refreshScrollBar()},setItemList:function(t){this.view._update=!1,this.view.setItemList(t),this.view._update=!0,this.isShow()&&(this.view.endUpdate(),this.refresh())},setSelectByText:function(t,e){this.view.setSelectByText(t,e)},setSelectById:function(t,e){this.view.setSelectById(t,e)},length:function(){return this.view.getAllCount()},setIDPID:function(t,e){this.view.setIDPID(t,e)},setItemCode:function(t){this.getOption().itemCode=t,this.view.setItemCode(t)},getSelectedData:function(){return this.view.getSelectedData()},locate:function(t){return this.view.locate(t)},clearSelectAll:function(t){this.view.unCheckAll(t)}}),_bindRenderFunc("qzzpoptreeview",t.ui.drop.poptreeview),t.ui.drop.poptreeview}),
/*!
 * 下拉日期控件.
 * ecp.qzz.ui.drop.popfilter.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.pwindow","qzz.listview","qzz.button"],function(){var t=window.qzz;return t.space("ui.drop"),t.ui.drop.popfilter=t.Class(t.ui.drop.popwindow,{_create:function(){this.getOption().width=this.getNumberValue(this.getOption().width,230),this.getOption().height=this.getNumberValue(this.getOption().height,298),this.base(),this.getOption().rowHeight=this.getNumberValue(this.getOption().rowHeight,20)},_render:function(){this.base();var e=this.getOption().width-16,i=this.getOption().rowHeight,n=0,s=this.createElement("table");this.setStyle(s,"filterBox");var o=0,l=s.insertRow(o++).insertCell(0);this.setStyle(l,"c_common_td");var r=this.createElement("table");r.border=0,r.cellPadding=0,r.cellSpacing=0,r.style.width=e+"px";var a=this,h=0;this._addFilterRow(r,h,this.getI18n("qzz.sort_up","升序"),i,function(){a.hide(),a.trigger("onSort",[a._filterName,"up"])}),h++,this._addFilterRow(r,h,this.getI18n("qzz.sort_down","降序"),i,function(){a.hide(),a.trigger("onSort",[a._filterName,"down"])}),h++,this._addFilterRow(r,h,this.getI18n("qzz.sort_def","默认排序"),i,function(){a.hide(),a.trigger("onSort",[a._filterName,"none"])}),h++,l.appendChild(r),this.sortMenuBox=l,!1!==this.getOption().sort?(this.sortMenuBox.style.display="",n+=i*h):this.sortMenuBox.style.display="none";var c=this.createElement("table");c.border=0,c.cellPadding=0,c.cellSpacing=0,c.style.width=e+"px",l=s.insertRow(o++).insertCell(0),this.setStyle(l,"c_common_td"),this._addFilterRow(c,0,this.getI18n("qzz.clearFilter","清除筛选"),i,function(){a.hide(),a.trigger("onClearFilter",[a._filterName])}),l.appendChild(c),n+=i;var u=s.insertRow(o++).insertCell(0);this.setStyle(u,"c_common_td"),this._setHtml(u,"<hr class='"+this._cssPrefix+"lineColor' style='background-color:#dddddd;'>",!1),u.style.height="10px",n+=10;var d=s.insertRow(o++).insertCell(0);this.setStyle(d,"c_common_td"),this.filterBox=this.createElement("input"),this.filterBox.style.width=e+"px",this.setStyle(this.filterBox,"searchInput");var p=this.getI18n("qzz.inputKey","输入关键字");this.filterBox.setAttribute("placeholder",p),this.filterBox.onkeyup=function(){a.filterListView.clearFilter();var t=a.trim(this.value);a.filterListView.addFilter(t)},d.appendChild(this.filterBox),d.style.height=i+"px",n+=i,this._lbox=s.insertRow(o++).insertCell(0),this.setStyle(this._lbox,"c_common_td");var g=this.getOption().height-n-48-4;this._lbox.style.height=g+"px",this._lbox.style.verticalAlign="top",this.filterListView=new t.ui.listview(void 0,{cssPrefix:this._cssPrefix,selectAll:!0,multiSelect:!0,search:!1,escape:this.getOption().escape}),this.filterListView.setParent(this._lbox),this.filterListView.setHeight(g,!1),this.filterListView.setWidth(e),this.filterListView.setTop(1);var f=s.insertRow(o++).insertCell(0);this.setStyle(f,"c_common_td");var y=this.createElement("DIV");f.appendChild(y),y.style.width="100%",y.style.height="100%",y.style.textAlign="right",y.style.position="relative",this.getContainer().appendChild(s),this.filterFixBtn=new t.ui.button({top:6,left:e-73,width:73,height:28,caption:this.getI18n("qzz.ok","确定"),fontSize:12}),this.filterFixBtn.setParent(y),this.filterFixBtn.bind("onclick",function(){a.hide(),a.trigger("onFilter",[a._filterName,a.filterListView.length(!0),a.filterListView.getSelect()])}),this.filterFixBtn.setFocus(),this.filterFixBtn.refresh(),this.filterCanselBtn=new t.ui.button({top:6,left:e-146-8,width:73,height:28,caption:this.getI18n("qzz.cancel","取消"),fontSize:12}),this.filterCanselBtn.setParent(y),this.filterCanselBtn.bind("onclick",function(){a.hide(),a.trigger("onCancel",[a._filterName])})},refresh:function(){var t=5;!1===this.getOption().sort&&(t-=3);var e=this.getOption().height-this.getOption().rowHeight*t-62;this.filterListView.setHeight(e),this._lbox.style.height=e+"px",this.filterFixBtn.setTop()},setHeight:function(t){this.base(t),"number"==typeof t&&(this.getOption().height=t,this.refresh())},_addFilterRow:function(t,e,i,n,s){var o=t.insertRow(e);this.setStyle(o,"popCaption");var l=o.insertCell(0);this.setStyle(l,"c_common_td"),this._setHtml(l,i),l.onclick=s,l.style.height=n+"px"},setFilterName:function(t){this._filterName=t},getFilterName:function(){return this._filterName},clearFilter:function(){this.filterListView.clearFilter()},setSort:function(t){this.getOption().sort=!1!==t,!1!==this.getOption().sort?this.sortMenuBox.style.display="":this.sortMenuBox.style.display="none",this.refresh()},execute:function(t,e,i,n){var s=[];if(this.isArray(i))if("string"==typeof i[0]){var o={};for(var l in i)""===i[l]&&(i[l]="("+this.getI18n("qzz.empty","空白")+")"),this.isEmpty(o[i[l]])&&(s.push({id:parseInt(l,10),text:i[l]}),o[i[l]]=1)}else s=i;else if("object"==typeof i&&this.isNotEmpty(i)){for(var l in o={},i)""===i[l]&&(i[l]="("+this.getI18n("qzz.empty","空白")+")"),this.isEmpty(o[i[l]])&&(s.push({id:l,text:i[l]}),o[i[l]]=1);o=null}if(this.filterListView.setItemList(s),this.isArray(n))this.filterListView.setSelectByText(n);else if("object"==typeof n){var r=[];if(this.isNotEmpty(n))for(var l in n)r.push(l);r.length>0||!0!==this.getOption().defSelectAll?this.filterListView.setSelectByText(r):this.filterListView.doSelectAll()}this.base(t,e),this.filterBox.focus(),this.filterBox.value=""}}),_bindRenderFunc("qzzpopfilter",t.ui.drop.popfilter),t.ui.drop.popfilter}),
/*!
 * 下拉日期控件.
 * ecp.qzz.ui.drop.popcalendar.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.pwindow","qzz.calendar"],function(){var t=window.qzz;return t.space("ui.drop"),t.ui.drop.popcalendar=t.Class(t.ui.drop.popwindow,{_create:function(){this.base(),this.className="PopCalendar",this.logInfo("popCalendar.create"),this.maxDate="9999-12-31",this.minDate="1000-01-01",this.cyctype="day",this.showTime=!1,null!=this.getOption().width&&10!=this.getOption().width||(this.getOption().width=192)},_render:function(){this.base(),this.logInfo("popCalendar.render"),this.thisWindow.style.padding="4px"},refreash:function(){this.refresh()},refresh:function(){this.isEmpty(this.calendar)&&(this.calendar=t.ui.calendar.getInstance(this._cssPrefix)),this.calendar.setParent(this.getDropWindow()),this.setWidth(this.calendar.getWidth()+8),this.setHeight(this.calendar.getHeight()+8),this.calendar.setDate(this.date,!1),this.calendar.setMaxDate(this.maxDate,!1),this.calendar.setMinDate(this.minDate,!1),this.calendar.setShowTime(this.showTime),this.calendar.setCycType(this.cyctype),this.calendar.setFormatYear(this.getOption().formatYear),this.calendar.setFormatMonth(this.getOption().formatMonth),this.calendar.setFormatDay(this.getOption().formatDay),this.calendar.setFormatHour(this.getOption().formatHour),this.calendar.setFormatMinute(this.getOption().formatMinute),this.calendar.setFormatSecond(this.getOption().formatSecond),this.calendar.setDateSplit(this.getOption().dateSplit),this.calendar.setTimeSplit(this.getOption().timeSplit),this.calendar._date=this,this.calendar.onSelect=this.doSelect},doSelect:function(t){var e=this._date;e.date=t,e.hide(),"function"==typeof e.onSelect&&e.onSelect(t)},setDate:function(t){this.date=t},setMaxDate:function(t){this.maxDate=t},setMinDate:function(t){this.minDate=t},setFormatYear:function(t){this.getOption().formatYear=t},setFormatMonth:function(t){this.getOption().formatMonth=t},setFormatDay:function(t){this.getOption().formatDay=t},setFormatHour:function(t){this.getOption().formatHour=t},setFormatMinute:function(t){this.getOption().formatMinute=t},setFormatSecond:function(t){this.getOption().formatSecond=t},setDateSplit:function(t){this.getOption().dateSplit=t},setTimeSplit:function(t){this.getOption().timeSplit=t},getDate:function(){return this.date},checkDate:function(e){return this.isEmpty(this.calendar)&&(this.calendar=t.ui.calendar.getInstance(this._cssPrefix)),this.calendar.checkDate(e)},checkRound:function(e){return this.isEmpty(this.calendar)&&(this.calendar=t.ui.calendar.getInstance(this._cssPrefix)),this.calendar.setMinDate(this.minDate,!1),this.calendar.setMaxDate(this.maxDate,!1),this.calendar.checkRound(e)},doBlur:function(){this.base(),null!=this.calendar&&this.calendar.setBlur()},setShowTime:function(e){this.showTime=this.getBooleanValue(e,!1),this.isEmpty(this.calendar)&&(this.calendar=t.ui.calendar.getInstance(this._cssPrefix)),this.calendar.setShowTime(this.showTime)},setCycType:function(e){this.cyctype=e,this.isEmpty(this.calendar)&&(this.calendar=t.ui.calendar.getInstance(this._cssPrefix)),this.calendar.setCycType(e)},execute:function(t,e,i){this.refresh(),this.base(t,e,i)}}),_bindRenderFunc("qzzpopcalendar",t.ui.drop.popcalendar),t.ui.drop.popcalendar}),
/*!
 * 气泡控件.
 * ecp.qzz.ui.drop.popbubble.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.pwindow","qzz.listview","qzz.iedit"],function(){var t=window.qzz;return t.space("ui.drop"),t.ui.drop.popbubble=t.Class(t.ui.drop.popwindow,{_create:function(){this.base(),this.className="popbubble",this.logInfo("popbubble.create"),this.getOption().arrow=this.getOption().arrow||"none",this.getOption().text=this.getOption().text||""},_render:function(){this.base(),this.arrow=this.createElement("DIV"),this.arrow_bg=this.createElement("DIV"),this.setStyle(this.arrow,"bubble_arrow"),this.setStyle(this.arrow_bg,"bubble_arrow"),this.textTab=this.createElement("TABLE");var t=this.textTab.insertRow(0);this.text=t.insertCell(0),this.getOption().fontSize&&(this.text.style.fontSize=this.getOption().fontSize+"px"),this.getOption().color&&(this.text.style.color=this.getOption().color),this.setStyle(this.textTab,"bubble_text"),this.addStyle(this.thisWindow,"bubble_pop"),this.thisWindow.style.width="",this.thisWindow.style.height="",this.thisWindow.appendChild(this.textTab),this.thisWindow.appendChild(this.arrow),this.thisWindow.appendChild(this.arrow_bg),this.refresh()},refresh:function(){this.setStyle(this.arrow,"bubble_arrow"),this.setStyle(this.arrow_bg,"bubble_arrow"),this.addStyle(this.arrow,this.getOption().arrow),this.addStyle(this.arrow_bg,this.getOption().arrow+"_after"),this.getOption().borderColor&&(this.thisWindow.style.borderColor=this.getOption().borderColor,"top"!=this.getOption().arrow&&"top_right"!=this.getOption().arrow||(this.arrow.style.borderTopColor=this.getOption().borderColor),"left"==this.getOption().arrow&&(this.arrow.style.borderLeftColor=this.getOption().borderColor),"right"==this.getOption().arrow&&(this.arrow.style.borderRightColor=this.getOption().borderColor),"bottom"!=this.getOption().arrow&&"bottom_right"!=this.getOption().arrow||(this.arrow.style.borderBottomColor=this.getOption().borderColor)),this.trigger("onDraw",[this.text])},setArrow:function(t){this.getOption().arrow=t||"right",this.refresh()},setText:function(t){this.text.innerHTML=t||""},execute:function(t,e,i){if("object"==typeof t&&(e=t,t="right"),"object"==typeof e&&null!=e.tagName){var n=e.getBoundingClientRect(),s=this.getScrollXY(),o=this.getNumberValue(this.getOption().offsetLeft,0);e=n.top+s.top,i=n.left+s.left+o;var l=this.thisWindow.parentElement;if(null!=l){var r=l.getBoundingClientRect();e-=r.top,i-=r.left}var a,h,c=this.thisWindow.style.display;if(this.thisWindow.style.display="",a=this.thisWindow.offsetHeight,h=this.thisWindow.offsetWidth,this.thisWindow.style.display=c,"top"===t)(e-=n.bottom-n.top+a-10)<0?(t="bottom",e=n.top+n.bottom-n.top+10,i+h>(u=document.documentElement.clientWidth)&&(t="left",e=n.top-10,i=n.left+o-(n.bottom-n.top+h-10))):i+h>(u=document.documentElement.clientWidth)&&(t="top_right",i=n.right-h);else if("right"===t){e-=10,i+=n.right-(n.left+o)+10;var u=document.documentElement.clientWidth,d=document.documentElement.clientHeight;i+h>u?e+a<d?(t="left",e=n.top-10,(i=n.left+o-(n.bottom-n.top+h-10))<0&&(t="bottom",e=n.top+n.bottom-n.top+10,i=n.left+o)):(t="top",e=n.top-(n.bottom-n.top+a-10),(i=n.left+o)+h>u&&(t="top_right",i=n.right-h)):e+a>d&&(t="top",e=n.top-(n.bottom-n.top+a-10),i=n.left+o)}else"bottom"===t?(e+=n.bottom-n.top+10,d=document.documentElement.clientHeight,u=document.documentElement.clientWidth,e+a>d?(t="top",e=n.top-(n.bottom-n.top+a-10),(i=n.left+o)+h>u&&(t="top_right",i=n.right-h)):i+h>u&&(t="bottom_right",i=n.right-h)):"left"===t&&(e-=10,i-=n.bottom-n.top+h-10,d=document.documentElement.clientHeight,u=document.documentElement.clientWidth,i<0?e+a<=d?(t="right",e=n.top-10,i=n.left+o+n.right-(n.left+o)+10):(t="top",e=n.top-(n.bottom-n.top+a-10),i=n.left+o):e+a>d&&(t="top",e=n.top-(n.bottom-n.top+a-10),(i=n.left+o)+h>u&&(t="top_right",i=n.right-h)))}e+=s.top,i+=s.left,this.base(e,i),this.setArrow(t)}}),_bindRenderFunc("qzzpopbubble",t.ui.drop.popbubble),t.ui.drop.popbubble}),
/*!
 * 编辑控件.
 * ecp.qzz.ui.input.edit.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.window","qzz.plistview"],function(){var t=window.qzz;return t.space("ui.input"),t.ui.input.edit=t.Class(t.ui.window,{_create:function(){this.base(),this.className="Edit",this.logInfo("text.create"),this.align="left",this.valign="middle",this.selectState=!1,this._isChanged=!1,this._twoRefresh=!0,this._value="",this._text="",this.format="",null==this.getOption().width&&(this.getOption().width=this.getOption().width||100),this.getOption().width<30&&(this.getOption().width=this.getOption().width||30),null==this.getOption().height||this.getOption().height<=10?this.getBrowser("msie")?this.getOption().height=34:this.getOption().height=35:this.getOption().height=this.getOption().height,this.isEmpty(this.getOption().fontSize)&&(this.getOption().fontSize=14);var t=this.getOption().width;null==t||""===t||/[\d]+%$/.test(this.getOption().width)||(this.getOption().width=parseInt(t,10)),this.getOption().idkey=this.getOption().idkey||"id",this.getOption().capkey=this.getOption().capkey||"text",this.getOption().hint=this.getBooleanValue(this.getOption().hint,!1),null==this.getOption().hintData&&(this.getOption().hintData=[]),this.size=this._getNumberValue(this.getOption().size,4e3),this._popState=!1},_render:function(){var e,i,n=null;null!=this.control&&(n=this.control.getAttribute("placeholder")),this.control&&"INPUT"===this.control.tagName&&this._replaceToDiv(),null==(e=this.getOption()["ng-model"])&&""!==e&&this.control&&null!=(i=this.control.getAttribute("ng-model"))&&""!==i&&(this.getOption()["ng-model"]=i),null==(e=this.getOption()["v-model"])&&""!==e&&this.control&&null!=(i=this.control.getAttribute("v-model"))&&""!==i&&(this.getOption()["v-model"]=i);var s=this.getOption()["ng-bind"];if(null!=s&&""!==s&&this.control){var o=this.control.getAttribute("ng-bind");null!=o&&""!==o&&(this.getOption()["ng-bind"]=o)}n=n||this.getOption().placeholder,this.base(),this.logInfo("text.render"),this.inputBox=this.createElement("textarea"),null!=n&&this.inputBox.setAttribute("placeholder",n),this.inputBox.ctrl=this,this.isNotEmpty(this.getOption().fontSize)&&(this.inputBox.style.fontSize=this.getOption().fontSize+"px"),this.pasteKeyPress=!1,this.inputBox.onkeydown=this.doInput;var l=this;if(this.inputBox.onclick=function(t){t=t||event,"function"==typeof l.onEditClick&&l.onEditClick(t),!0===l.getOption().hint&&""!==this.value&&l._doShowHintView()},this.inputBox.onchange=function(t){t=t||event,l.logInfo("inputBox.onChange$$$$$$$$$$$$"),l._isChanged=!0,"function"==typeof l.onEditClick&&l.onEditClick(t)},this.clearBtn=this.createElement("div"),this.setStyle(this.clearBtn,"clearBtn"),this.clearBtn.onclick=function(t){l.clearValue()},this.clearBtn.style.display="none","#FFFFFF"!==this.getOption().color&&"white"!==this.getOption().color||this.setStyle(this.clearBtn,"clearBtn_white"),null!=this.dataField){var r=this.getDataSource().getDataModel();null!=r&&(this._value=r.get(this.dataField).value())}if(null!=this.getOption().inputCss&&""!==this.getOption().inputCss?(this.setStyle(this.inputBox,this.getOption().inputCss),this.inputBox.style.border="0px solid #FFFFFF",this.inputBox.style.resize="none",this.inputBox.style.textAlign=this.align):this.setStyle(this.inputBox,"editTextInputer"),null!=this.getOption().className&&""!==this.getOption().className&&this.addStyle(this.thisWindow,this.getOption().className),!0===this.getOption().hint){this.hintView=new t.ui.drop.poplistview(null,{height:300,width:200,idkey:this.getOption().idkey,capkey:this.getOption().capkey,showCount:this.getOption().showCount}),this._asynRun(function(){this.hintView.setParent(this.getModelBody())},100);var a=this;this.hintView.onSelect=function(t,e){a.setValue(e)},this.isArray(this.getOption().hintData)&&this.hintView.setItemList(this.getOption().hintData)}!0===this.getOption().underLine&&this.addStyle(this.thisWindow,"underLine"),this._ngmodel(),this.refresh()},setHintData:function(t){this.isArray(t)&&(this.getOption().hintData=t,!0===this.getOption().hint&&this.hintView.setItemList(this.getOption().hintData))},_afterRender:function(){this.base(),null!=this.getOption().defValue&&this.setValue(this.getOption().defValue)},setSize:function(t){this.isEmpty(t)||(this.size=t,this.inputBox.setAttribute("maxlengh",this.size))},isCtrlKey:function(t){return t>=this.keyBoard.Left&&t<=this.keyBoard.DOWN||t==this.keyBoard.ENTER},getPosition:function(t){var e=0;if(document.selection){t.focus();var i=document.body.createTextRange();i.moveToElementText(t);var n=document.selection.createRange();n.setEndPoint("StartToStart",i),e=n.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e},setPosition:function(t,e,i){if(null==i&&(i=e),document.selection)try{var n=t.createTextRange();n.moveEnd("character",-t.value.length),n.moveEnd("character",i),n.moveStart("character",e),n.select(),n=null}catch(t){this.logError("ERROR: "+this.getI18n("qzz.setPositionErr","设置选择位置报错")+t.message+t.stack)}else t.setSelectionRange(e,i),t.focus()},getSelText:function(t){var e="";if(document.selection){var i=t,n=document.selection.createRange();i.createTextRange().text.indexOf(n.text)>=0&&(e=n.text),i=null,n=null}else if(t.selectionStart||"0"==t.selectionStart){var s=t.selectionStart,o=t.selectionEnd;e=t.value.substr(s,o-s),s=null,o=null}return e},doFocus:function(t){if(!this.selectState){this.selectState=!0,this.base(t);var e=this.inputBox;setTimeout(function(){null!=e&&e.offsetWidth>0&&(e.focus(),e.select()),e=null},50)}},postValue:function(){var t=this.inputBox.value;!0===this.notnull&&""===t||("string"==typeof t&&!0===this.getOption().escape&&(t=this._tagToText(t)),null!=this.getOption().length&&this.getOption().length>0&&this.strLen(t)>this.getOption().length&&(t=this.subStr(t,this.getOption().length)),this.setValue(t))},doMouseOver:function(t){!1!==this.getOption().canClear&&!0!==this.getOption().disabled&&(this.clearBtn.style.display="")},doMouseOut:function(t){"none"!==this.clearBtn.style.display&&(this.clearBtn.style.display="none")},doBlur:function(t){this.selectState&&(this.postValue(),this.selectState=!1,this.base(t)),this.clearBtn.style.display="none"},doInput:function(t){var e=t||window.event,i=e.keyCode||e.charCode||e.which;if(e.ctrlKey&&i==this.ctrl.keyBoard.V&&this.ctrl.pasteKeyPress)return e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e.cancelBubble=!0,e.returnValue=!1),!1;if(i==this.ctrl.keyBoard.ENTER)return e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e.cancelBubble=!0,e.returnValue=!1),!1;this.ctrl._isChanged=!0;var n=this.ctrl;if(e.returnValue=!0,e.ctrlKey&&i!=n.keyBoard.CTRL)i!=n.keyBoard.C&&i!=n.keyBoard.V&&i!=n.keyBoard.X&&(e.returnValue=!1),i==n.keyBoard.V&&(n.paste=!0);else if(e.shiftKey&&i!=n.keyBoard.SHIFT)i!=n.keyBoard.END&&i!=n.keyBoard.HOME&&i!=n.keyBoard.C&&i!=n.keyBoard.V&&n.isCtrlKey(i)&&(e.returnValue=!1);else if(null!=n.size){var s=n.strLen(this.value);!((s-=n.getSelText(this).length)>=n.size)||i>=n.keyBoard.END&&i<=n.keyBoard.HOME||i==n.keyBoard.CTRL||20==i||i==n.keyBoard.BACKSPACE||i==n.keyBoard.DEL||n.isCtrlKey(i)||(e.returnValue=!1)}return e.returnValue},doKeyDown:function(t,e){if(t.ctrlKey&&e==this.keyBoard.V)return this.pasteKeyPress=!0,!0},doKeyUp:function(t,e){e==this.keyBoard.ENTER||e==this.keyBoard.UP||e==this.keyBoard.DOWN||e==this.keyBoard.LEFT||e==this.keyBoard.RIGHT||this.isCtrlKey(e)||null==this.inputBox.value||this._tmpInputValue===this.inputBox.value||(!0===this.getOption().hint&&this._doShowHintView(),this.trigger("onChange",[this.inputBox.value])),!0===this.getOption().hint&&e==this.keyBoard.F2&&this._doShowHintView(),this._tmpInputValue=this.inputBox.value,this.pasteKeyPress=!1},_doShowHintView:function(){null!=this.getContainer().parentElement&&(this.hintView.setWidth(this.getWidth()),this.hintView.clearFilter(),this.hintView.addFilter(this.inputBox.value),this.hintView.length()>1?(this.getAXY(),this.hintView.execute(this.getATop()+this.getHeight()-4,this.getALeft(),this.getHeight())):1==this.hintView.length()&&(this.hintView.getItem(0).text!==this.inputBox.value?(this.getAXY(),this.hintView.execute(this.getATop()+this.getHeight()-4,this.getALeft(),this.getHeight())):this.hintView.hide()))},hideHintView:function(){null!=this.hintView&&this.hintView.hide()},value:function(t){if(null==t)return this.getValue();this.setValue(t)},text:function(t){if(null==t)return this.getText();this.setText(t)},_getTextByValue:function(t){return t},clearValue:function(){if(!0!==this.getOption().disabled&&!0!==this.getOption().readOnly){var t=this.getValue(),e=this.getText();this.setValue(""),this._update&&("function"==typeof this.onClearValue&&this.onClearValue(t,e),this.trigger("onClearValue",[t,e]),"function"==typeof this.onChanged&&this.onChanged(this._value,this._text),"function"==typeof this.getOption().onChanged&&this.getOption().onChanged(this._value,this._text),this.trigger("onChange",[""]),this.trigger("onChanged",[""]));var i=this;setTimeout(function(){null!=i.inputBox&&i.inputBox.focus()},10)}},setValue:function(t){if(null==t&&(t=""),this._oldValue=this._value,this._tmpInputValue="","object"==typeof t)if("boolean"==typeof t[this.getOption().idkey]&&t[this.getOption().idkey]!==this._value||"boolean"!=typeof t[this.getOption().idkey]&&t[this.getOption().idkey]!=this._value||this.inputBox.value!=this._text||0===t[this.getOption().idkey]&&""===this._value||""===t[this.getOption().idkey]&&0===this._value){if(this._value=t[this.getOption().idkey],null!=t[this.getOption().capkey]?(this.inputBox.value=t[this.getOption().capkey],this._text=t[this.getOption().capkey]):(this.inputBox.value=this._value,this._text=this._value),null!=this.dataField){var e=this._value;this.isArray(e)&&(e=e.join(",")),this.getDataSource().getDataModel().get(this.dataField).value(e)}this._isChanged=!0,this.refresh(),this._update&&("function"==typeof this.onChanged&&this.onChanged(this._value,this._text),"function"==typeof this.getOption().onChanged&&this.getOption().onChanged(this._value,this._text),this.trigger("onChange",[this.inputBox.value]),this.trigger("onChanged",[this.inputBox.value]))}else this._value==t[this.getOption().idkey]&&this._text!=t[this.getOption().capkey]&&(this._text=t[this.getOption().capkey]);else(this._value!=t||0===this._value&&""===t||""===this._value&&0===t||this._text!=this.inputBox.value)&&(null==t&&(t=""),!0===this.multiSelect?"string"==typeof t&&t.indexOf(",")>=0?this._value=t.split(","):this.isArray(t)?this._value=t:this._value=[t]:this._value=t,this._text=this._getTextByValue(this._value),this.inputBox.value=this._text,null!=this.dataField&&(e=this._value,this.isArray(e)&&(e=e.join(",")),this.getDataSource().getDataModel().get(this.dataField).value(e)),this._isChanged=!0,this.refresh(),this._update&&("function"==typeof this.onChanged&&this.onChanged(this._value,this._text),"function"==typeof this.getOption().onChanged&&this.getOption().onChanged(this._value,this._text),this.trigger("onChange",[this.inputBox.value]),this.trigger("onChanged",[this.inputBox.value])));"function"==typeof this._updateDataModel&&this._updateDataModel();var i=this;setTimeout(function(){i._twoRefresh&&i.doContainerShow(),i=null},1e3)},doContainerShow:function(){if(null!=this.inputBox){this.inputBox.offsetWidth,this.inputBox.value=this.inputBox.value;var t=this.inputBox.parentNode,e=null;null!=t&&"string"==typeof t.className&&t.className.indexOf(".winStyle")>=0&&(e=t),null!=e&&this.addStyle(e,"winStyle")}null!=this.showHandle&&(clearInterval(this.showHandle),this.showHandle=null)},getValue:function(){var t=this.size;if(null==t&&(t=-1),"string"==typeof this._value){var e=encodeURI(this._value);"string"==typeof e&&e.indexOf("%C2%A0")>=0&&(e=e.replace(/%C2%A0/g,"%20"),this._value=decodeURI(e))}return t>0&&"string"==typeof this._value&&this._value.length>this.size?this._value.substr(0,t):this._value},setText:function(t){this._text=t,""===this._value&&this._value!==t&&(this._value=t,this._isChanged=!0),this.refresh()},getText:function(){return this._text},endUpdate:function(){this._update=!0,this._doResize(),this.refresh()},setAlign:function(t){this.align=t,this.refresh()},getAlign:function(){return this.align},setVAlign:function(t){this.valign=valign,this.refresh()},getVAlign:function(){return this.valign},setSelectState:function(t){this.selectState=t,this.refresh()},setBorder:function(t){t=t||0,this.thisWindow.style.border=t+"px"},setWidth:function(t){this.getWidth()!=t&&(this.base(t),this.refresh())},setHeight:function(t){this.getHeight()!=t&&(this.base(t),this.refresh())},refreash:function(){this.refresh()},refresh:function(){if(this._update){this.thisWindow.style.align!=this.align&&(this.thisWindow.style.align=this.align),this.thisWindow.style.verticalAlign!=this.valign&&(this.thisWindow.style.verticalAlign=this.valign),this._setHtml(this.thisWindow,"",!1);var t=this._text;this.isArray(t)&&(t=t.join(",")),this.inputBox.value=t,"string"==typeof this.inputBox.value&&(this.inputBox.value=this._textToTag(this.inputBox.value),!0===this.getOption().showHint&&this.inputBox.setAttribute("title",this.inputBox.value)),null!=this._value&&""!==this._value&&null!=this.getOption().alwaysText&&(this.inputBox.value=this.getOption().alwaysText),/\d+%$/.test(this.thisWindow.style.width)?this.inputBox.style.width="100%":this.inputBox.style.width=this.getWidth()+"px",this.inputBox.style.height=this.getHeight()-1+"px",!1===this._enabled&&this.inputBox.setAttribute("disabled",!this._enabled),!0!==this.getOption().disInput&&!0!==this.getOption().readOnly||(this.inputBox.setAttribute("readOnly",!0),!0===this.getOption().readOnly?(this.addStyle(this.thisWindow,"readOnly"),this.addStyle(this.inputBox,"readOnly")):(this.delStyle(this.thisWindow,"readOnly"),this.delStyle(this.inputBox,"readOnly")));var e=(this.getHeight()-this.getNumberValue(this.getOption().fontSize,this.getOption().defFontSize))/2-2;e>8&&(e=8),this.inputBox.style.paddingTop=e+"px",this.thisWindow.appendChild(this.inputBox),this.thisWindow.appendChild(this.clearBtn),this.clearBtn.innerHTML="x",this.clearBtn.style.bottom=e+2+"px",this.getOption().underLine?this._enabled?(this.delStyle(this.thisWindow,"underline_disabled"),this.delStyle(this.inputBox,"underline_disabled")):(this.addStyle(this.thisWindow,"underline_disabled"),this.addStyle(this.inputBox,"underline_disabled")):this._enabled?(this.delStyle(this.thisWindow,"disabled"),this.delStyle(this.inputBox,"disabled")):(this.addStyle(this.thisWindow,"disabled"),this.addStyle(this.inputBox,"disabled"))}},getInitData:function(){return null!=this.option.data&&this.isArray(this.option.data)?this.option.data:[]},initValue:function(t){this.setValue(t)},disable:function(t){null==t&&(t=!0),this._enabled=!t,this.getOption().disabled=t,this.refresh()},enable:function(t){null==t&&(t=!0),this._enabled=t,this.getOption().disabled=!t,this.refresh()},mergeChangeLog:function(){this._isChanged=!1},isChanged:function(){return this._isChanged},readonly:function(t){null==t&&(t=!0),this.getOption().readOnly=t,this.refresh()},getReadOnly:function(){return!0===this.getOption().readOnly},setReadOnly:function(t){this.readonly(t)},setDisInput:function(t){null==t&&(t=!0),this.getOption().disInput=t,this.refresh()},setIdkey:function(t){this.getOption().idkey=t},getInputValue:function(){return this.inputBox.value},getPopState:function(){return!0===this.getOption().hint&&(!0===this.hintView.isShow()?!0===this.hintView.isMouseOver()?this._popState=!0:(this._popState=!1,this.hintView.hide()):this._popState=!1),this._popState},setPopState:function(t){this._popState=t},setCanClear:function(t){this.getOption().canClear=t},modelData:function(t){this.getOption().modelData=t,this._ngmodel()},_ngmodel:function(){if(null!=this.getOption().modelData){var t=this.getOption()["v-model"]||this.getOption()["ng-model"];if(null!=t&&""!==t){for(var e=t.split("."),i=this.getOption().modelData,n=0,s=!0,o=e.length;n<o-1;n++){var l=e[n];if(null==i[l]&&(i[l]={}),null==i[l]){s=!1;break}i=i[l]}if(s){l=e[n];var r=this,a=i[l];Object.defineProperty(i,l,{enumerable:!0,configurable:!0,set:function(t){r.setValue(t)},get:function(){var t=r.getValue();return""===t&&null==a&&(t=void 0),""!==t&&" "!==t||(t=null),t}}),null!=a&&""!==a?r.setValue(a):r.setValue(""),r._updateDataModel=function(){a!==r._value&&(null==i._oldValue&&(i._oldValue={}),(null!=a&&(null==i._oldValue[l]||a!==r._value)||null==a&&""!==r._value&&null!=r._value)&&(i._oldValue[l]=a,0==(4&i.modelState)&&(i.modelState=8|i.modelState)))}}}}}}),_bindRenderFunc("qzzedit",t.ui.input.edit),t.ui.input.edit}),
/*!
 * 数值输入控件.
 * ecp.qzz.ui.input.number.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.iedit"],function(){var t=window.qzz;return t.space("ui.input"),t.ui.input.number=t.Class(t.ui.input.edit,{_create:function(){this.base(),this.className="Number",this.logInfo("number.create"),this.dataScale=this._getNumberValue(this.getOption().scale,0),this.size=this._getNumberValue(this.getOption().size||this.getOption().length,15),this.numUnit=1,this._maxValue=null,this._minValue=null,null!=this.getOption().maxValue&&(this._maxValue=parseInt(this.getOption().maxValue,10)),null!=this.getOption().minValue&&(this._minValue=parseInt(this.getOption().minValue,10))},_render:function(){this.base(),this.logInfo("number.render"),this.inputBox.onkeydown=this.doInput,this.inputBox.onkeyup=this.doInputerKeyUp},setMinValue:function(t){this._minValue=t},setMaxValue:function(t){this._maxValue=t},setDataScale:function(t){this.dataScale=t,this.getOption().scale=t},setFormatStr:function(t){this.format=t},setNumUnit:function(t){this.numUnit=t},isNumberKey:function(t){return t>=96&&t<=105||t>=48&&t<=57},numberLimitKey:function(t){return!(!this.isNumberKey(t)&&110!=t&&109!=t&&189!=t&&190!=t&&229!=t||111==t||106==t||107==t)},postValue:function(){var t=this.inputBox.value;isNaN(t)&&(t=""),""===t&&!0===this.notnull||(this.isEmpty(t)||(t="9999999999999999"===t?1e16:parseFloat(t,10)),this.setValue(t))},getValue:function(){var t=this.base();return""!==t&&(this.isEmpty(t)?t=0:"string"==typeof t&&(t=parseFloat(t,10))),t},setValue:function(t){if("object"==typeof t){var e=t[this.getOption().idkey];if("string"==typeof e&&""!==(e=e.replace(/[,%‰]/g,""))&&(e=parseFloat(e,10)),e!=this._value||""===e&&0===this._value||0===e&&""===this._value){if(this._value=e,null!=t[this.getOption().capkey]){var i=t[this.getOption().capkey]+"";this.inputBox.value=i.replace(/[,%‰]/g,""),this._text=this.inputBox.value,1==this.numUnit&&null!=e&&""!==e&&e!=this.inputBox.value&&(this.inputBox.value=e,this._text=e)}else null!=e&&""!==e?(""==typeof this._value&&(this._value=this._value.replace(/[,%‰]/g,""),""!==this._value&&(this._value=parseFloat(this._value,10))),this.inputBox.value=this.round(this._value/this.numUnit,this.dataScale||0),this._text=this.inputBox.value):(this.inputBox.value="",this._text="");this._isChanged=!0,this.refresh(),"function"==typeof this.onChanged&&this._update&&this.onChanged(this._value,this._text)}}else(this._value!=t||1!=this.numUnit&&null!=this.numUnit||""===t&&0===this._value||0===t&&""===this._value)&&(""!==t?(this._value=this.round(t*this.numUnit,this.dataScale||0),this.inputBox.value=t,this._text=this.inputBox.value,this._isChanged=!0,this.refresh()):(this._value="",this._text="",this.inputBox.value=""),"function"==typeof this.onChanged&&this._update&&this.onChanged(this._value,this._text));null!=this.numUnit&&null!=this._value&&""!==this._value&&(this.numUnit=parseFloat(this.numUnit,10),"string"==typeof this._value&&(this._value=this._value.replace(/[,%‰]/g,""),""!==this._value&&(this._value=parseFloat(this._value,10))),this._text=this.round(this._value/this.numUnit,this.dataScale||0),this.inputBox.value=this._text,this.refresh())},_getAfterValue:function(t,e,i,n){if((187==i||107==i||189==i||109==i)&&0==e&&t.indexOf("-")<0)return"-"+t;if(i>=48&&i<=57)i-=48;else{if(!(i>=96&&i<=105))return t;i-=96}var s=t+"";return null==n||""===n?s.substring(0,e)+i+s.substring(e,s.lenvth):s.replace(n,i)},doInput:function(t){var e=t||window.event,i=e.keyCode||e.charCode||e.which,n=this.ctrl;if(e.returnValue=!0,e.ctrlKey&&17!=i)67!=i&&86!=i&&88!=i&&(e.returnValue=!1),86==i&&(n.paste=!0);else if(e.shiftKey&&16!=i)35==i||36==i||67==i||86==i||n.isCtrlKey(i)||(e.returnValue=!1);else{if(null==n.size&&(n.size=15),null==n.dataScale&&(n.dataScale=0),0==n.dataScale&&110==i)return e.returnValue=!1,!1;n.size>16&&(n.size=16);var s=this.value.length,o=n.size-n.dataScale,l=n.getPosition(this),r=this.value.indexOf("."),a=n.getSelText(this);if((null!=n._maxValue&&""!==n._maxValue||null!=n._minValue&&""!==n._minValue)&&8!=i&&46!=i){0!==n._minValue||189!=i&&109!=i||(e.returnValue=!1);var h=n._getAfterValue(this.value,l,i,a);if(null!=n._maxValue&&""!==n._maxValue&&h>n._maxValue?e.returnValue=!1:null!=n._minValue&&""!==n._minValue&&h<n._minValue&&(e.returnValue=!1),0==e.returnValue&&h!=this.value)return e.returnValue}if(109==i||189==i||173==i)(l>0||this.value.indexOf("-")>=0)&&(e.returnValue=!1);else if(i>=35&&i<=36||17==i||20==i||8==i||46==i||n.isCtrlKey(i))8==i||46==i?a.length>0&&a.indexOf(".")>=0&&o<s-a.length?e.returnValue=!1:s-1>o&&(r==l&&46==i?e.returnValue=!1:r+1==l&&8==i&&(e.returnValue=!1)):13!=i&&9!=i||(e.returnValue=!1);else{e.returnValue=n.numberLimitKey(i);var c=this.value.split(".");if(2==c.length)if(a.length>0&&a.indexOf(".")>=0&&o<=s-a.length)e.returnValue=!1;else if(c[0].length>=o&&c[1].length>=n.dataScale)0==a.length&&(e.returnValue=!1);else{var u=this.value.indexOf(".");(c[0].length>=o&&l<=u||c[1].length>=n.dataScale&&l>u)&&0==a.length&&(e.returnValue=!1),u=null}else s>=o&&110!=i&&190!=i&&""===a&&(e.returnValue=!1);c=null}s=null,o=null,a=null,l=null}return e.returnValue&&(n._isChanged=!0),n=null,e.returnValue},doInputerKeyUp:function(t){var e=t||window.event,i=e.keyCode||e.charCode||e.which,n=this.ctrl;n.paste&&i==n.keyBoard.V&&(value=this.value,value.indexOf(/[\n\t]/)<0&&(value=value.replace(/[,%‰]/g,""),isNaN(value)?(n.tmpValue=value,this.value=""):this.value=value)),this.value=this.value.replace(/[^0-9.-]/g,""),n.paste=!1}}),_bindRenderFunc("qzznumber",t.ui.input.number),t.ui.input.number}),
/*!
 * 数值输入控件.
 * ecp.qzz.ui.input.updown.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.inumber","qzz.button"],function(){var t=window.qzz;return t.space("ui.input"),t.ui.input.updown=t.Class(t.ui.input.number,{_create:function(){this.base(),this.className="Updown",this.logInfo("Updown.create"),this._button=this.createElement("DIV"),this.upBtn=new t.ui.button(void 0,{cssPrefix:this._cssPrefix}),this.upBtn.setWidth(20),this.upBtn.addStyle("componet_ui_input_up_common"),this.downBtn=new t.ui.button(void 0,{cssPrefix:this._cssPrefix}),this.downBtn.setWidth(20),this.downBtn.setTop(10),this.downBtn.addStyle("componet_ui_input_down_common"),this.getOption().loop=this.getBooleanValue(this.getOption().loop,!1);var e=this;this._lockLength=0,null!=this.getOption().lockLength&&""!==this.getOption().lockLength&&(this._lockLength=parseInt(this.getOption().lockLength,10)),this.upBtn.bind("onclick",function(){if(!0!==e.getOption().disabled&&!0!==e.getOption().readOnly){e.postValue();var t=e.getValue();e.upValue();var i=e.getValue();return e.trigger("onclick",[e,t,i,i<t]),!1}}),this.downBtn.bind("onclick",function(){if(!0!==e.getOption().disabled&&!0!==e.getOption().readOnly){e.postValue();var t=e.getValue();e.downValue();var i=e.getValue();return e.trigger("onclick",[e,t,i,i>t]),!1}})},_render:function(){this.base(),this.logInfo("Updown.render"),null!=this._value&&""!==this._value||this.setValue(0),this.refresh()},upValue:function(){var t=this.getValue(),e=t;null!=t&&""!==t||(t=0),null==this.getOption().maxValue||t<this.getOption().maxValue?t++:this.getOption().loop&&null!=this.getOption().minValue&&(t=this.getOption().minValue),this.setValue(t),this.trigger("onchange",[this,e,t,t<e]),this.refresh()},downValue:function(){var t=this.getValue(),e=t;null!=t&&""!==t||(t=0),null==this.getOption().minValue||t>this.getOption().minValue?t--:this.getOption().loop&&null!=this.getOption().maxValue&&(t=this.getOption().maxValue),this.trigger("onchange",[this,e,t,t>e]),this.setValue(t),this.refresh()},setMaxValue:function(t){this.getOption().maxValue=t},setMinValue:function(t){this.getOption().minValue=t},refresh:function(){if(this._lockLength>0){for(var t="",e=(this._text+"").length;e<this._lockLength;e++)t+="0";this._text=t+this._text}this.base(),this.setStyle(this._button,"componet_ui_input_updown"),this.inputBox.style.width=this.getOption().width-21+"px";var i=(this.getOption().height-20)/2;this._button.style.top=i+"px",this.upBtn.setParent(this._button),this.downBtn.setParent(this._button),this.upBtn.refresh(),this.downBtn.refresh(),this.thisWindow.appendChild(this._button),this.clearBtn.style.right="20px"},doMouseWheel:function(t,e){!1!==this.getOption().wheel&&(this.postValue(),e>0?this.upValue():this.downValue())},setLockLength:function(t){this._lockLength=t}}),_bindRenderFunc("qzzupdown",t.ui.input.updown),t.ui.input.updown}),
/*!
 * 远光ECP平台3.4版本 
 * 
 * 复选择框.：qzz.ui.input.checkbox
 * ecp.qzz.ui.input.checkbox.js
 * @requires qzz.ui
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.window"],function(){var t=window.qzz;return t.space("ui.input"),t.ui.input.checkbox=t.Class(t.ui.window,{_create:function(){this.className="CheckBox",this.base(),this.getOption().width=this.getNumberValue(this.getOption().width,20),this.getOption().height=this.getNumberValue(this.getOption().height,30),this.getOption().height<16&&(this.getOption().height=16),this.getOption().borderWidth=0,this.getOption().text=this.getOption().text||this.getOption().caption||"",this.getOption().checked=!0===this.getOption().checked,this.getOption().disabled=!0===this.getOption().disabled;var t=this.getOption().checkboxCss;if(t&&"string"==typeof t){var e=t.split(" ");this.getOption().checkboxCss=[];for(var i=0,n=e.length;i<n;i++)e[i]&&this.getOption().checkboxCss.push(e[i])}this.getOption().checkboxCss=this.getOption().checkboxCss||["qzz_checked","qzz_unchecked","qzz_somechecked"];var s=this.getOption().radioCss;if(s&&"string"==typeof s)for(e=s.split(" "),this.getOption().radioCss=[],i=0,n=e.length;i<n;i++)e[i]&&this.getOption().radioCss.push(e[i]);this.getOption().radioCss=this.getOption().radioCss||["qzz_radio_checked","qzz_radio_unchecked","qzz_radio_somechecked"],this.getOption().somechecked=!0===this.getOption().somechecked,this.getOption().type=this.getOption().type||"checkBox"},addToRadioList:function(){var e=this.thisWindow.getAttribute("name");null!=e&&""!==e&&(null==t.ui.input._radioList&&(t.ui.input._radioList={}),null==t.ui.input._radioList[e]&&(t.ui.input._radioList[e]=[]),t.ui.input._radioList[e].push(this))},delFromRadioList:function(){var e=this.thisWindow.getAttribute("name");if(null!=e&&""!==e){null==t.ui.input._radioList&&(t.ui.input._radioList={}),null==t.ui.input._radioList[e]&&(t.ui.input._radioList[e]=[]);for(var i=t.ui.input._radioList[e],n=0,s=i.length;n<s;n++)if(i[n].index==this.index){i.splice(n,1);break}}},uncheckOtherRadio:function(){var e=this.thisWindow.getAttribute("name");if(null!=e&&""!==e){null==t.ui.input._radioList&&(t.ui.input._radioList={}),null==t.ui.input._radioList[e]&&(t.ui.input._radioList[e]=[]);for(var i=t.ui.input._radioList[e],n=0,s=i.length;n<s;n++){var o=i[n];o.index!=this.index&&!0===o.getCheck()&&(o.setCheck(!1),o.trigger("onClick",[o.getOption().checked]))}}},_render:function(){var t=null;null!=this.control&&(t=this.control.getAttribute("placeholder")),this.control&&"INPUT"===this.control.tagName&&this.replaceToDiv(),t=t||this.getOption().placeholder,this.base(),this._tab=this.createElement("TABLE");var e=this.thisWindow.innerHTML;this.thisWindow.innerHTML="",this.getOption().width<16&&(this.getOption().width=16,this.thisWindow.style.width=""),this.thisWindow.style.top="2px",this.addStyle(this.thisWindow,"checkBoxDiv"),this.thisWindow.appendChild(this._tab),this.setStyle(this._tab,"checkBoxTab");var i=this._tab.insertRow(0);this.checkBoxTd=i.insertCell(0),this.setStyle(this.checkBoxTd,"checkBoxTd"),this.checkBoxDiv=this.createElement("DIV"),this.checkBoxTd.appendChild(this.checkBoxDiv),this.setStyle(this.checkBoxDiv,"qzz_unchecked");var n=this;this.checkBoxDiv.onmousedown=function(){n.click()},this.textTd=i.insertCell(1),null!=this.getOption().text&&""!==this.getOption().text||(this.getOption().text=e),this.textTd.onmouseup=function(){n.click()},this.setStyle(this.textTd,"qzz_check_text"),"radio"==this.getOption().type&&this.addToRadioList(),this.refresh()},click:function(){!0!==this.getOption().disabled&&("checkBox"==this.getOption().type||"radio"==this.getOption().type&&!0!==this.getOption().checked||!0!==this.getOption().checked&&!0===this.getOption().somechecked)&&(this.getOption().checked=!(!0===this.getOption().checked),this.getOption().somechecked=!1,this.refresh(),this.trigger("onClick",[this.getOption().checked]),"radio"===this.getOption().type&&this.uncheckOtherRadio())},refresh:function(){var t=1;!0===this.getOption().checked&&(t=0),"checkBox"===this.getOption().type&&!0===this.getOption().somechecked&&(t=2),"checkBox"===this.getOption().type?this.setStyle(this.checkBoxDiv,this.getOption().checkboxCss[t]):this.setStyle(this.checkBoxDiv,this.getOption().radioCss[t]),null!=this.getOption().text&&""!==this.getOption().text?(this.textTd.style.display="",this.textTd.innerHTML=this.getOption().text,this.thisWindow.style.width=""):(this.textTd.style.display="none",this.thisWindow.style.width="16px"),!0===this.getOption().disabled&&(this.addStyle(this.textTd,"disabled"),this.addStyle(this.checkBoxDiv,"disabled"))},getValue:function(){return this.value()},setValue:function(t){this.value(t),this.refresh()},setText:function(t){this.getOption().text=t,this.refresh()},setDisable:function(t){this.getOption().disabled=!0===t,this.refresh()},getDisable:function(){return!0===this.getOption().disabled},setCheck:function(t){this.value(t)},getCheck:function(){return this.value()},setSomeCheck:function(t){this.getOption().somechecked=!0===t,this.getOption().somechecked&&(this.getOption().checked=!1),this.refresh()},setType:function(t){this.getOption().type=t||"checkBox","radio"===this.getOption().type?this.addToRadioList():this.delFromRadioList(),this.refresh()},getType:function(){return this.getOption().type},value:function(t){if(null==t)return this.getOption().checked;this.getOption().checked=!0===t,this.getOption().somechecked=!1,this.refresh()}}),_bindRenderFunc("qzzcheckbox",t.ui.input.checkbox),t.ui.input.checkbox}),
/*!
 * 下拉框控件.
 * ecp.qzz.ui.input.combobox.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.iedit","qzz.plistview"],function(){var t=window.qzz;return t.space("ui.input"),t.ui.input.combobox=t.Class(t.ui.input.edit,{_create:function(){this.base(),this.className="ComboBox",this.logInfo("select.create"),this.button=this.createElement("span"),this.caret=this.createElement("span"),this.keySelect=!0,this.multiSelect=!1,this.changeState=!0,this._valText=null,this.multiSelect=this.getBooleanValue(this.getOption().multiple,!1),this.multiSelect=this.getBooleanValue(this.getOption().multiSelect,this.multiSelect),this.selectAll=this.getBooleanValue(this.getOption().selectAll,this.selectAll),this.getOption().search=this.getBooleanValue(this.getOption().search,!1),this.getOption().more=this.getBooleanValue(this.getOption().more,!1)},_render:function(){this.base(),this.logInfo("select.render"),this.setStyle(this.button,"componet_ui_input_dropBotton");var t=this.getOption().viewType;if("image"==t||"imageText"==t){var e=this.getHeight()-4+"px";this._image=this.createElement("span"),this._image.style.dispaly="block",this._image.style.height=e,this._image.style.width=e,this._image.style.margin="1px",this._image.style.textAlign="center",this._image.style.backgroundColor="#DCF1F3","imageText"==t&&(this._image.style.display="none",0!=this.getOption().readOnly&&this.readonly(!0))}this.setStyle(this.caret,"dropButton_caret"),this.button.appendChild(this.caret),"#FFFFFF"!==this.getOption().color&&"white"!==this.getOption().color||this.addStyle(this.caret,"white");var i=this;if(null!=this.getOption().data&&!0===this.multiSelect){var n=this.getOption().data;this._value=[],this._text=[];for(var s=0,o=n.length;s<o;s++)n[s].checked&&(this._value.push(n[s][this.getOption().idkey]),this._text.push(n[s][this.getOption().capkey]))}if(null==this.getOption().width||/\d+%$/.test(this.getOption().width)||this.setWidth(parseInt(this.getOption().width,10)),this.inputBox.onkeydown=this.doInput,this.inputBox.onkeyup=this.doInputerKeyUp,this._clickIndex=0,this.button.onclick=function(){i._enabled&&!0!==i.getOption().readOnly&&i._clickIndex%2==0&&(null!=i.popListView&&i.popListView.clearFilter(),i.hasSelect=!0,i._doDropList(),i.selectState=!0),i._clickIndex++},this._value&&0!=this._value.length){this.initData=this.extend([],this.getOption().data);var l={};l[this.getOption().idkey]=this._value,l[this.getOption().capkey]=this._text,this.setValue(l)}},getInitData:function(){if(this.isEmpty(this.option.data)&&1!=this.hasInitSys){var t=this.initSysData();this.hasInitSys=!0,this.isArray(t)&&(this.option.data=t)}var e=this.option.data,i=this.option.needData;return this.isArray(i)&&i.length>0&&(e=null!=this.option.data?i.concat(this.option.data):i),e},value:function(t){if(null==t){var e=this.getValue();if(this.selectAll&&e&&"all"===e[0]){var i=this.getData();e=[];for(var n=0,s=i.length;n<s;n++)0===n&&"all"==i[n][this.getOption().idkey]||i[n].checked&&(e[e.length]=i[n][this.getOption().idkey])}return this.isArray(e)&&(e=e.join(",")),e}var o="";this.multiSelect&&(t=t.split(/[,，]+/g));var l=this.option.needData;if(!this.multiSelect&&this.isArray(l)&&l.length>0){s=0;for(var r=l.length;s<r;s++)if(l[s][this.getOption().idkey]==t){o=l[s][this.getOption().capkey];break}if(""!==o)return(a={})[this.getOption().idkey]=t,a[this.getOption().capkey]=o,void this.base(a)}var a,h=this.getInitData();if(this.isArray(h))if(r=h.length,this.isArray(t)){o=[],n=0;for(var c=t.length;n<c;n++)for(s=0;s<r;s++)if(h[s][this.getOption().idkey]==t[n]){o.push(h[n][this.getOption().capkey]);break}}else for(n=0;n<r;n++)if(h[n][this.getOption().idkey]==t){o=h[n][this.getOption().capkey];break}(a={})[this.getOption().idkey]=t,a[this.getOption().capkey]=o,this.base(a)},text:function(t){if(null==t){var e=this.getText();return"number"==typeof e?e+="":this.isArray(e)&&(e=e.join(",")),e}this.setText(t)},initSysData:function(){return this.option.data},doBlur:function(t){null!=this.popListView&&this.popListView.isShow()||this.base(),null!=this.popListView&&(this.popListView.isFocus()?this._clickIndex=0:this.popListView.setBlur())},getPopState:function(){var t=!1;return!0===this.base()?t=!0:null!=this.popListView&&!0===this.popListView.isShow()&&(t=!0),t},_createPopObject:function(){if(this.isEmpty(this.popListView)){var e=this.getInitData();this.popListView=new t.ui.drop.poplistview(void 0,{cssPrefix:this._cssPrefix,data:e,selectAll:this.selectAll,search:this.getOption().search,more:this.getOption().more,multiSelect:this.multiSelect,fontSize:this.getOption().fontSize,idkey:this.getOption().idkey,capkey:this.getOption().capkey,radius:this.getOption().radius,rowHeight:this.getOption().rowHeight,showCount:this.getOption().showCount,viewType:this.getOption().viewType});var i=this;this.popListView.bind("onMoreClick",function(){i.hasbind("onMoreClick")&&i.trigger("onMoreClick",[])}),this.popListView.bind("onFilter",function(t,e){var n=null;return i.hasbind("onFilter")&&(n=i.trigger("onFilter",[t,e])),n}),this.popListView.onSelect=function(t,e){var n=e[i.getOption().idkey];null==n&&(n=e[i.getOption().capkey]);var s=e[i.getOption().capkey],o=n;if(this.multiSelect){var l=this.getSelect();if(n=[],s=[],i.selectAll)if(i.selectAll&&"all"==o&&l.length>0)n[0]=o,s[0]="("+this.getI18n("qzz.all","全部")+")";else{for(var r=this.view.list.getItemList(),a=0,h=0,c=r.length;h<c;h++)r[h].disabled&&!r[h].checked||a++;if(l.length!=a){h=0;for(var u=l.length;h<u;h++)0===h&&"all"===l[h][i.getOption().idkey]||(n[h]=l[h][i.getOption().idkey],s[h]=l[h][i.getOption().capkey])}else n[0]="all",s[0]="("+this.getI18n("qzz.all","全部")+")"}else for(h=0,u=l.length;h<u;h++)n[h]=l[h][i.getOption().idkey],s[h]=l[h][i.getOption().capkey]}var d={};if(d[i.getOption().idkey]=n,d[i.getOption().capkey]=s,i.setValue(d),i.popListView.clearFilter(),i.multiSelect||i.popListView.hide(),i.setFocus(),"function"==typeof i.onSelect)try{i.onSelect(t,e)}catch(t){i.logError("[onSelect]ERR:"+t.message)}i.trigger("onSelect",[t,e]),i.inputBox.focus(),i.setPosition(i.inputBox,i.inputBox.value.length),"image"!=i.getOption().viewType&&"imageText"!=i.getOption().viewType||(i._image.style.display="block")},this.popListView.onHide=function(){if(i._popState=!1,"function"==typeof i.onHide)try{i.onHide()}catch(t){i.logError("[onHide]ERR:"+t.message)}},this.popListView.setParent(this.getModelBody())}else this.changeState&&(e=this.getInitData(),this.popListView.setItemList(e));this.changeState=!1},refreash:function(){this.refresh()},setParent:function(t,e){this.base(t,e),this._clickIndex=0},refresh:function(){this.base();var t=this;this.inputBox.style.width=100-21/this.getWidth()+"%",this.thisWindow.appendChild(this.button),this.button.appendChild(this.caret),this.clearBtn.style.right="20px",this.caret.style.top=this.getHeight()/2-2+"px",!0!==this.getOption().disInput?this.inputBox.onclick=function(e){e=e||event,"function"==typeof t.onEditClick&&t.onEditClick(e)}:(this._clickIndex=0,this.inputBox.onclick=function(){t._enabled&&!0!==t.getOption().readOnly&&t._clickIndex%2==0&&(null!=t.popListView&&t.popListView.clearFilter(),t.hasSelect=!0,t._doDropList(),t.selectState=!0),t._clickIndex++});var e=this.getOption().viewType;"image"!=e&&"imageText"!=e||null==this._image||(this.imgElement=this.createElement("img"),this._image.innerHTML="",this._image.appendChild(this.imgElement),t.inputBox.style.width=t.inputBox.offsetWidth-51+"px","imageText"==e?(t=this,this._image.style.float="left"):this.inputBox.style.display="none",this._image!==this.thisWindow.childNodes[0]&&this.thisWindow.insertBefore(this._image,this.thisWindow.childNodes[0]),this.imgElement.onload=function(){this.offsetWidth>this.offsetHeight?(this.style.width="100%",this.style.marginTop=t._image.offsetHeight/2-this.offsetHeight/2+"px"):this.style.height="100%"},this.imgElement.onerror=this._image.onload,this.imgElement.setAttribute("src",this._value))},doMouseUp:function(t){this.base(t),this._enabled&&!0===this.getOption().readOnly&&!0===this.hasSelect&&(null!=this.popListView&&this.popListView.clearFilter(),this.hasSelect=!0,this._doDropList(),this.selectState=!0)},setWidth:function(t){this.base(t),t<150&&(t=150)},setSearch:function(t){this.getOption().search=this.getBooleanValue(t,!1)},setMore:function(t){this.getOption().more=this.getBooleanValue(t,!1)},doKeyUp:function(t,e){this.base(t,e),"IE"!==this.getBrowser()&&(this.inputBox.focus(),e===this.keyBoard.UP?this.setPosition(this.inputBox,this.inputBox.value.length):e===this.keyBoard.ENTER&&(null==this.popListView||this.popListView.isShow()||this.postValue()))},doKeyDown:function(t,e){if(this.base(t,e),this._createPopObject(),!this.popListView.isShow())if(e===this.keyBoard.F2)null!=(i=this.popListView.getItem())&&i[this.getOption().idkey]==this._value||this.popListView.setSelect(this._value),this.button.onclick();else if(this.keySelect&&e===this.keyBoard.UP&&!this.multiSelect)null!=(i=this.popListView.getItem())&&i[this.getOption().idkey]==this._value||this.popListView.setSelect(this._value),this.popListView.prior(),null!=(n=this.popListView.getItem())&&(null==(s=n[this.getOption().idkey])&&(s=n[this.getOption().capkey]),(o={})[_this.getOption().idkey]=s,o[_this.getOption().capkey]=n[_this.getOption().capkey],this.setValue(o)),n=null;else if(this.keySelect&&e===this.keyBoard.DOWN&&!this.multiSelect){var i,n,s,o;null!=(i=this.popListView.getItem())&&i[this.getOption().idkey]==this._value||this.popListView.setSelect(this._value),this.popListView.next(),null!=(n=this.popListView.getItem())&&(null==(s=n[this.getOption().idkey])&&(s=n[this.getOption().capkey]),(o={})[this.getOption().idkey]=s,o[this.getOption().capkey]=n[this.getOption().capkey],this.setValue(o)),n=null}else e===this.keyBoard.ENTER&&(this.popListView.isShow()?this.popListView.selectIndex<0&&this.popListView.hide():(this.popListView.setBlur(),this.button.onclick()))},postValue:function(){this._createPopObject();var t=this.inputBox.value;if(!0!==this.notnull||""!==t)if("string"==typeof t&&!0===this.getOption().escape&&(t=this._tagToText(t)),t.indexOf(",")<0){if(t!=this._text||1!=this.multiSelect){var e=this.popListView.indexOfText(t);if(e<0)if("imageText"==this.getOption().viewType&&(this._image.style.display="none"),!0===this.getOption().filterOnly&&""!==t)this.inputBox.value=this._text;else{var i=this.initData,n=[],s=[];if(i)for(var o=0,l=i.length;o<l;o++)i[o].disabled&&i[o].checked&&(n[n.length]=i[o][this.getOption().idkey],s[s.length]=i[o][this.getOption().capkey]);g={},0===n.length?(g[this.getOption().idkey]=t,g[this.getOption().capkey]=t,this.setValue(g)):(g[this.getOption().idkey]=n,g[this.getOption().capkey]=s,this.setValue(g))}else{var r=this.popListView.getItem(e),a=r[this.getOption().idkey];null==a&&(a=r[this.getOption().capkey]),(g={})[this.getOption().idkey]=a,g[this.getOption().capkey]=r[this.getOption().capkey],this.setValue(g),r=null}}}else{var h=t;if(this.isArray(h)&&(h=h.join(",")),1!=this.multiSelect||this._text!=h){for(var c=this.popListView.setSelectByText(t),u=[],d=[],p=(o=0,c.length);o<p;o++)u.push(c[o][this.getOption().idkey]),d.push(c[o][this.getOption().capkey]);var g;(g={})[this.getOption().idkey]=u,g[this.getOption().capkey]=d,this.setValue(g)}}},_getTextByValue:function(t){if(""===t||null==t)return"";if(this.isEmpty(this._valText)){this._valText={};var e=!1;if(this.isArray(this.option.needData)){for(var i=this.option.needData.length,n=0;n<i;n++)"object"==typeof(s=this.option.needData[n])?null!=s[this.getOption().idkey]?this._valText[s[this.getOption().idkey]]=s[this.getOption().capkey]||s[this.getOption().idkey]:this._valText[s[this.getOption().capkey]]=s[this.getOption().capkey]:s&&(this._valText[s]=s);e=i>0}if(null==this._valText[t]&&this.isEmpty(this.option.data)&&this.getData(),this.isArray(this.option.data)){for(i=this.option.data.length,n=0;n<i;n++){var s;"object"==typeof(s=this.option.data[n])?null!=s[this.getOption().idkey]?this._valText[s[this.getOption().idkey]]=s[this.getOption().capkey]||s[this.getOption().idkey]:this._valText[s[this.getOption().capkey]]=s[this.getOption().capkey]:this._valText[s]=s}e=e||i>0}if(0==e)return t}var o=this._valText[t];return o||(o=t),o},doInput:function(t){this.base(t)},_doDropList:function(){if(this.hasInitSys=!1,this._createPopObject(),null!=this.option.data&&0!==this.option.data.length||null!=this.option.needData&&0!==this.option.needData.length){this.popListView.logInfo("click");var t=this.getNumberValue(this.getOption().popMinWidth,10);if(t>this.getWidth()?this.popListView.setWidth(t):this.popListView.setWidth(this.getWidth()),this.popListView.setSelectAll(this.selectAll),this.multiSelect&&this.popListView.clearSelectAll(),this.popListView.setSelectByText(this.getText()+""),this.getAXY(),this.popListView.execute(this.getATop()+this.getHeight()-4,this.getALeft(),this.getHeight()),this._popState=!0,"function"==typeof this.onDrop)try{this.focus=!1,this.onDrop(this)}catch(t){this.logError("[onDrop]ERR:"+t.message)}}},doInputerKeyUp:function(t){var e=this.ctrl,i=(t=t||window.event).keyCode||t.charCode||t.which;if(i===e.keyBoard.ENTER||i===e.keyBoard.UP||i===e.keyBoard.DOWN||i===e.keyBoard.LEFT||i===e.keyBoard.RIGHT||i===e.keyBoard.F2||i===e.keyBoard.ESC||i===e.keyBoard.TAB||t.ctrlKey||i===e.keyBoard.CTRL||!0===e.getOption().readOnly)return t.returnValue=!1,!1;if(i==e.keyBoard.DEL&&!0!==e.getOption().notnull)return e._value="",e._text="",e.inputBox.value="",t.returnValue=!1,!1;if(e._createPopObject(),!0!==e.getOption().search)if(""===this.value)e.popListView.hide(),e.popListView.clearFilter();else{if(e.popListView.clearFilter(),e.multiSelect){for(var n=this.value.split(/[ ,，]+/g),s=0,o=n.length;s<o;s++)""!==n[s]&&e.popListView.addFilter(n[s],!1);e.popListView.doFilter(),n=null}else e.popListView.addFilter(this.value),e.popListView.setSelectByText(e.getText()+"");!e.popListView.isShow()&&e.popListView.length()>0?e._doDropList():e.popListView.isShow()&&0==e.popListView.length()&&(e.popListView.hide(),e.setFocus())}},setItemList:function(t){if(this.isArray(t)){if((l=t.length)>0&&"object"!=typeof t[0]){for(var e=[],i=0;i<l;i++){var n={};n[this.getOption().idkey]=t[i],n[this.getOption().capkey]=t[i],e.push(n)}t=e}this.option.data=t}if(null!=this._value&&""!==this._value&&""==this._text){for(var s=this.getInitData(),o=null,l=(i=0,s.length);i<l;i++)if(null!=(o=s[i])[this.getOption().idkey]&&o[this.getOption().idkey]==this._value||null==o[this.getOption().idkey]&&o[this.getOption().capkey]==this._value){this._text=o[this.getOption().capkey];break}this.refresh()}null!=this.popListView&&this.popListView.isShow()&&this.popListView.setItemList(this.getInitData()),this.changeState=!0,this.trigger("afterLoadData",[t]),this._valText=null},addItem:function(t){this._createPopObject(),this.popListView.addItem(t),this._valText=null},getItem:function(t){this._createPopObject(),this.popListView.getItem(t)},delItem:function(t){this._createPopObject(),this.popListView.delItem(t),this._valText=null},setSelectByText:function(t){this._createPopObject(),this.popListView.setSelectByText(text)},setSelect:function(t){this._createPopObject(),this.popListView.setSelect(t)},loadData:function(t){this.setItemList(t)},getData:function(){return this.getInitData()},setMultiSelect:function(t){this.multiSelect=t,this._createPopObject(),this.popListView.setMultiSelect(t)},setIdkey:function(t){this.base(t),this._createPopObject(),this.popListView.setIdkey(t)},dropPopView:function(){this._createPopObject();var t=this.popListView.getItem();null!=t&&t[this.getOption().idkey]==this._value||this.popListView.setSelect(this._value),this.button.onclick()},clearValue:function(){this.base();var t=this.getOption().viewType;"image"!=t&&"imageText"!=t||(this._image.style.backgroundColor="transparent")}}),_bindRenderFunc("qzzcombobox",t.ui.input.combobox),t.ui.input.combobox}),
/*!
 * 下拉框控件.
 * ecp.qzz.ui.input.combobox.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.iedit","qzz.ptreeview"],function(){var t=window.qzz;return t.space("ui.input"),t.ui.input.combotree=t.Class(t.ui.input.edit,{_create:function(){this.base(),this.className="ComboTree",this.logInfo("select.create"),this.button=this.createElement("span"),this.caret=this.createElement("span"),this.keySelect=!0,this.changeState=!0,this._valText=null,this._clickIndex=0,this.multiSelect=this.getBooleanValue(this.getOption().multiple,!1),this.getOption().multiSelect=this.getBooleanValue(this.getOption().multiSelect,this.multiSelect),this.getOption().search=this.getBooleanValue(this.getOption().search,!1),this.getOption().more=this.getBooleanValue(this.getOption().more,!1)},_render:function(){this.base(),this.logInfo("select.render"),this.setStyle(this.button,"componet_ui_input_dropBotton"),this.setStyle(this.caret,"dropButton_caret"),this.button.appendChild(this.caret),"#FFFFFF"!==this.getOption().color&&"white"!==this.getOption().color||this.addStyle(this.caret,"white");var t=this;if(null!=this.getOption().data){var e=this.getOption().data;this._value=[],this._text=[];for(var i=0,n=e.length;i<n;i++)e[i].checked&&(this._value.push(e[i][this.getOption().idkey]),this._text.push(e[i][this.getOption().capkey]));!1===this.getOption().multiSelect&&0==this._value.length&&(this._value="",this._text="")}if(null==this.getOption().width||/\d+%$/.test(this.getOption().width)||this.setWidth(parseInt(this.getOption().width,10)),this.inputBox.onkeydown=this.doInput,this.inputBox.onkeyup=this.doInputerKeyUp,this._clickIndex=0,this.button.onclick=function(){t._enabled&&!0!==t.getOption().readOnly&&t._clickIndex%2==0&&(t.hasSelect=!0,t._doDropList(),t.selectState=!0),t._clickIndex++},this._value&&0!=this._value.length){this.initData=this.extend([],this.getOption().data);var s={};s[this.getOption().idkey]=this._value,s[this.getOption().capkey]=this._text,this.setValue(s)}},getInitData:function(){if(this.isEmpty(this.option.data)&&1!=this.hasInitSys){var t=this.initSysData();this.hasInitSys=!0,this.isArray(t)&&(this.option.data=t)}var e=this.option.data,i=this.option.needData;return this.isArray(i)&&i.length>0&&(e=null!=this.option.data?i.concat(this.option.data):i),e},value:function(t){if(null==t){var e=this.getValue();if(this.selectAll&&e&&"all"===e[0]){var i=this.getData();e=[];for(var n=0,s=i.length;n<s;n++)0===n&&"all"==i[n][this.getOption().idkey]||i[n].checked&&(e[e.length]=i[n][this.getOption().idkey])}return this.isArray(e)&&(e=e.join(",")),e}var o="";this.getOption().multiSelect&&(t=t.split(/[ ,，]+/g));var l=this.option.needData;if(!this.getOption().multiSelect&&this.isArray(l)&&l.length>0){s=0;for(var r=l.length;s<r;s++)if(l[s][this.getOption().idkey]==t){o=l[s][this.getOption().capkey];break}if(""!==o)return(a={})[this.getOption().idkey]=t,a[this.getOption().capkey]=o,void this.base(a)}var a,h=this.getInitData();if(this.isArray(h))if(r=h.length,this.isArray(t)){o=[],n=0;for(var c=t.length;n<c;n++)for(s=0;s<r;s++)if(h[s][this.getOption().idkey]==t[n]){o.push(h[n][this.getOption().capkey]);break}}else for(n=0;n<r;n++)if(h[n][this.getOption().idkey]==t){o=h[n][this.getOption().capkey];break}(a={})[this.getOption().idkey]=t,a[this.getOption().capkey]=o,this.base(a)},text:function(t){if(null==t){var e=this.getText();return"number"==typeof e?e+="":this.isArray(e)&&(e=e.join(",")),e}this.setText(t)},initSysData:function(){return this.option.data},doBlur:function(t){if(null!=this.popTreeView){var e=this.popTreeView.hasSelect;this.popTreeView._docMouseUp(),this.popTreeView.hasSelect=e}null!=this.popTreeView&&this.popTreeView.isFocus()||this.base()},getPopState:function(){var t=!1;return!0===this.base()?t=!0:null!=this.popTreeView&&!0===this.popTreeView.isShow()&&(t=!0),t},_createPopObject:function(){if(this.isEmpty(this.popTreeView)){var e=this.getInitData();this.popTreeView=new t.ui.drop.poptreeview(void 0,{cssPrefix:this._cssPrefix,data:e,selectAll:this.getOption().selectAll,multiSelect:this.getOption().multiSelect,fontSize:this.getOption().fontSize,leafOnly:this.getOption().leafOnly,search:this.getOption().search,more:this.getOption().more,treekey:this.getOption().treekey,idkey:this.getOption().idkey,fullPath:this.getOption().fullPath,capkey:this.getOption().capkey,pidkey:this.getOption().pidkey,radius:this.getOption().radius,checkFlag:this.getOption().checkFlag,unCheckFlag:this.getOption().unCheckFlag,showCount:this.getOption().showCount});var i=this;this.popTreeView.bind("onCheckChanged",function(t,e){var n=this.getSelectedData(),s=[],o=[];if(i.selectAll)if(i.selectAll&&"all"==_itemid&&n.length>0)s[0]=_itemid,o[0]=_itemtext;else{for(var l=this.view.list.getItemList(),r=0,a=0,h=l.length;a<h;a++)l[a].disabled&&!l[a].checked||r++;if(n.length!=r){a=0;for(var c=n.length;a<c;a++)0===a&&"all"===n[a][i.getOption().idkey]||(null==(u=n[a][i.getOption().idkey])&&(u=n[a][i.getOption().itemCode]),s[a]=u,o[a]=n[a][i.getOption().capkey])}else s[0]="all",o[0]="("+this.getI18n("qzz.all","全部")+")"}else for(a=0,c=n.length;a<c;a++){var u;null==(u=n[a][i.getOption().idkey])&&(u=n[a][i.getOption().itemCode]),s[a]=u,o[a]=n[a][i.getOption().capkey]}i._value=s,i._text=o,i.refresh(),i.trigger("onSelect",[t])}),this.popTreeView.onSelect=function(t){if(!i.getOption().multiSelect){var e=this.getValue(t);null==e&&(e=this.getDisplay(t));var n=this.getDisplay(t),s={};if(s[i.getOption().idkey]=e,s[i.getOption().capkey]=n,i.setValue(s),i.popTreeView.hide(),i.setFocus(),"function"==typeof i.onSelect)try{i.onSelect(t)}catch(t){i.logError("[onSelect]ERR:"+t.message)}i.trigger("onSelect",[t]),i.inputBox.focus(),i.setPosition(i.inputBox,i.inputBox.value.length)}},this.popTreeView.onHide=function(){if(i._popState=!1,i.clearBtn.style.display="none","function"==typeof i.onHide)try{i.onHide()}catch(t){i.logError("[onHide]ERR:"+t.message)}},this.popTreeView.bind("onMoreClick",function(){i.trigger("onMoreClick",[i])}),this.popTreeView.setParent(this.getModelBody())}else this.changeState&&(e=this.getInitData(),this.popTreeView.setItemList(e));this.changeState=!1},setParent:function(t,e){this.base(t,e),this._clickIndex=0},refreash:function(){this.refresh()},refresh:function(){this.base();var t=this;this.inputBox.style.width=100-21/this.getWidth()+"%",this.thisWindow.appendChild(this.button),this.button.appendChild(this.caret),this.clearBtn.style.right="20px",this.caret.style.top=this.getHeight()/2-2+"px",!0!==this.getOption().disInput?this.inputBox.onclick=function(e){e=e||event,"function"==typeof t.onEditClick&&t.onEditClick(e)}:(this._clickIndex=0,this.inputBox.onclick=function(){t._enabled&&!0!==t.getOption().readOnly&&t._clickIndex%2==0&&(t.hasSelect=!0,t._doDropList(),t.selectState=!0),t._clickIndex++})},setWidth:function(t){this.base(t),t<150&&(t=150)},setSearch:function(t){this.getOption().search=this.getBooleanValue(t,!1)},setMore:function(t){this.getOption().more=this.getBooleanValue(t,!1)},doKeyUp:function(t,e){this.base(t,e),"IE"!==this.getBrowser()&&(this.inputBox.focus(),e===this.keyBoard.UP?this.setPosition(this.inputBox,this.inputBox.value.length):e===this.keyBoard.ENTER&&(null==this.popTreeView||this.popTreeView.isShow()||this.postValue()))},doKeyDown:function(t,e){if(this.base(t,e),this._createPopObject(),!this.popTreeView.isShow())if(e===this.keyBoard.F2)this.button.onclick();else if(this.keySelect&&e===this.keyBoard.UP&&!this.getOption().multiSelect)null!=(i=this.popTreeView.getItem())&&i[this.getOption().idkey]==this._value||this.popTreeView.setSelect(this._value),this.popTreeView.prior(),null!=(n=this.popTreeView.getItem())&&(null==(s=n[this.getOption().idkey])&&(s=n[this.getOption().capkey]),(o={})[_this.getOption().idkey]=s,o[_this.getOption().capkey]=n[_this.getOption().capkey],this.setValue(o)),n=null;else if(this.keySelect&&e===this.keyBoard.DOWN&&!this.getOption().multiSelect){var i,n,s,o;null!=(i=this.popTreeView.getItem())&&i[this.getOption().idkey]==this._value||this.popTreeView.setSelect(this._value),this.popTreeView.next(),null!=(n=this.popTreeView.getItem())&&(null==(s=n[this.getOption().idkey])&&(s=n[this.getOption().capkey]),(o={})[this.getOption().idkey]=s,o[this.getOption().capkey]=n[this.getOption().capkey],this.setValue(o)),n=null}else e===this.keyBoard.ENTER&&(this.popTreeView.isShow()?this.popTreeView.selectIndex<0&&this.popTreeView.hide():(this.popTreeView.setBlur(),this.button.onclick()))},postValue:function(){this._createPopObject();var t=this.inputBox.value;if(!0!==this.notnull||""!==t)if("string"==typeof t&&!0===this.getOption().escape&&(t=this._tagToText(t)),t.indexOf(",")<0){if(t!=this._text||1!=this.getOption().multiSelect){var e=this.popTreeView.indexOfText(t);if(null==e)if(1==this.getOption().readOnly&&""!==t)this.inputBox.value=this._text;else{var i=this.initData,n=[],s=[];if(i)for(var o=0,l=i.length;o<l;o++)i[o].disabled&&i[o].checked&&(n.push(i[o][this.getOption().idkey]),s.push(i[o][this.getOption().capkey]));h={},0===n.length?(h[this.getOption().idkey]=t,h[this.getOption().capkey]=t,this.setValue(h)):(h[this.getOption().idkey]=n,h[this.getOption().capkey]=s,this.setValue(h))}else{var r=e.data,a=r[this.getOption().idkey];null==a&&(a=r[this.getOption().capkey]);var h={};h[this.getOption().idkey]=a,h[this.getOption().capkey]=r[this.getOption().capkey],!0===this.getOption().fullPath&&this.getText()===h[this.getOption().capkey]||this.setValue(h),r=null}}}else{var c=t;if(this.isArray(c)&&(c=c.join(",")),1!=this.getOption().multiSelect||this._text!=c){var u=this;this.popTreeView.setSelectByText(t,function(t){for(var e=[],i=[],n=0,s=t.length;n<s;n++){var o=t[n][u.getOption().idkey];null==o&&(o=t[n][u.getOption().capkey]),e.push(o),i.push(t[n][u.getOption().capkey])}var l={};l[u.getOption().idkey]=e,l[u.getOption().capkey]=i,u.setValue(l)})}}},_getTextByValue:function(t){if(""===t||null==t)return"";if(this.isEmpty(this._valText)){this._valText={};var e=!1;if(this.isArray(this.option.needData)){for(var i=this.option.needData.length,n=0;n<i;n++)"object"==typeof(s=this.option.needData[n])?null!=s[this.getOption().idkey]?this._valText[s[this.getOption().idkey]]=s[this.getOption().capkey]||s[this.getOption().idkey]:this._valText[s[this.getOption().capkey]]=s[this.getOption().capkey]:s&&(this._valText[s]=s);e=i>0}if(null==this._valText[t]&&this.isEmpty(this.option.data)&&this.getData(),this.isArray(this.option.data)){for(i=this.option.data.length,n=0;n<i;n++){var s;"object"==typeof(s=this.option.data[n])?null!=s[this.getOption().idkey]?this._valText[s[this.getOption().idkey]]=s[this.getOption().capkey]||s[this.getOption().idkey]:this._valText[s[this.getOption().capkey]]=s[this.getOption().capkey]:this._valText[s]=s}e=e||i>0}if(0==e)return t}if(!0===this.getOption().fullPath){var o=t.split(".");t=o[o.length-1]}var l=this._valText[t];return l||(l=t),l},doInput:function(t){this.base(t)},_doDropList:function(){if(this.hasInitSys=!1,this._createPopObject(),null!=this.option.data&&0!==this.option.data.length||null!=this.option.needData&&0!==this.option.needData.length){this.popTreeView.logInfo("click");var t=this.getNumberValue(this.getOption().popMinWidth,10);t>this.getWidth()?this.popTreeView.setWidth(t):this.popTreeView.setWidth(this.getWidth()),this.popTreeView.setSelectAll(this.selectAll);var e=this.getText();if(this.isArray(e)||"string"==typeof e||(e+=""),this.getOption().multiSelect){var i=this;this.popTreeView.clearSelectAll(function(){i.popTreeView.setSelectByText(e)})}else this.isArray(e)&&(e=e.join(",")),this.popTreeView.setSelectByText(e);if(this.getAXY(),this.popTreeView.execute(this.getATop()+this.getHeight()-4,this.getALeft(),this.getHeight()),this._popState=!0,"function"==typeof this.onDrop)try{this.focus=!1,this.onDrop(this)}catch(t){this.logError("[onDrop]ERR:"+t.message)}}},doInputerKeyUp:function(t){var e=this.ctrl,i=(t=t||window.event).keyCode||t.charCode||t.which;if(i===e.keyBoard.ENTER||i===e.keyBoard.UP||i===e.keyBoard.DOWN||i===e.keyBoard.LEFT||i===e.keyBoard.RIGHT||i===e.keyBoard.F2||i===e.keyBoard.ESC||i===e.keyBoard.TAB||t.ctrlKey||i===e.keyBoard.CTRL||!0===e.getOption().readOnly)return t.returnValue=!1,!1;if(i==e.keyBoard.DEL&&!0!==e.getOption().notnull)return e._value="",e._text="",e.inputBox.value="",t.returnValue=!1,!1;if(e._createPopObject(),""===this.value)e.popTreeView.hide();else{if(e.getOption().multiSelect){for(var n=this.value.split(/[ ,，]+/g),s=0,o=n.length;s<o;s++)n[s];n=null}else e.popTreeView.setSelectByText(e.getText()+"");!e.popTreeView.isShow()&&e.popTreeView.length()>0?e._doDropList():e.popTreeView.isShow()&&0==e.popTreeView.length()&&(e.popTreeView.hide(),e.setFocus())}},setItemList:function(t){if(this.isArray(t)){if((l=t.length)>0&&"object"!=typeof t[0]){for(var e=[],i=0;i<l;i++){var n={};n[this.getOption().idkey]=t[i],n[this.getOption().capkey]=t[i],e.push(n)}t=e}this.option.data=t}if(null!=this._value&&""!==this._value&&""==this._text){for(var s=this.getInitData(),o=null,l=(i=0,s.length);i<l;i++)if(null!=(o=s[i])[this.getOption().idkey]&&o[this.getOption().idkey]==this._value||null==o[this.getOption().idkey]&&o[this.getOption().capkey]==this._value){this._text=o[this.getOption().capkey];break}this.refresh()}null!=this.popTreeView&&this.popTreeView.isShow()&&this.popTreeView.setItemList(this.getInitData()),this.changeState=!0,this.trigger("afterLoadData",[t]),this._valText=null},loadData:function(t){this.setItemList(t)},getData:function(){return this.getInitData()},setMultiSelect:function(t){this.getOption().multiSelect=t},setIdkey:function(t){this.base(t),this._createPopObject(),this.popTreeView.setIdkey(t)},dropPopView:function(){this._createPopObject(),this.button.onclick()}}),_bindRenderFunc("qzzcombotree",t.ui.input.combotree),t.ui.input.combotree}),
/*!
 * 日期控件.
 * ecp.qzz.ui.input.datepicker.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.iedit","qzz.pcalendar"],function(){var t=window.qzz;return t.space("ui.input"),t.ui.input.datepicker=t.Class(t.ui.input.edit,{_create:function(){this.base(),this.className="DatePicker",this.logInfo("date.create"),this.button=this.createElement("span"),this.showTime=this.getBooleanValue(this.getOption().showTime,!1),this.cyctype=this.getOption().cyctype||"day",this.maxDate="9999-12-31",this.minDate="1000-01-01",this._clickIndex=0,this.dateObj=new t.date,this.dateObj.setCycType(this.cyctype),this.getOption().ecpDate=this.getBooleanValue(this.getOption().ecpDate,!1)},_render:function(){this.base(),this.calendar=new t.ui.drop.popcalendar(void 0,{cssPrefix:this._cssPrefix}),this.calendar.setCycType(this.cyctype),this.logInfo("date.render"),this.setStyle(this.button,"componet_ui_input_dateBotton"),"#FFFFFF"!==this.getOption().color&&"white"!==this.getOption().color||this.addStyle(this.button,"white"),this.isNotEmpty(this.getOption().maxDate)&&this.setMaxDate(this.getOption().maxDate),this.isNotEmpty(this.getOption().minDate)&&this.setMinDate(this.getOption().minDate),!0!==this.getOption().wrap&&(this.inputBox.style.whiteSpace="nowrap");var e=this;this._clickIndex=0,this.button.onclick=function(){e._doButtonClick()},!0===this.getOption().disInput&&(this.inputBox.onclick=function(){e._doButtonClick()}),this.calendar.onSelect=function(t){var i=t.getDate(),n=e._getTextByValue(i);e._checkRount(i);var s={};if(s[e.getOption().idkey]=i,s[e.getOption().capkey]=n,e.setValue(s),"function"==typeof e.onSelect)try{e.onSelect(i)}catch(t){e.logError("[onSelect]ERR:"+t.message)}e.trigger("onSelect",[i])},this.calendar.onHide=function(){if(e._popState=!1,e.clearBtn.style.display="none","function"==typeof e.onHide)try{e.onHide()}catch(t){e.logError("[onHide]ERR:"+t.message)}},this.calendar.setParent(this.getModelBody())},setParent:function(t,e){this.base(t,e),this._clickIndex=0},_doButtonClick:function(){if(!0===this.getOption().disabled||!0===this.getOption().readOnly||this.calendar.isShow()||!0===this._justHide||this._clickIndex%2!=0)return this._justHide=!1,void this._clickIndex++;this._clickIndex++,this.logInfo("click");var t=this.getText();this.calendar.setDate(t),this.getAXY(),this.calendar.setCycType(this.cyctype),this.calendar.setShowTime(this.showTime),this.calendar.setMaxDate(this.maxDate),this.calendar.setMinDate(this.minDate),this.calendar.setFormatYear(this.getOption().formatYear),this.calendar.setFormatMonth(this.getOption().formatMonth),this.calendar.setFormatDay(this.getOption().formatDay),this.calendar.setFormatHour(this.getOption().formatHour),this.calendar.setFormatMinute(this.getOption().formatMinute),this.calendar.setFormatSecond(this.getOption().formatSecond),this.calendar.setDateSplit(this.getOption().dateSplit),this.calendar.setTimeSplit(this.getOption().timeSplit);var e=this.getALeft()+this.thisWindow.offsetWidth-this.calendar.getWidth();if(e<0&&(e=0),this.calendar.execute(this.getATop()+this.getHeight()-4,e,this.getHeight()),this._popState=!0,"function"==typeof this.onDrop)try{this.onDrop(this)}catch(t){this.logError("[onDrop]ERR:"+t.message)}},_checkRount:function(t){this.calendar.setMaxDate(this.maxDate),this.calendar.setMinDate(this.minDate);var e=this.calendar.checkRound(t);return"max"===e.state?this.warnInfo=this.getI18n("qzz.dateMaxer","当前日期，大于最大日期")+this.maxDate:"min"===e.state?this.warnInfo=this.getI18n("qzz.dateMiner","当前日期，小于最小日期")+this.minDate:this.warnInfo="",e.date},_getTextByValue:function(t){var e=t;return/^\/Date\(/.test(e)&&(this.getOption().ecpDate=!0,e=this.dateObj.strToDate(e,this.showTime)),this.dateObj.getFormatDate(e)},postValue:function(){if(this.calendar.isShow())return!1;var t=this.inputBox.value;if("object"==typeof t&&(t=t[this.getOption().capkey],""!==this.trim(this.inputBox.value)&&t!=this.trim(this.inputBox.value)&&(t=this.inputBox.value)),""!==t||!0!==this.notnull)if(""!==t){var e=this.calendar.checkDate(t);if(this._checkRount(e),""!==e){var i=this._getTextByValue(e),n={};n[this.getOption().idkey]=e,n[this.getOption().capkey]=i,this.setValue(n)}}else this.setValue(t)},doBlur:function(t){this.base(),null!=this.calendar&&(this.calendar.isFocus()&&!0!==t?this._clickIndex=0:this.calendar.setBlur())},setShowTime:function(t){this.showTime=this.getBooleanValue(t,!1)},doKeyDown:function(t,e){this.base(t,e),e===this.keyBoard.F2&&this.button.onclick()},setCycType:function(t){this.cyctype=t,this.dateObj.setCycType(t),null!=this._value&&0!==this._value&&(this._text=this._getTextByValue(this._value),this.refresh())},refreash:function(){this.refresh()},refresh:function(){this.base();var t=this.getWidth()-20;t<1&&(t=1),this._clickIndex=0,this.inputBox.style.width=t+"px",this.button.style.height=this.getHeight()-2+"px",this.button.style.backgroundPosition="left center",this.thisWindow.appendChild(this.button),this.clearBtn.style.right="20px"},setMaxDate:function(t){this.maxDate=t},setMinDate:function(t){this.minDate=t},setFormatYear:function(t){this.getOption().formatYear=t},setFormatMonth:function(t){this.getOption().formatMonth=t},setFormatDay:function(t){this.getOption().formatDay=t},setFormatHour:function(t){this.getOption().formatHour=t},setFormatMinute:function(t){this.getOption().formatMinute=t},setFormatSecond:function(t){this.getOption().formatSecond=t},setDateSplit:function(t){this.getOption().dateSplit=t},setTimeSplit:function(t){this.getOption().timeSplit=t},getPopState:function(){var t=!1;return!0===this.base()?t=!0:null!=this.calendar&&!0===this.calendar.isShow()&&(t=!0),t},setValue:function(t){"string"==typeof t&&(t=this.dateObj.formatDate(t)),this.base(t),!0===this.getOption().ecpDate&&!1===/^\/Date\(/.test(this._value)&&(this._value=this.dateObj.parseEcpDate(this._value))},dropPopView:function(){this.button.onclick()}}),_bindRenderFunc("qzzdatepicker",t.ui.input.datepicker),t.ui.input.datepicker}),
/*!
 * 弹出输入控件.
 * ecp.qzz.ui.input.buttonedit.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.iedit"],function(){var t=window.qzz;return t.space("ui.input"),t.ui.input.buttonedit=t.Class(t.ui.input.edit,{_create:function(){this.base(),this.className="ButtonEdit",this.logInfo("date.create"),this.transIDName={},this.button=this.createElement("span")},_render:function(){this.base(),this.logInfo("date.render"),this.setStyle(this.button,"componet_ui_input_showBotton"),this._setHtml(this.button,"..."),this.button._this=this,this.button.onclick=this.doButtonClick},setButtonStyle:function(t){"date"==t?t="componet_ui_input_dateBotton":"drop"==t&&(t="componet_ui_input_dropBotton"),this.setStyle(this.button,t)},doButtonClick:function(){var t=this._this;if(!0===t._enabled&&!0!==t.getOption().readOnly){if(t.logInfo("buttonEdit.click"),"function"==typeof t.onButtonClick)try{t.onButtonClick()}catch(e){t.logError("[onButtonClick]ERR:"+e.message)}t.trigger("onButtenClick",[])}},doBlur:function(t){this.base(t)},doKeyDown:function(t,e){this.base(t,e),e===this.keyBoard.F2&&this.button.onclick()},postValue:function(){var t=this.inputBox.value;if(""!==t||!0!==this.notnull)if("string"==typeof t&&!0===this.getOption().escape&&(t=this._tagToText(t)),this.isEmpty(t))(e={})[this.getOption().idkey]=t,e[this.getOption().capkey]=t,this.setValue(e);else{var e,i=this._value,n=!0;if(this.isNotEmpty(this.transIDName)&&null!=this.transIDName&&null!=this.transIDName[this._value]){if(this.transIDName[this._value]!=t){for(var s in n=!1,this.transIDName)if(this.trim(this.transIDName[s])==this.trim(t)){i=s,n=!0;break}!1===n&&(i=t)}}else"string"==this.getOption().dataType&&i!==t&&(i=t);!0===this.getOption().filterOnly&&!0!==n||((e={})[this.getOption().idkey]=i,e[this.getOption().capkey]=t,this.setValue(e))}},refreash:function(){this.refresh()},refresh:function(){this.docFragment.appendChild(this.button),this.base(),this.inputBox.style.width=this.getWidth()-20+"px",this.button.style.lineHeight=this.getHeight()/2+"px",this.thisWindow.appendChild(this.button),this._setHtml(this.button,"..."),this.clearBtn.style.right="20px"},setTransIDName:function(t){this.transIDName=t},addTransIDName:function(t){var e=this.transIDName;if(null==e)this.transIDName=t;else if(null!=t&&null!=t)for(var i in t)e[i]=t[i];e=null},setMultiSelect:function(t){this.multiSelect=t}}),_bindRenderFunc("qzzbuttonedit",t.ui.input.buttonedit),t.ui.input.buttonedit}),
/*!
 * 列表盒.
 * ecp.qzz.ui.listbox.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.panel","qzz.list","qzz.paged"],function(){var t=window.qzz;return t.space("ui"),t.ui.listbox=t.Class(t.ui.panel,{_create:function(){this.base(),this.getOption().rowHeight=this.getOption().rowHeight||100,this.getOption().groupHeight=this.getOption().groupHeight||60,this.getOption().autoHeight=this.getBooleanValue(this.getOption().autoHeight,!0),this.getOption().autoWidth=this.getBooleanValue(this.getOption().autoWidth,!0),this.getOption().fieldList=this.getOption().fieldList||[],this.getOption().captionList=this.getOption().captionList||[],this.getOption().desc=this.getBooleanValue(this.getOption().desc,!0),this.getOption().pageSize=this._getNumberValue(this.getOption().pageSize,10),this.getOption().pageIndex=this._getNumberValue(this.getOption().pageIndex,1),this.getOption().colRects=this.getOption().colRects||[3,3,2,2,2],this.getOption().colCount=this.getOption().colRects.length,null==this.getOption().pageSizeList&&(this.getOption().pageSizeList=[10,25,50,100,200,this.getI18n("qzz.all","全部")]),this._itemList=new t.list,this.isArray(this.getOption().dataList)&&(this._itemList.setItemList(this.getOption().dataList),null!=this.getOption().sort&&this._itemList.sort(this.getOption().sort,this.getOption().desc),this.getOption().totalCount=this._itemList.length()),this._selectRowId=null,this._selectItem=null,this.getOption().idkey=this.getOption().idkey||""},_render:function(){if(this.base(),this._boxTab=this.createElement("TABLE"),this.setStyle(this._boxTab,"winStyle"),this._boxTab.style.borderWidth="0px",this.thisWindow.appendChild(this._boxTab),!1!==this.getOption().pager){this.pageObj=new t.ui.paged({totalCount:this.getOption().totalCount}),this.pageObj.setPageSizeList(this.getOption().pageSizeList);var e=this;this.pageObj.bind("onPageChanged",function(t,i,n){e.getOption().pageCount=t,e.getOption().pageSize=i,e.getOption().pageIndex=n,e.trigger("onPageChanged",[t,i,n]),e._isNewPage=!0,e.refresh(),e._isNewPage=!1})}this.refresh()},_autoWidth:function(){this.getOption().autoWidth&&(this.thisWindow.style.width="100%")},getWidth:function(){return this.getOption().autoWidth?this.thisWindow.offsetWidth:this.base()},_afterRender:function(){this.base()},_refreshBox:function(t,e,i){if(this.hasbind("onFormat")){var n=this.trigger("onFormat",[t,e,this.getOption(),i]);null!=n&&("string"==typeof n?this._setHtml(t,n,!1):n.length>0?t.appendChild(n[0]):t.appendChild(n))}else{var s=this.getModelAsJson(),o={},l=this,r=this.getOption().subTitleFields;if(null!=r){this.subTitleDiv=this.createElement("DIV"),this.setStyle(this.subTitleDiv,"listbox_portlet_title"),t.appendChild(this.subTitleDiv),this.subTitleDiv.innerHTML="";for(var a=0,h=r.length;a<h;a++){var c=r[a];if(o[c]=!0,null!=(S=s[c])){null!=(x=S.caption||"")&&""!==x&&(x+="："),null==(b=e[c])&&(b=""),S&&"number"==S.dataType&&""!==b&&!isNaN(b)&&(b=this._formatNumber(S,b)),S&&null!=S.color&&""!==S.color&&(b='<font color="'+S.color+'">'+b+"</font>");var u=x+b;this.hasbind("onFormat_"+S.name)&&(u=this.trigger("onFormat_"+S.name,[S,S.caption,e[c],u])),a<h-1&&(u+="&nbsp;&nbsp;,&nbsp;"),(_=this.createElement("span")).innerHTML=u,!0===S.link&&(this.setStyle(_,"link"),_._cm=S,_._item=e,_._index=i,_.onclick=function(){l.trigger("onLinkClick",[this._cm,this._item,this._index])}),this.trigger("onCellDraw_"+S.name,[_,S,e,i]),this.subTitleDiv.appendChild(_)}}this.trigger("onSubTitleDraw",[this.subTitleDiv,e,i])}this.bodyDiv=this.createElement("DIV"),this.setStyle(this.bodyDiv,"listbox_portlet_body"),t.appendChild(this.bodyDiv);var d=this.createElement("DIV");this.setStyle(d,"row"),this.bodyDiv.appendChild(d);var p=[],g=null,f=this.getOption().colCount||5;for(a=0;a<f;a++)g=this.createElement("DIV"),this.setStyle(g,"col-sm-"+this.getOption().colRects[a]),this.addStyle(g,"col-xs-6"),d.appendChild(g),p.push(g),this.trigger("onColDraw",[g,e,a]);if(null!=this.getOption().colModels){var y=this.getOption().colModels,m=this.getOption().colNames,v=!0===this.getOption().hideEmptyCol,C=0;for(a=0,h=y.length;a<h;a++){var S,b=e[(S=y[a]).name];if(!0!==o[S.name]&&this.getOption().group!=S.name&&!0!==S.hidden&&(!0!==v||null!=b&&""!==b&&0!==b)){var x;null!=(x=m[a]||"")&&""!==x&&(x+="："),null==b&&(b=""),"number"!=S.dataType||""===b||isNaN(b)||(b=this._formatNumber(S,b)),null!=S.color&&""!==S.color&&(b='<font color="'+S.color+'">'+b+"</font>"),g=p[C%f];var _=this.createElement("p");!0===S.link&&(this.setStyle(_,"link"),_._cm=S,_._item=e,_._index=i,_.onclick=function(){l.trigger("onLinkClick",[this._cm,this._item,this._index])}),u=x+b,this.hasbind("onFormat_"+S.name)&&(u=this.trigger("onFormat_"+S.name,[S,S.caption,e[S.name],u])),_.innerHTML=u,this.trigger("onCellDraw_"+S.name,[_,S,e,i]),g.appendChild(_),C++}}}for(a=0;a<f;a++)g=p[a],this.trigger("onAfterColDraw",[g,e,a])}},collapse:function(t){for(var e=0,i=t.rowIndex+1,n=this._boxTab.rows.length;i<n;i++){var s=this._boxTab.rows[i],o=s.offsetHeight;if(this.getBooleanValue(s.getAttribute("isGroup"),!1))break;s.style.display="none",0==o&&(o=this.getOption().rowHeight),e+=o}this.getOption().autoHeight?this.thisWindow.style.height="100%":this.setHeight(this.getHeight()-e),t.isExpand=!1},expand:function(t){for(var e=0,i=t.rowIndex+1,n=this._boxTab.rows.length;i<n;i++){var s=this._boxTab.rows[i];if(this.getBooleanValue(s.getAttribute("isGroup"),!1))break;s.style.display="";var o=s.offsetHeight;0==o&&(o=this.getOption().rowHeight),e+=o}this.getOption().autoHeight?this.thisWindow.style.height="100%":this.setHeight(this.getHeight()+e),t.isExpand=!0},getModelAsJson:function(){for(var t={},e=this.getOption().colModels,i=0,n=e.length;i<n;i++){var s=e[i];s.caption=this.getOption().colNames[i],t[s.name]=s}return t},getColModel:function(t){for(var e=null,i=this.getOption().colModels,n=0,s=i.length;n<s;n++){var o=i[n];if(o.name===t){e=o;break}}return e},refresh:function(){this._boxTab.style.width="100%";var t,e=this,i=null,n=0,s=null,o=0,l={},r=this._itemList.length(),a=0;!0===this.getOption().pager&&(this.getOption().pageSize===this.getI18n("qzz.all","全部")||this.hasbind("onPageChanged")?a=0:(a=(this.getOption().pageIndex-1)*this.getOption().pageSize,(r=this.getOption().pageSize+a)>this._itemList.length()&&(r=this._itemList.length())));var h=this.getModelAsJson(),c=this.getOption().titleFields;if(null!=c)for(var u=0,d=c.length;u<d;u++)"sum"==(M=c[u]).type?M.value=0:"rect"==M.type&&(M.value={max:"",min:""});var p=0;!1!==this.getOption().pager&&this.pageObj.setParent(this.thisWindow);for(var g=null,f=null,y=null;a<r;a++,p++){if(g=this._itemList.getItem(a),null!=this.getOption().group&&null!=(t=g[this.getOption().group])&&i!=t){p+n<this._boxTab.rows.length?((f=this._boxTab.rows[p+n]).style.display="",f.cells.length>0?(y=f.cells[0],this._setHtml(y,"",!1)):y=f.insertCell(0)):(y=(f=this._boxTab.insertRow(p+n)).insertCell(0),this._setHtml(y,"",!1)),y.onclick=null,f.style.display="";var m=this.createElement("TABLE");this.setStyle(m,"noborder"),m.style.width="100%";var v=m.insertRow(0),C=v.insertCell(0);this.setStyle(C,"listbox_expand"),y.expandtd=C;var S=v.insertCell(1);if(S.style.textAlign="left",S.style.border="0px solid #cecece",y.texttd=S,!0!==this._isNewPage&&!1===f.isExpand?this._setHtml(C,"+",!1):(f.isExpand=!0,this._setHtml(C,"-",!1)),C.row=f,C.onclick=function(){this.row.isExpand?(e.collapse(this.row),e._setHtml(this,"+",!1)):(e.expand(this.row),e._setHtml(this,"-",!1))},m.style.height=this.getOption().groupHeight+"px",y.appendChild(m),this.setStyle(y,"listbox_group"),y.style.height=this.getOption().groupHeight+"px",!0===this.hasbind("onGroupFormat")?"string"==typeof(Y=this.trigger("onGroupFormat",[y.texttd,g,o,this.getOption()]))?this._setHtml(y.texttd,Y,!1):Y.length>0?y.texttd.appendChild(Y[0]):y.texttd.appendChild(Y):this._setHtml(y.texttd,t,!1),f.setAttribute("isGroup",!0),0==y.offsetHeight&&this.getOption().groupHeight,null!=s)if(this.hasbind("onGroupFormat"))"string"==typeof(Y=this.trigger("onGroupFormat",[y.texttd,g,o,this.getOption()]))?this._setHtml(y.texttd,Y,!1):Y.length>0?y.texttd.appendChild(Y[0]):y.texttd.appendChild(Y);else{var b=s.texttd.innerHTML;b=s.texttd.innerHTML,null!=(R=this.getOption().groupCaption||"")&&""!==R&&(R+=":");var x='<font style="font-size:16px;">'+R+b+"</font>";if(this.hasbind("onFormat_"+this.getOption().group)){var _=h[this.getOption().group];b=this.trigger("onFormat_"+this.getOption().group,[_,this.getOption().groupCaption||"",b,x])}if(sumAry=[],null!=c&&c.length>0)for(u=0,d=c.length;u<d;u++){_=h[(M=c[u]).name],""!==(E=M.caption||"")&&(E+="：");var w=M.value;if("sum"==M.type)"number"!=_.dataType||null==w||""===w||isNaN(w)||(w=this._formatNumber(_,w)),M.value=0;else if("rect"==M.type){var T=M.value.min,N=M.value.max;"number"==_.dataType&&(null==T||""===T||isNaN(T)||(T=this._formatNumber(_,T)),null==N||""===N||isNaN(N)||(N=this._formatNumber(_,N))),w=T==N?T:T+"~"+N,M.value={max:"",min:""}}var O=w;null!=M.color&&""!==M.color&&(w='<font color="'+M.color+'">'+w+"</font>");var L=E+w;this.hasbind("onFormat_"+M.name)&&(L=this.trigger("onFormat_"+M.name,[M,M.caption,O,L])),sumAry.push(L)}this._setHtml(s.texttd,x+"&nbsp;&nbsp;&nbsp;"+sumAry.join("&nbsp;&nbsp;&nbsp;&nbsp;")+"&nbsp;&nbsp;|&nbsp;&nbsp;共计"+o+"记录",!1);var k=s.parentElement;!0!==this._isNewPage&&!1===k.isExpand&&this.collapse(k)}s=y,o=0,i=t,n++}if(p+n<this._boxTab.rows.length?((f=this._boxTab.rows[p+n]).style.display="",f.cells.length>0?((y=f.cells[0]).style.textAlign="",this._setHtml(y,"",!1)):y=f.insertCell(0)):(y=(f=this._boxTab.insertRow(p+n)).insertCell(0),this._setHtml(y,"",!1)),y.onclick=function(t){e.trigger("onCellClick",[t,this.parentNode.item])},f.item=g,f.style.display="",f.setAttribute("isGroup",!1),e=this,f.ondblclick=function(t){t=t||window.event,e._selectItem=this.item,e.trigger("onDBClick",[t,this.item])},f.onclick=function(t){t=t||window.event,e._selectItem=this.item,e.trigger("onClick",[t,this.item]),""!==e.getOption().idkey&&(e._selectRowId=this.item[e.getOption().idkey],e._asynRun(function(){e.refresh()},20))},null!=this.getOption().idkey&&""!==this.getOption().idkey&&(null!=this._selectRowId&&""!==this._selectRowId&&g[this.getOption().idkey]==this._selectRowId?f.style.backgroundColor="#F9F9F9":f.style.backgroundColor=""),this.setStyle(y,"listbox"),y.style.height=this.getOption().rowHeight+"px",this._refreshBox(y,this._itemList.getItem(a),a),o++,null!=c&&c.length>0)for(u=0,d=c.length;u<d;u++)if(w=g[(M=c[u]).name],_=h[M.name],"rect"==M.type)if(_&&"date"==_.dataType){var D=!1;if(null==M.value.min||""===M.value.min)M.value.min=w;else{var I=new Date(M.value.min);new Date(w)<I&&(M.value.min=w,D=!0)}!1===D&&(null==M.value.max||""===M.value.max?M.value.max=w:(I=new Date(M.value.max),new Date(w)>I&&(M.value.max=w)))}else isNaN(w)||(D=!1,null==M.value.min||""===M.value.min?M.value.min=w:(I=parseFloat(M.value.min,10),parseFloat(w,10)<I&&(M.value.min=w,D=!0)),!1===D&&(null==M.value.max||""===M.value.max?M.value.max=w:(I=parseFloat(M.value.max,10),parseFloat(w,10)>I&&(M.value.max=w))));else"sum"==M.type&&(null==w||""===w||isNaN(w)||(M.value+=parseFloat(w,10)));if(null!=l)for(var B in l)_=h[B],w=g[B],"date"==_.dataType?"object"!=typeof l[B]&&(l[B]={max:w,min:w}):null==w||""===w||isNaN(w)||(l[B]+=parseFloat(w,10));0==y.offsetHeight&&this.getOption().rowHeight}!1!==this.getOption().pager&&(f=null,p+n<this._boxTab.rows.length?((f=this._boxTab.rows[p+n]).style.display="",f.cells.length>0?(y=f.cells[0],this._setHtml(y,"",!1)):y=f.insertCell(0)):y=(f=this._boxTab.insertRow(p+n)).insertCell(0),this.pageObj.setParent(y),y.style.height="40px",y.style.textAlign="right",y.offsetHeight,y.style.paddingRight="8px",this.setStyle(y,"listbox_group"),f.setAttribute("isGroup",!0),f.ondblclick=null,f.onclick=null);for(a++;this._boxTab.rows.length>p+n+1;)this._boxTab.deleteRow(p+n+1);if(null!=this.getOption().group&&!1===this.getOption().pager&&null!=s)if(this.hasbind("onGroupFormat")){var Y;"string"==typeof(Y=this.trigger("onGroupFormat",[y.texttd,g,o,this.getOption()]))?this._setHtml(y.texttd,Y,!1):Y.length>0?y.texttd.appendChild(Y[0]):y.texttd.appendChild(Y)}else{var R;if(b=s.texttd.innerHTML,b=s.texttd.innerHTML,null!=(R=this.getOption().groupCaption||"")&&""!==R&&(R+=":"),x='<font style="font-size:16px;">'+R+b+"</font>",this.hasbind("onFormat_"+this.getOption().group)&&(_=h[this.getOption().group],b=this.trigger("onFormat_"+this.getOption().group,[_,this.getOption().groupCaption||"",b,x])),sumAry=[],null!=c&&c.length>0)for(u=0,d=c.length;u<d;u++){var M,E;_=h[(M=c[u]).name],""!==(E=M.caption||"")&&(E+="："),w=M.value,"sum"==M.type?(_&&"number"==_.dataType&&null!=w&&""!==w&&!isNaN(w)&&(w=this._formatNumber(_,w)),M.value=0):"rect"==M.type&&(T=M.value.min,N=M.value.max,_&&"number"==_.dataType&&(null==T||""===T||isNaN(T)||(T=this._formatNumber(_,T)),null==N||""===N||isNaN(N)||(N=this._formatNumber(_,N))),w=T==N?T:T+"~"+N,M.value={max:"",min:""}),O=w,null!=M.color&&""!==M.color&&(w='<font color="'+M.color+'">'+w+"</font>"),L=E+w,this.hasbind("onFormat_"+M.name)&&(L=this.trigger("onFormat_"+M.name,[M,M.caption,O,L])),sumAry.push(L)}this._setHtml(s.texttd,x+"&nbsp;&nbsp;&nbsp;"+sumAry.join("&nbsp;&nbsp;")+"&nbsp;&nbsp;|&nbsp;&nbsp;共计"+o+"记录",!1),k=s.parentElement,!0!==this._isNewPage&&!1===k.isExpand&&this.collapse(k)}this.getOption().autoHeight&&(this.thisWindow.style.height="100%"),this._autoWidth()},_formatNumber:function(t,e){"number"!=typeof e&&(e=parseFloat(e,10)),this.isNotEmpty(t.numUnit)&&(e/=parseFloat(t.numUnit,10));var i=t.precision||t.dataScale||t.scale||0;i<0&&(i=0);var n=new Number(e);return t.hideZero&&0==n?e="":(e=n.toFixed(i),i<7&&(e+"").indexOf("e")>0&&(e=0),!0!==t.noFormat&&(e=this.numberFormat(e)),t.numUnit==this.numUnit.perthousand?e+="‰":t.numUnit==this.numUnit.percent&&(e+="%")),e},doBlur:function(){this.base(),this._selectRowId="",this.refresh()},setSort:function(t){null!=t&&""!==t&&this.getOption().sort!=t&&(this.getOption().sort=t,this._itemList.sort(this.getOption().sort,this.getOption().desc))},setGroup:function(t){null!=t&&""!==t&&this.getOption().group!=t&&(this.getOption().group=t)},setTotalCount:function(t,e){this.getOption().totalCount=parseInt(t,10),this.pageObj.setTotalCount(this.getOption().totalCount,e)},each:function(t){for(var e=this._itemList.length(),i=0;i<e;i++){var n=this._itemList.getItem(i);if("function"==typeof t&&!1===t.call(this,n,i))break}},getItemById:function(t){var e=null;if(this.getOption().idkey){var i=this;this.each(function(n,s){if(n[i.getOption().idkey]==t)return e=n,!1})}return e},value:function(t){if(null==t)return this.getOption().dataList;this.getOption().dataList=t,this.isArray(this.getOption().dataList)&&(this._itemList.setItemList(this.getOption().dataList),null!=this.getOption().sort&&this._itemList.sort(this.getOption().sort,this.getOption().desc),!1!==this.getOption().pager&&!1===this.hasbind("onPageChanged")&&(this.getOption().totalCount=this._itemList.length(),this.pageObj.setTotalCount(this.getOption().totalCount)),this.refresh())},triggerEvent:function(){!1!==this.getOption().pager&&this.trigger("onPageChanged",[this.pageObj.getPageCount(),this.pageObj.getPageSize(),this.pageObj.getPageIndex()])},getPageCount:function(){return this.pageObj.getPageCount()},getPageSize:function(){return this.pageObj.getPageSize()},getPageIndex:function(){return this.pageObj.getPageIndex()},getCurItem:function(){return this._selectItem}}),_bindRenderFunc("qzzlistbox",t.ui.listbox),t.ui.listbox}),
/*!
 * 远光ECP平台3.4版本
 * 树表格控件： qzz.ui.qzz
 * ecp.qzz.ui.querygrid.js
 * ecp按钮与菜单控件命名空间
 * @name qzz.ui
 * @namespace qzz.ui
 * @requires qzz.ui.Frame
 * mdf qinzhenzhou222
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.frame","qzz.treedataset","qzz.button","qzz.pmenu","qzz.pfilter","qzz.paged","qzz.coldesign","qzz.icheckbox"],function(){var t=window.qzz;return t.space("ui"),t.ui.querygrid=t.Class(t.ui.frame,{_create:function(){if(this.base(),this.className="QueryGrid",this.logBegin("QueryGrid.create"),this.container=null,this.sheets=[],this.rowHeight=36,this.titleRowCount=0,this.colCount=0,this.rowCount=0,this.allCount=0,this.gridWidth=0,this.gridHeight=0,this.gridTable=null,this.topNode=null,this.topIndex=0,this.visibleCount=0,this.colIndex=1,this.selRect={beginRowNode:null,endRowNode:null,beginColIndex:1,endColIndex:1},this._selRect={},this._curNode=null,this._addNew=!1,this._editTypes={},this.isSelect=!0,this.rendered=!1,this.titleMouseDown=!1,this.dataSet=new t.treedataset,this.dataSet.setName(this.getName()),this.multiSelect=!1,this.virtual=!1,this.dataPost=!0,this.scrollMouseDown=!1,this.radioCheck={},!0===this.getOption().totalRever?(this.summaryText=this.getI18n("qzz.pageSummary","小计"),this.subtotalText=this.getI18n("qzz.summary","合计")):(this.summaryText=this.getI18n("qzz.summary","合计"),this.subtotalText=this.getI18n("qzz.pageSummary","小计")),this.numberCaption=this.getI18n("qzz.index","序号"),this.sortTables={},this.mouseEdit=!1,this._setTimeoutStack={},this.dataSet.open(),this.logEnd("TreeDataGrid.create"),null==this.dataSet.onChanged){var e=this;this.dataSet.onChanged=function(t){if(e.logInfo("row changed event"),e.hasbind("rowChanged")&&e.trigger("rowChanged",[t]),"function"==typeof e.onRowChanged)try{e.onRowChanged(t)}catch(t){e.logError("onRowChanged event fire error!")}e.trigger("onRowChanged",[t])}}this._eventMethods={}},_render:function(){var e;this.isNotEmpty(this.control)&&this.control.length>0?e=this.control[0]:this.isNotEmpty(this.control)?e=this.control:(e=this.createElement("table"),this.control=e),this.control=e,e.style.height="";var i=this.control.parentElement;if(this.thisWindow=this.createElement("DIV"),this.thisWindow.style.overflow="hidden",this.setStyle(this.thisWindow,"winStyle"),null!=i){for(var n=-1,s=0,o=i.childNodes.length;s<o;s++)if(i.childNodes[s]===e){n=s;break}n>=0?i.insertBefore(this.thisWindow,i.childNodes[n]):i.appendChild(this.thisWindow)}this._initOption(),this.dataSet.reverGJ=this.getOption().reverGJ,this.dataSet.sumAllLevel=this.getOption().sumAllLevel,this.dataSet.defSelect=this.getOption().defSelect;var l=this.getCurrentStyle(i);"alClient"==this.getAlign()||null==l||!this.getOption().autoEcpWidth&&null!=this.getOption().width&&10!==this.getOption().width?this.getOption().width=this._getNumberValue(this.getOption().width,this.getOption().width):this.getOption().width=this._getNumberValue(l.width),this.getOption().width<=0&&(10!=this.getOption().width?this.getOption().width=this.getOption().width:this.getOption().width=40);var r,a=10;null!=l&&(a=this._getNumberValue(l.height)),"alClient"!=this.getAlign()&&a>10&&(this.getOption().autoEcpHeight||null==this.getOption().height||10===this.getOption().height)?this.getOption().height=a:(this.getOption().height<=0&&(this.getOption().height=200),this.getOption().height=this._getNumberValue(this.getOption().height,this.getOption().height)),this.getOption().height<30&&(this.getOption().height=30),this.isNotEmpty(this.getOption().multiselect)?(this.multiSelect=this.getOption().multiselect,this.dataSet.setMultiSelect(this.multiSelect)):null!=this.getOption().multiSelect&&(this.multiSelect=this.getOption().multiSelect,this.dataSet.setMultiSelect(this.multiSelect)),this.isNotEmpty(this.getOption().checkFlag)&&((r=this.getOption().checkFlag).indexOf("p")>=0&&(this.dataSet.autoCheckType.autoCheckAllParent=!0),r.indexOf("s")>=0&&(this.dataSet.autoCheckType.autoCheckAllChild=!0),r.indexOf("b")>=0&&(this.dataSet.autoCheckType.autoCheckBrother=!0),r.indexOf("e")>=0&&(this.dataSet.autoCheckType.autoCheckAllParentExt=!0)),this.isNotEmpty(this.getOption().unCheckFlag)&&((r=this.getOption().unCheckFlag).indexOf("p")>=0&&(this.dataSet.autoCheckType.autoUnCheckAllParent=!0),r.indexOf("s")>=0&&(this.dataSet.autoCheckType.autoUnCheckAllChild=!0),r.indexOf("b")>=0&&(this.dataSet.autoCheckType.autoUnCheckBrother=!0),r.indexOf("e")>=0&&(this.dataSet.autoCheckType.autoUnCheckAllParentExt=!0));var h=this.control.getAttribute("dataField");null!=h&&""!==h&&this.setName(h),this.isNotEmpty(this.getName())&&this.dataSet.setName(this.getName()),this.dataSet.keyName=this.getPKeyName(),this.dataSet.itemCode=this.dataSet.keyName,this.base(),this.logBegin("TreeDataGrid.render"),this.gridTable=e,this.setStyle(this.gridTable,"treeListGrid"),this.sumTable=this.createElement("table"),this.setStyle(this.sumTable,["treeListGrid","footerRow"]);var c=this.rowHeight;this.getOption().pager&&(this._pageBoxHeight=30,this._pageBoxHeight<this.getOption().titleRowHeight&&(this._pageBoxHeight=this.getOption().titleRowHeight),c+=this._pageBoxHeight),this.sumTable.style.bottom=c+"px",this.getBrowser("msie")||(this.gridTable.style.tableLayout="fixed",this.sumTable.style.tableLayout="fixed"),this.gridTable.onselectstart=this._onselectstart,this.gridTable.oncontextmenu=function(t){return!1},this.sumTable.onselectstart=this._onselectstart,this.sumTable.oncontextmenu=function(t){return!1},this._initPagerBox();var u=this.createElement("DIV");if(this.fzGridSheetsDiv=u,this.setStyle(u,"fixDiv"),this.fzGridTable=this.createElement("table"),this.fzGridTable.style.top="0px",this.setStyle(this.fzGridTable,"treeListGrid"),this.fzSumTable=this.createElement("table"),this.setStyle(this.fzSumTable,["treeListGrid","fzFooterRow"]),this.getBrowser("msie")||(this.fzGridTable.style.tableLayout="fixed",this.fzSumTable.style.tableLayout="fixed"),this.fzGridTable.onselectstart=this._onselectstart,this.fzGridTable.oncontextmenu=function(t){return!1},this.fzSumTable.onselectstart=this._onselectstart,this.fzSumTable.oncontextmenu=function(t){return!1},u.appendChild(this.fzGridTable),u.appendChild(this.fzSumTable),this.mainbox.appendChild(u),this.emptyDiv=this.createElement("DIV"),this._setHtml(this.emptyDiv,this.getI18n("qzz.emptyRecord","<没有任何记录>")),this.setStyle(this.emptyDiv,"fixDiv"),this.mainbox.appendChild(this.emptyDiv),this.emptyDiv.style.color="#ACA899",null==this.option.defColNames&&(this.option.defColNames=this.extend([],this.option.colNames),this.option.defColModels=this.extend([],this.option.colModels)),null!=this.getOption().columnSetupId){var d=this.findColumnSetup();try{this.isNotEmpty(d)&&(d=JSON.parse(d),this.isNotEmpty(d.colNames)&&(this.option.colNames=d.colNames),this.isNotEmpty(d.colModels)&&(this.option.colModels=d.colModels))}catch(t){this.logError(this.getI18n("qzz.columnInfoErr","读取缓存表头错误。")+"\n"+t.message)}}this._initColModel(),this._parseTitle(),this.dataSet.setViewColModels(this.option.colModels),this._createModelJson(),this.listDivBox=this.createElement("SPAN"),this.setStyle(this.listDivBox,"ListBoxDiv"),this.listDivBox.appendChild(this.gridTable),this.listDivBox.appendChild(this.sumTable),this.listDiv.appendChild(this.listDivBox),this._createTitle(),this.initGrid(),this.control.p=this.extend({},this.option),this.control.p.id=this.control.id,this.control.p.colNames=this.colNames,this.rendered=!0,this.addStyle(this.listDiv,"canNotSelect"),this.addStyle(u,"canNotSelect"),this.logEnd("TreeDataGrid.render"),this.copyDiv=this.createElement("div"),this.setStyle(this.copyDiv,"fixDiv"),this.copyDiv.style.top="0px",this.copyDiv.style.left="0px",this.copyDiv.style.height="1px",this.copyDiv.style.width="1px",this.copyInput=this.createElement("textarea"),this.setStyle(this.copyInput,"editTextInputer"),this.copyInput.style.width="300px",this.copyInput.style.height="300px",this.pasteKeyPress=!1;var p=this;this.priorScrollIndex=0,this.scrollWidth=300,this.listDiv.onscroll=function(t){var e=this.scrollLeft-p.priorScrollIndex;e<0&&(e=0-e),e>p.scrollWidth+100?(p.priorScrollIndex=this.scrollLeft,p._asynRun(function(){this.post(),this.refresh(!0)},50)):(p.priorScrollIndex=this.scrollLeft,p._delayRun(function(){this.post(),this.refresh(!0)},500)),p._hasScroll=p.scrollMouseDown},this.copyInput.onkeydown=function(t){if(t=t||window.event,p.pasteKeyPress)return t.returnValue=!1,!1},this.copyDiv.appendChild(this.copyInput),this.fzGridSheetsDiv.appendChild(this.copyDiv),this.popMenu=new t.ui.drop.popmenu(void 0,{cssPrefix:this._cssPrefix}),this.popMenu.onDrop=function(t){p.setBlur()},this.popMenu.onHide=function(t){p.setFocus()},this.popMenu.setParent(this.getBody()),this.popMenu.beginUpdate(),0!=this.treeGrid&&(this.popMenu.addMenu("fullcollapse",this.getI18n("qzz.collapse","全收缩"),function(){p.setFocus(),p.fullCollapse()}),this.popMenu.addMenu("fullexpand",this.getI18n("qzz.expand","全展开"),function(){p.setFocus(),p.fullExpand()}));var g=1==this.getBrowser("msie");g&&(this.popMenu._popCount>0&&this.popMenu.addMenu("split1","-"),this.popMenu.addMenu("copy",this.getI18n("qzz.copy","复制"),function(){var t=p.getCopyData();if(p.setFocus(),p.isEmpty(t)){var e=p.getFieldName();t=p.dataSet.getDisplay(e,void 0,p.selRect.beginRowNode)}window.clipboardData.setData("text",t),p.hasCopy=!0,p.refresh()},"Ctrl+C",g)),this.getOption().colDesign&&null!=t&&null!=t.pertain&&"function"==typeof t.pertain.gridcoldesign&&(this.popMenu._popCount>0&&this.popMenu.addMenu("split2","-"),this.popMenu.addMenu("qzzFormat",this.getI18n("qzz.colset","列设置"),function(){p.focus=!1,t.pertain.gridcoldesign(p)})),this.popMenu.endUpdate(),this.refresh(),this.isArray(this.getOption().data)&&this.value(this.getOption().data),this._ngmodel(),this.getOption().filter&&this._asynRun(function(){this._initFilterWindow()},10)},_initOption:function(){var t,e;this.getOption().autoEcpWidth=this.getBooleanValue(this.getOption().autoEcpWidth,!1),this.getOption().autoEcpHeight=this.getBooleanValue(this.getOption().autoEcpHeight,!1),this.getOption().filter=this.getBooleanValue(this.getOption().filter,!0),this.getOption().shrinkToFit=this.getBooleanValue(this.getOption().shrinkToFit,!0),this.getOption().suitToFit=this.getBooleanValue(this.getOption().suitToFit,!1),this.getOption().virtual=this.getBooleanValue(this.getOption().virtual,!1),this.getOption().rownumbers=this.getBooleanValue(this.getOption().rownumbers,!0),this.getOption().treeGrid=this.getBooleanValue(this.getOption().treeGrid,!1),this.treeGrid=this.getOption().treeGrid,this.getOption().colDesign=this.getBooleanValue(this.getOption().colDesign,!0),this.getOption().EnterDown=this.getBooleanValue(this.getOption().EnterDown,!1),this.getOption().pager=this.getBooleanValue(this.getOption().pager,!1),this.getOption().sumAllLevel=this.getBooleanValue(this.getOption().sumAllLevel,!1),this.getOption().showTime=this.getBooleanValue(this.getOption().showTime,!1),null!=this.getOption().colNames&&null!=this.getOption().colModels||(this.getOption().colModels=[{name:"gid"}],this.getOption().colNames=[""]),this.getOption().titleRowHeight=this._getNumberValue(this.getOption().titleRowHeight,36),!1===/\d(%)?$/.test(this.getOption().height)&&(this.getOption().height=this._getNumberValue(this.getOption().height,100)),!1===/\d(%)?$/.test(this.getOption().width)&&(this.getOption().width=this._getNumberValue(this.getOption().width,100)),this.rowHeight=this._getNumberValue(this.getOption().rowHeight,this.rowHeight),this.getOption().reverGJ=this.getBooleanValue(this.getOption().reverGJ,!1),this.getOption().treeKey=this.getOption().treeKey||this.getOption().treekey,this.getOption().defSelect=this.getBooleanValue(this.getOption().defSelect,!0),null!=this.getOption().asynInitCount&&this.dataSet.setAsynInitCount(this.getOption().asynInitCount),null==(t=this.getOption()["ng-model"])&&""!==t&&this.control&&null!=(e=this.control.getAttribute("ng-model"))&&""!==e&&(this.getOption()["ng-model"]=e),null==(t=this.getOption()["v-model"])&&""!==t&&this.control&&null!=(e=this.control.getAttribute("v-model"))&&""!==e&&(this.getOption()["v-model"]=e);var i=this.getOption()["ng-bind"];if(null!=i&&""!==i&&this.control){var n=this.control.getAttribute("ng-bind");null!=n&&""!==n&&(this.getOption()["ng-bind"]=n)}},_initPagerBox:function(){if(this.getOption().pager){this._pageBoxHeight=30,this._pageBoxHeight<this.getOption().titleRowHeight&&(this._pageBoxHeight=this.getOption().titleRowHeight),null==this.pageTd?this.frameTable.rows.length<2?this.pagTd=this.frameTable.insertRow(1).insertCell(0):(this.pagTd=this.frameTable.rows[1].cells[0],this._setHtml(this.pagTd,"")):this._setHtml(this.pagTd,""),this.pagTd.setAttribute("colSpan",2),this.pagTd.style.height=this._pageBoxHeight+"px",this.setStyle(this.pagTd,"pageDivLine"),this.pageObj=new t.ui.paged({width:"100%",minPager:this.getOption().minPager,filterCount:this.getOption().filterCount,fireAllEvent:this.getOption().fireAllPageEvent}),this.pageObj.setPageSizeList(this.getOption().pageSizeList),null!=this.getOption().pageSize&&this.pageObj.setPageSize(this.getOption().pageSize);var e=this;this.pageObj.bind("onPageChanged",function(t,i,n){e._update&&(e.getOption().pageCount=t,e.getOption().pageSize=i,e.getOption().pageIndex=n,e._loadSerData(t,i,n),this.clearFilterCount(),e.refresh())}),this.pagTd.style.paddingRight="8px",this.pageObj.setParent(this.pagTd)}else this._pageBoxHeight=0,null!=this.pagTd&&(this.pagTd.style.height=this._pageBoxHeight+"px",this._setHtml(this.pagTd,""));var i=this._getRectHeight()-this._pageBoxHeight;i<1&&(i=1),this.listDiv.style.height=i+"px"},setName:function(t){this.base(t),this.dataSet.setName(t)},firstPage:function(t){this.pageObj.firstPage(t)},priorPage:function(){this.pageObj.priorPage()},nextPage:function(){this.pageObj.nextPage()},lastPage:function(){this.pageObj.lastPage()},setPageSize:function(t,e){this.pageObj.setPageSize(t,e)},setTotalRecord:function(t,e){this.pageObj.setTotalCount(t,e)},setTotalCount:function(t,e){this.pageObj.setTotalCount(t,e)},setPageIndex:function(t,e){this.pageObj.setPageIndex(t,e)},resetPageState:function(){this.pageObj.resetPageState()},_initColModel:function(){this.dataSet.fieldOption={},this.dataSet.transIndex++;var t=0;if(this.isArray(this.option.colModels))for(var e=0,i=this.option.colModels.length;e<i;e++){var n=this.option.colModels[e];if(null!=n.width?(n.width=parseInt(n.width,10),n.defWidth=n.width):n.width=100,n.colIndex=e,null!=n.format&&""!==n.format&&"string"==typeof n.format&&n.format.indexOf("{")>=0){var s=JSON.parse(n.format),o=s.code.split("#");if("@percent"==o[0])n.numUnit="0.01",isNaN(o[1])||(n.dataScale=parseInt(o[1],10)),n.format=null;else if("@perthoursand"==o[0])n.numUnit="0.001",isNaN(o[1])||(n.dataScale=parseInt(o[1],10)),n.format=null;else if("@numerical"==o[0]){var l=o[4];if(this.isNotEmpty(l)){var r={hundred:100,thousand:1e3,wanyuan:1e4,shiwanyuan:1e5,million:1e6,qianwanyuan:1e7,billion:1e8},a=r[l];null!=a&&(n.numUnit=a,n.format=null),r=null}isNaN(o[1])||(n.dataScale=parseInt(o[1],10))}s=null,o=null}else n.format="";if(null==n.dataType&&"date"===n.editType&&(n.dataType=n.editType),n.hidden=this.getBooleanValue(n.hidden,!1),t+=n.width,n.sum&&this.dataSet.addSumColumn(n.name),"checkBox"===n.editType||"radio"===n.editType||"onoff"===n.editType)if(this.isEmpty(n.editoptions))null!=n.isCheck||null!=n.unCheck?n.editoptions={check:n.isCheck,uncheck:n.unCheck}:n.editoptions={check:!0,uncheck:!1};else{var h=[];null!=n.editoptions.value&&(h=n.editoptions.value.split(":")),h.length>1?n.editoptions={check:h[0],uncheck:h[1],value:n.editoptions.value}:n.editoptions={check:!0,uncheck:!1}}if(this.isNotEmpty(n.data)){var c=n.data,u={};if(this.isArray(c)){if(c.length>0&&this.isNotEmpty(c[0].id)&&this.isNotEmpty(c[0].text)){for(var d={},p=0,g=c.length;p<g;p++)d[c[p].id]=c[p].text;u[n.name]=d,d=null}}else"object"==typeof c&&(u[n.name]=d);this.dataSet.setTransIDName(n.name,u[n.name]),u=null}this.option.colModels[e]=n||{}}this.option.gridWidth=t},_parseTitle:function(){var t=[],e=1,i=1,n=[];this.option.colNames[0]instanceof Array?(e=this.option.colNames.length,null!=this.option.colNames[e-1]?i=this.option.colNames[e-1].length:(i=this.option.colNames[e-2].length,e--),n=this.option.colNames):(i=this.option.colNames.length,n=[this.option.colNames]);for(var s=e+1,o=1;o<=e;o++)t[o]=[];var l=this.option.colModels;i>l.length&&(i=l.length);var r=i+1;for(o=e-1;o>=0;o--){for(var a=n[o],h=a.length,c=0,u=0;c<i;c++){var d=null,p=a[u];if("string"==typeof p&&(p={caption:p},o<e-1&&(p.startIndex=c,p.colSpan=i)),u<h){var g=p.startIndex;0===g||null!=g?g==c&&((d=p).isBand=!0,u++):(u++,(null==(d=p).caption||""===d.caption)&&o<e-1&&(d=null,this.logInfo(this.getI18n("qzz.mergCell","合并空的单元格"))))}if(this.isEmpty(d))o<e-1&&(t[o+1][c]=t[o+2][c],(f=t[o+1][c]).colIndex==c&&f.rowspan++,f.rowIndex=o+1);else{var f={};t[o+1][c]=f;var y=d.caption;null==l[c].caption&&(l[c].caption=y),f.caption=y,f.rowspan=1,f.rowIndex=o+1,f.colIndex=c,f.isBand=d.isBand||!1;var m=d.colSpan;if(this.isNotEmpty(m)&&parseInt(m,10)>1){f.colspan=parseInt(m,10);var v=f.colspan+c;for(c++;c<i&&c<v;c++)t[o+1][c]=f;c--}f=null}d=null}a=null}this.option.titleSheets=t,this.option.titleRowCount=s,this.option.colCount=r},_createModelJson:function(){this.option.colModelJson={};for(var t=0,e=this.option.colModels.length;t<e;t++){var i=this.option.colModels[t];i._defWidth=i.width,this.option.colModelJson[i.name]=i}},_addDeff:function(t){return null==t&&(t=0),this.getBrowser("msie")?0:t},_colIndexDeff:function(){return this._hasCheckCol?1:0},_initTitleEvent:function(t){var e=this;t.onmouseover=function(t){t=t||window.event,e.doTitleMouseOver(this,t)},t.onmousemove=function(t){t=t||window.event,e.doTitleMouseMove(this,t)},t.onmousedown=function(t){t=t||window.event,e.doTitleMouseDown(this,t)},t.onmouseup=function(t){t=t||window.event,e.doTitleMouseUp(this,t)},t.ondblclick=function(t){t=t||window.event,e.doTitleDBClick(this,t)}},_doTitleCheck:function(t,e){this.sortClick=!0,this.post();var i=this,n=t.getCheck();this.trigger("onBeforeCheckAll",[n,e]),!1===n?this.cancelSelectRow(e,!1,function(){i.refresh(),i.trigger("onSelectAll",[n,e]),i.trigger("onCheckAll",[n,e])}):i.selectAll(e,!1,function(){i.refresh(),i.trigger("onSelectAll",[n,e]),i.trigger("onCheckAll",[n,e])})},_initTitleCheckBox:function(e,i,n){e.checkBox=new t.ui.input.checkbox,e.checkBox.fieldName=i;var s=this;if(e.checkBox.bind("onClick",function(){s._doTitleCheck(this,this.fieldName)},!0),e.childNodes.length>0?e.insertBefore(e.checkBox.getContainer(),e.childNodes[0]):e.appendChild(e.checkBox.getContainer()),null==this._checkBoxs&&(this._checkBoxs={}),null!=i&&""!==i||(i="@MUL"),this._checkBoxs[i]=e.checkBox,null!=n&&"onoff"==n.editType){e.checkBox.onoff=new t.ui.button({move:!0,width:40,height:22,common:["onoff_off","onoff_on"]}),e.checkBox.hide();var o=e.checkBox.onoff.getContainer();o.style.margin="auto",e.childNodes.length>0?e.insertBefore(o,e.childNodes[0]):e.appendChild(o),e.checkBox.onoff.bind("onclick",e.checkBox,function(t,e){s._doTitleCheck(t,t.fieldName),t.setCheck(1===this._stateValue),this.focus=!1})}},_createTitle:function(){this.shrinkAdd=!1;var t=this.gridTable,e=this.option.titleSheets,i=this.option.colModels;this.colModels={},this.gridWidth=this.option.gridWidth,this.titleRowCount=this.option.titleRowCount,this.colCount=this.option.colCount;for(var n=this.colCount-1,s=this.titleRowCount-1;t.rows.length>0;)t.deleteRow(0);for(;this.fzGridTable.rows.length>0;)this.fzGridTable.deleteRow(0);var o=t.insertRow(0),l=this.fzGridTable.insertRow(0),r=!0;this.fzColCount=1;for(var a=0;a<n;a++){var h=i[a],c=o.insertCell(a);c.style.height="1px",c.style.width=h.width+"px",c.option={colModel:h,defWidth:h.width,cIndex:a},(r=r&&h.frozen||!1)&&(this.fzColCount++,(k=l.insertCell(a)).style.height="1px",k.style.width=h.width+"px",k.option={colModel:h,defWidth:h.width,cIndex:a},c.option.fzCol=k)}this.header=[],this.titleCol=[],this.colNames=[];var u=this;for(a=1;a<=s;a++){o=t.insertRow(a),l=this.fzGridTable.insertRow(a),r=!0,this.header[a-1]=[];for(var d=0,p=0;d<n;d++){var g=e[a][d];if(this.isNotEmpty(g)&&g.rowIndex==a&&g.colIndex==d){if(g.cellIndex=p,(c=o.insertCell(p)).option={},c.dom={},a>1){var f=e[a-1][d];f.rowIndex!=a-1&&(f=e[f.rowIndex][d]),c.option.bandColIndex=f.cellIndex,c.option.bandRowIndex=f.rowIndex}c.option.cIndex=d,this._initTitleEvent(c),this.setStyle(c,"treeListTitle"),!0===this.getOption().levelBorderOnly&&(c.style.borderRightWidth="0px"),this._setHtml(c,g.caption,!1),this.header[a-1][p]={text:g.caption,colFrom:d,colTo:d,rowFrom:a-1,rowTo:a-1};var y=g.colspan;if(h=i[d],r=r&&h.frozen||!1,this.isNotEmpty(y)&&y>1){var m=y;if(r){for(var v=1;v<m&&1==i[v+d].frozen;v++);if(v<m){for(var C=a;C<=s;C++){var S=e[C][d+v];if(S.colIndex!=d+v){S={caption:S.caption,colspan:S.colspan-(d-S.colIndex+v),colIndex:d+v,rowspan:S.rowspan,rowIndex:S.rowIndex,isBand:S.isBand,cellIndex:S.cellIndex+1},e[C][d+v]=S;for(var b=1;b<S.colspan;b++)e[C][S.colIndex+b]=S}S=null}m=d+v-g.colIndex}c.style.borderRight="1px solid #C3D2E6"}c.setAttribute("colSpan",m),c.option.fieldNames=[h.name],this.header[a-1][p].colTo+=m-1;for(var x=d+1;x<d+m;x++)e[a][x].cellIndex=p,c.option.fieldNames.push(i[x].name);d+=m-1}else{if(this.colNames.push(g.caption),c.setAttribute("colSpan",1),c.option.fieldNames=[h.name],this.isNotEmpty(h)&&(this.isNotEmpty(h.numUnit)&&parseFloat(h.numUnit,10)>1?c.setAttribute("title","×"+this.numberFormat(h.numUnit)):this.isNotEmpty(h.option)&&(this.isNotEmpty(h.minDate)&&c.setAttribute("title",this.getI18n("qzz.minDate","最小日期：")+h.minDate+"\n"),this.isNotEmpty(h.maxDate)&&c.setAttribute("title",c.getAttribute("title")+this.getI18n("qzz.maxDate","最大日期：")+h.maxDate))),1==h.selectAll&&1!=g.isBand&&("checkBox"==h.editType||"onoff"==h.editType?this._initTitleCheckBox(c,h.name,h):!0===this.getOption().treeGrid&&(null==this.getOption().treeKey&&0===d||this.getOption().treeKey==h.name)&&this._initTitleCheckBox(c,"",h)),c.dom.sortDiv=this.createElement("div"),this.setStyle(c.dom.sortDiv,"sortDiv"),1!=g.isBand){var _=this.createElement("table");this.setStyle(_,"sortTable");var w=_.insertRow(0).insertCell(0);this.setStyle(w,["sortDefault"]),_.state="none",_.onmousedown=function(){u.sortClick=!0},_.sortIcon=w,c.dom.sortDiv.appendChild(_),_.style.display="none",_.onmouseup=function(t){t=t||event,u.getMouseButton(t)===u.mouseType.mtLeft&&(this.sortState=this.state,this.sortIndex=this.colIndex,this.colIndex!=u.colIndex&&(u.colIndex=this.colIndex),u.doSortAndFilter(this.sortIndex,this.sortState))},this.sortTables[h.name]=_}this.getBrowser("safari"),null!=c.childNodes[0]?c.insertBefore(c.dom.sortDiv,c.childNodes[0]):c.appendChild(c.dom.sortDiv),c.setAttribute("dataField",h.name),c.setAttribute("inputer",h.inputerStr)}g.rowspan>1?(c.setAttribute("rowSpan",g.rowspan),c.style.height=this.getOption().titleRowHeight*g.rowspan+this._addDeff(g.rowspan-1)+"px",this.header[a-1][p].rowTo+=g.rowspan-1):c.style.height=this.getOption().titleRowHeight+"px",c.option.isBand=g.isBand||!1,this.titleCol[c.option.cIndex]=c,r&&((k=l.insertCell(p)).option={},k.dom={},this._initTitleEvent(k),k.mainCell=c,this.setStyle(k,"treeListTitle"),!0===this.getOption().levelBorderOnly&&(k.style.borderRightWidth="0px"),this._setHtml(k,g.caption,!1),k.setAttribute("colSpan",c.getAttribute("colSpan")),k.setAttribute("rowSpan",c.getAttribute("rowSpan")),k.style.height=c.style.height,k.option.bandColIndex=c.option.bandColIndex,k.option.bandRowIndex=c.option.bandRowIndex,k.option.fieldNames=c.option.fieldNames,k.option.cIndex=c.option.cIndex,this.titleCol[k.option.cIndex]=k,k.option.isBand=c.option.isBand,null!=c.getAttribute("title")&&k.setAttribute("title",c.getAttribute("title")),1==h.selectAll&&1!=g.isBand&&("checkBox"==h.editType||"onoff"==h.editType?this._initTitleCheckBox(k,h.name,h):!0===this.getOption().treeGrid&&(null==this.getOption().treeKey&&0===d||this.getOption().treeKey==h.name)&&this._initTitleCheckBox(k,"",h)),this.isNotEmpty(c.dom.sortDiv)&&(null!=k.childNodes[0]?k.insertBefore(c.dom.sortDiv,k.childNodes[0]):k.appendChild(c.dom.sortDiv),k.dom.sortDiv=c.dom.sortDiv),this.isNotEmpty(h.inputerStr)&&k.setAttribute("inputer",h.inputerStr)),p++}g=null}}this.indexColWidth=60,(c=t.rows[0].insertCell(0)).option={},c.style.height="1px",this._setNumberValue(c,"width",this.indexColWidth),(c=t.rows[1].insertCell(0)).setAttribute("rowSpan",s),this._setHtml(c,this.numberCaption),this._setNumberValue(c,"width",this.indexColWidth),this.setStyle(c,"treeListTitle"),!0===this.getOption().levelBorderOnly&&(c.style.borderRightWidth="0px"),this.gridWidth+=this.indexColWidth,this._setNumberValue(t,"width",this.gridWidth);var T=this.getOption().titleRowHeight*s+this._addDeff(s-1);if((c=this.fzGridTable.rows[0].insertCell(0)).option={},c.style.height="1px",c.style.width=this.indexColWidth+"px",(c=this.fzGridTable.rows[1].insertCell(0)).option={},c.setAttribute("rowSpan",s),this._setHtml(c,this.numberCaption),c.style.width=this.indexColWidth+"px",c.option.cIndex=-1,0!=this.getOption().rownumbers&&this.colNames.splice(0,0,this.numberCaption),c.onmouseup=function(t){t=t||window.event,u.doTitleMouseUp(this,t)},c.onmousedown=function(t){t=t||window.event,u.doTitleMouseDown(this,t)},this.titleHeight=T,this.hiddenFieldNames="",c.style.height=T+"px",this.setStyle(c,"treeListTitle"),!0===this.getOption().levelBorderOnly&&(c.style.borderRightWidth="0px"),this.fzGridTable.border=0,this.fzGridTable.cellPadding=0,this.fzGridTable.cellSpacing=0,this.mulCellWidth=0,this._hasCheckCol=!1,this._colOrder={"@INDEX":0},0==this.treeGrid&&1==this.multiSelect){var N=0;!1!==this.getOption().multiFirst?this._colOrder={"@MUL":0,"@INDEX":1}:(this._colOrder={"@INDEX":0,"@MUL":1},N=1),this.mulCellWidth=30,this.gridWidth+=this.mulCellWidth,(c=t.rows[0].insertCell(N)).option={},c.style.height="1px",this._setNumberValue(c,"width",this.mulCellWidth),(c=t.rows[1].insertCell(N)).option={},c.setAttribute("rowSpan",s),this._setNumberValue(c,"width",this.mulCellWidth),this.setStyle(c,"treeListTitle"),!0===this.getOption().levelBorderOnly&&(c.style.borderRightWidth="0px"),(c=this.fzGridTable.rows[0].insertCell(N)).option={},c.style.height="1px",c.style.width=this.mulCellWidth+"px",(c=this.fzGridTable.rows[1].insertCell(N)).option={},c.setAttribute("rowSpan",s),this._initTitleCheckBox(c),this.mulCheckCol=c,c.style.width=this.mulCellWidth+"px",c.style.textAlign="center",c.option.cIndex=-1,this.setStyle(c,"treeListTitle"),!0===this.getOption().levelBorderOnly&&(c.style.borderRightWidth="0px"),this.colCount++,this._hasCheckCol=!0}for(this.colIndex+=this._colIndexDeff(),this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.colIndex,this._setNumberValue(t,"width",this.gridWidth),t.setAttribute("ecpClass","ecp.ui.datafield.Grid"),t.border=0,t.cellPadding=0,t.cellSpacing=0,a=this.fzGridTable.rows.length;a<s+1;a++)this.fzGridTable.insertRow(a);a=0;for(var O=this.fzGridTable.rows.length;a<O;a++){var L=this.fzGridTable.rows[a],k=(n=L.cells.length,L.insertCell(n));this._style(k,"width","1px"),0==a?this._style(k,"height","1px"):this._style(k,"height",this.getOption().titleRowHeight+"px"),k.noUse=!0}if(!0===this.getOption().hideTitle){for(a=this.titleRowCount-1;a>0;a--)this.gridTable.rows[a].style.display="none",this.fzGridTable.rows[a].style.display="none";this.titleIsHide=!0}else{var D=this._update;this._update=!1,this._refreshFzTitleWidth(),this._suitTitleHeight(),this._update=D}o=null,c=null,e=null,t=null},_initMulCellCol:function(e,i){e.levelDiv=this.createElement("div"),this.setStyle(e.levelDiv,"component_ui_cell"),e.levelDiv.style.width=i-2+"px";var n=0,s=this.createElement("table");this.setStyle(s,"component_ui_treecol_table"),s.style.height=this.rowHeight-3+"px";var o=s.insertRow(0);e.levelTd=o.insertCell(n++),e.levelTd.id="level";var l=o.insertCell(n++);e.treePoint=this.createElement("div"),l.appendChild(e.treePoint),l.style.width="15px",e.treePoint.style.width="15px",e.treePoint.style.height="13px",e.treeTd=l,e.treeTd.id="treePoint",l=o.insertCell(n++),e.checkBox=new t.ui.input.checkbox,e.checkBox.hide(),l.style.width="2px",l.appendChild(e.checkBox.getContainer()),e.checkTd=l,e.checkTd.id="check",(l=o.insertCell(n++)).style.paddingLeft="4px",l.appendChild(e.rect),e.rectTd=l,e.rectTd.id="text",e.levelDiv.appendChild(s),e.appendChild(e.levelDiv),l=null,o=null,s=null},_initCommonCellCol:function(e,i,n,s){"checkBox"==e||"onoff"==e||n==this._colOrder["@MUL"]?(i.checkBox=new t.ui.input.checkbox,i.checkBox.hide(),i.rect.text.appendChild(i.checkBox.getContainer()),i.rect.style.width="22px",i.rect.text.style.width="22px","onoff"==e&&(i.checkBox.onoff=new t.ui.button({move:!0,width:40,height:22,common:["onoff_off","onoff_on"]}),i.checkBox.onoff.setParent(i.rect.text),i.checkBox.onoff.hide())):"radio"==e&&(i.radio=new t.ui.input.checkbox({type:"radio"}),i.radio.hide(),i.rect.text.appendChild(i.radio.getContainer())),null!=s&&(i.rect.style.width=s-8+"px",i.rect.text.style.width=s-8+"px")},_createRectDiv:function(t,e){var i=this.createElement("div");this.setStyle(i,"component_ui_cell"),null!=t&&(i.style.width=t-8+"px"),null!=e&&(i.style.height=e-6+"px");var n=this.createElement("div");return this.setStyle(n,"component_ui_in_cell"),n.style.width=i.style.width,n.style.height=i.style.height,i.appendChild(n),i.text=n,i},_calcRowCount:function(t){var e=this.titleRowCount,i=0;if(this.getHScrollHide()||(i=16),this.titleHeight=this.gridTable.rows[1].cells[0].offsetHeight,this.titleHeight<=0){var n=this.gridTable.rows[1].cells;if(!1===this.getOption().rownumbers&&this.titleRowCount>2){for(var s=0,o=0;o<this.titleRowCount;o++)s+=this.gridTable.rows[o].offsetHeight;s<=0&&n.length>1&&(s=this._getNumberValue(this.gridTable.rows[1].cells[1].style.height,0)),this.titleHeight=s}else n.length>1&&(this.titleHeight=this._getNumberValue(this.gridTable.rows[1].cells[1].style.height,0))}if(this.titleIsHide?this.titleHeight=0:0===this.titleHeight&&(this.titleHeight=this.getOption().titleRowHeight*e),1!=t&&null!=this.titleHeight&&this._titleHeight==this.titleHeight)return!0;this.bodyHeight=this._getRectHeight()-this.titleHeight-i-this._pageBoxHeight;var l=parseInt(this.bodyHeight/this.rowHeight,10),r=this.bodyHeight%this.rowHeight;this.hafRow=!1,r>0&&1!=this.getOption().footerrow&&!0!==this.getOption().total?(this.hafRow=!0,l++):1!=this.getOption().footerrow&&!0!==this.getOption().total||(this.hafRow=!0),this.gridHeight=l*this.rowHeight+this.titleHeight,this.rowCount=l,this._titleHeight=this.titleHeight},initGrid:function(){var t=this.gridTable;if(this._calcRowCount(!0),this.rowCount===this._rowCount)return!1;this._rowCount=this.rowCount;var e=this.rowCount,i=this.titleRowCount;this.sheets=[],this.fzSheets=[];for(var n=i;n<e+i;n++){var s,o;if(t.rows.length>n){if(s=t.rows[n],o=this.fzGridTable.rows[n],null==s){for(;n<t.rows.length;)t.deleteRow(n);s=t.insertRow(n)}if(null==o){for(;n<this.fzGridTable.rows.length;)this.fzGridTable.deleteRow(n);o=this.fzGridTable.insertRow(n)}}else s=t.insertRow(n),o=this.fzGridTable.insertRow(n);this.sheets[n-i]=[],this.sheets[n-i].row=s,this.fzSheets[n-i]=[],this.fzSheets[n-i].row=o,s.style.height=this.rowHeight+"px",o.style.height=this.rowHeight+"px";for(var l=!0,r=0;r<this.colCount;r++){var a;if(s.cells.length>r)a=s.cells[r];else{(a=s.insertCell(r))._option={},this.setStyle(a,"gridNoneCell");var h=this._getColModel(r);a.rect=this._createRectDiv(h.width,this.rowHeight),(null==this.getOption().treeKey&&1===r||null!=this.getOption().treeKey&&this.getOption().treeKey==h.name)&&0!=this.option.treeGrid?this._initMulCellCol(a,h.width):(a.appendChild(a.rect),r===this._colOrder["@INDEX"]?0==this.getOption().rownumbers&&(a.rect.style.display="none"):this._initCommonCellCol(h.editType,a,r,h.width)),25!==this.rowHeight&&(null==this.getOption().treeKey&&1===r||null!=this.getOption().treeKey&&this.getOption().treeKey==h.name)&&0!=this.option.treeGrid&&(a.levelDiv.style.height=this.rowHeight-6+"px")}if(a._cellIndex=r,this.sheets[n-i][r]=a,r==this._colOrder["@INDEX"])o.cells.length>r?(u=o.cells[r]).noUse=!1:((u=o.insertCell(r))._option={},this.setStyle(u,"gridNoneCell"),u.rect=this._createRectDiv(60),0==this.getOption().rownumbers&&(u.rect.style.display="none"),u.appendChild(u.rect)),u._cellIndex=a._cellIndex,this.fzSheets[n-i][r]=u,u=null;else{if(h=this._getColModel(r),l=l&&(this.getBooleanValue(h.frozen,!1)||r===this._colOrder["@MUL"]))o.cells.length>r?(u=o.cells[r]).noUse=!1:((u=o.insertCell(r))._option={},this.setStyle(u,"gridNoneCell"),u.rect=this._createRectDiv(h.width,this.rowHeight),(null==this.getOption().treeKey&&1===r||null!=this.getOption().treeKey&&this.getOption().treeKey===h.name)&&0!=this.option.treeGrid?this._initMulCellCol(u,h.width):(u.appendChild(u.rect),r===this._colOrder["@INDEX"]?0==this.getOption().rownumbers&&(u.rect.style.display="none"):this._initCommonCellCol(h.editType,u,r,h.width)),25===this.rowHeight&&this._colOrder["@MUL"]!==r||(null==this.getOption().treeKey&&1===r||null!=this.getOption().treeKey&&this.getOption().treeKey===h.name)&&0!=this.option.treeGrid&&(u.levelDiv.style.height=this.rowHeight-6+"px")),u._cellIndex=a._cellIndex,this.fzSheets[n-i][r]=u,u=null;else for(;o.cells.length>r;)o.deleteCell(r);h=null}a=null}for(;s.cells.length>r;)s.deleteCell(r);var c=o.cells.length,u=o.insertCell(c);this._style(u,"width","1px"),u.noUse=!0,s=null}for(var d=t.rows.length;d>n;)t.deleteRow(d-1),this.fzGridTable.deleteRow(d-1),d=t.rows.length;this.initTotalRow(),this.refreshScrollBar(),t=null,!1!==this.getOption().shrinkToFit&&this.shrinkToFit(!0),!0===this.getOption().suitToFit&&this.suitToFit();var p=(this.titleRowCount-1)*this.getOption().titleRowHeight;return this.emptyDiv.style.left=parseInt((this.getWidth()-100)/2,10)+"px",this.emptyDiv.style.top=parseInt((this.getHeight()-20-p)/2,10)+p+"px",!0},initTotalRow:function(){for(;this.fzSumTable.rows.length>0;)this.fzSumTable.deleteRow(0);for(;this.sumTable.rows.length>0;)this.sumTable.deleteRow(0);this.totalRowCount=0,!0!==this.getOption().totalRever&&!0===this.getOption().subtotal&&(this._addTotalRow(this.totalRowCount,this.subtotalText),this.subtotalIndex=this.totalRowCount,this.totalRowCount++,this.sumTable.style.width=this.gridTable.style.width),!0!==this.getOption().footerrow&&!0!==this.getOption().total||(this._addTotalRow(this.totalRowCount,this.summaryText),this.totalIndex=this.totalRowCount,this.totalRowCount++,this.sumTable.style.width=this.gridTable.style.width),!0===this.getOption().totalRever&&!0===this.getOption().subtotal&&(this._addTotalRow(this.totalRowCount,this.subtotalText),this.subtotalIndex=this.totalRowCount,this.totalRowCount++,this.sumTable.style.width=this.gridTable.style.width)},_addTotalRow:function(t,e){var i=this.fzSumTable.insertRow(t);i.style.height=this.rowHeight-1+"px";var n=this.sumTable.insertRow(t);n.style.height=this.rowHeight-1+"px";for(var s=!0,o=0;o<this.colCount;o++){var l=null,r=null;if(o===this._colOrder["@INDEX"])(r=n.insertCell(o))._option={},r.rect=this._createRectDiv(60),r.appendChild(r.rect),r._cellIndex=o,this._setHtml(r.rect.text,"<strong>"+e+"</strong>",!1),this.setStyle(r,["treeListIndex"]),(l=i.insertCell(o))._option={},l.rect=this._createRectDiv(60),l.appendChild(l.rect),l._cellIndex=r._cellIndex,this._setHtml(l.rect.text,r.rect.text.innerHTML,!1),this.setStyle(l,["treeListIndex"]);else{var a=this._getColModel(o);(r=n.insertCell(o))._option={},r.rect=this._createRectDiv(a.width,this.rowHeight),r.appendChild(r.rect),r._cellIndex=o,this.setStyle(r,["gridReadonly","fontBold"]),(s=s&&(this.getBooleanValue(a.frozen,!1)||o===this._colOrder["@MUL"]))&&((l=i.insertCell(o))._option={},l.rect=this._createRectDiv(a.width,this.rowHeight),l.appendChild(l.rect),l._cellIndex=r._cellIndex,o===this._colOrder["@MUL"]?this.setStyle(l,["treeListIndex"]):this.setStyle(l,["gridReadonly","fontBold"]))}0==t&&(this.addStyle(r,"borderTopLine"),null!=l&&!0!==l.noUse&&this.addStyle(l,"borderTopLine"));var h=this._getTopCell(o);r.style.width=h.style.width,r.style.display=h.style.display,null!=l&&!0!==l.noUse&&(l.style.width=h.style.width,l.style.display=h.style.display)}},_getTopCell:function(t){return this.gridTable.rows[0].cells[t]},_addFilterRow:function(t,e,i,n,s){var o=t.insertRow(e),l=this;o.onmouseover=function(){l.setStyle(this,"popMouseOver")},o.onmouseout=function(){l.setStyle(this,"popCaption")},this.setStyle(o,"popCaption");var r=o.insertCell(0);this._setHtml(r,i),r.onclick=s,r.style.height=n+"px"},setSortState:function(t,e){this.sortTables[t].sortState=e,this._sortFieldName=t,this.refreshSortState()},setSort:function(t,e,i,n){"function"==typeof i&&(n=i,i=!1);var s=this,o=s.sortTables[t];null==o||o.sortState==e?"function"==typeof n&&n.apply(s,arguments):(o.sortState=e,s.hasbind("onSort")?(s._sortFieldName=t,s.trigger("onSort",[t,e]),0!=i?s.first():s.dataSet.first(),"function"==typeof n&&n.apply(s,arguments)):(s.dataSet.doSort(t,e,function(){s._sortFieldName=t,0!=i?s.first():s.dataSet.first(),"function"==typeof n&&n.apply(s,arguments)}),s.trigger("onSortCol",[s.colIndex-1,s.colIndex,s.state])))},_initFilterWindow:function(){var e=this;this.pfilter=new t.ui.drop.popfilter({sort:this.getOption().sort,escape:!1}),this.pfilter.setParent(e.getModelBody()),this.pfilter.bind("onSort",function(t,i){e.setFocus(),e.setSort(t,i)}),this.pfilter.bind("onClearFilter",function(t){e.setFocus(),e.setSort(e._sortFieldName,"none",!1,function(){e.dataSet.clearFilterText(function(){for(var t in e.sortTables){var i=e.sortTables[t];null!=i&&(i.filtered=!1),i=null}null!=e.pageObj&&null!=e.pageObj.clearFilterCount&&e.pageObj.clearFilterCount(),e.first(),e.trigger("onFiltered",[e.dataSet])})})}),this.pfilter.bind("onFilter",function(t,i,n){e.setFocus(),e.setSort(e._sortFieldName,"none",!1,function(){n.length>0&&n.length<i&&"all"==n[0].id&&n.splice(0,1),e.dataSet.addFilterText(t,n,function(){e.first(),null!=e.pageObj&&null!=e.pageObj.setFilterCount&&e.pageObj.setFilterCount(e.dataSet.getRecordCount()),e.trigger("onFiltered",[e.dataSet])})})}),this.pfilter.bind("onCancel",function(){e.setFocus()})},refreshTitle:function(t,e){if(1!=this._hasDestroy){if(null!=t){this.isNotEmpty(t.colNames)&&(this.option.colNames=t.colNames),this.isNotEmpty(t.colModels)&&(this.option.colModels=t.colModels),!0===e&&(this.getOption().defColNames=this.extend([],this.getOption().colNames),this.getOption().defColModels=this.extend([],this.getOption().colModels));var i=!1;for(var n in t){var s=t[n];"Align"==n&&this.option[n]!==s?(this.option[n]=s,i=!0):"object"!=typeof s&&(this.option[n]=s)}i&&this.doResize()}this._initOption(),this.colIndex=1,this._oldGridWidth=null,this.dataSet.keyName=this.getPKeyName(),this.dataSet.itemCode=this.dataSet.keyName;for(var o=this.option.colModels,l={},r=0,a=o.length;r<a;r++){var h=o[r];"function"==typeof h.onGetDisplay&&(l[h.name]=h.onGetDisplay)}o=null,this.hiddenFieldNames="",this.option.titleSheets=[],this._initColModel(),this._parseTitle(),this.dataSet.setViewColModels(this.option.colModels),this._createModelJson(),this.multiSelect=this.getBooleanValue(this.getBooleanValue(this.getOption().multiselect,this.getOption().multiSelect),!1),this.dataSet.setMultiSelect(this.multiSelect),this.dataSet.reverGJ=this.getOption().reverGJ,this.dataSet.sumAllLevel=this.getOption().sumAllLevel,this._createTitle(),this._rowCount=0,null==this.pageObj&&this._initPagerBox(),this.inputFocus=!1,this.initGrid(),this.editObjects={},this._editTypes={},this.dataSet.first(),this.topNode=this.dataSet.getCurNode();var c=this.option.colModels;for(r=0,a=c.length;r<a;r++){var u=c[r];if(null!=l[u.name]){var d=this.dataSet.getFieldOption(u.name);d.onGetDisplay=l[u.name],u.onGetDisplay=l[u.name],d=null}}l=null,this.refresh(!0),!1!==this.getOption().shrinkToFit&&this.shrinkToFit(),!0===this.getOption().suitToFit&&this.suitToFit()}},isShow:function(){return this.copyDiv&&this.copyDiv.offsetWidth>0},mulMoveRecord:function(t,e){if(null!=this.topNode){var i=this,n=this.topNode.scrIndex;this.dataSet.mulMoveNode(t,function(t,e){var s=i.dataSet.getCurNode();for(i.dataSet.beginUpdate(),i.dataSet.first();!i.dataSet.isEof();){if(i.dataSet.getIndex()==n){i.topNode=i.dataSet.getCurNode();break}i.dataSet.next()}i.dataSet.select(s),i.dataSet.endUpdate(!1),i.refresh(),i.scrollToFocus()})}},moveRecord:function(t,e,i){"boolean"==typeof e&&(refresh=e,e=null),null==e&&(e=this.dataSet.getCurNode());var n=this.dataSet.moveNode(t,e,i);if(n.fromIndex!=n.toIndex){var s=e.pNode,o=e,l=s.getNode(n.fromIndex);this.topNode.recNo===l.recNo?this.topNode=o:this.topNode.recNo===o.recNo?this.topNode=s.getNode(n.fromIndex):this.topNode.level==o.level&&this.topNode.index>o.index&&(this.topNode=s.getNode(this.topNode.index-1)),!0!==i&&(this.refresh(),this.scrollToFocus(),this.refresh())}return n},_refreshTotalRow:function(t,e,i){for(var n=this.sumTable.rows[t],s=this.fzSumTable.rows[t],o=s.cells.length,l=""===this.summaryText,r=0,a=n.cells.length;r<a;r++){var h=n.cells[r],c=null;if(r<o&&(c=s.cells[r]),r===this._colOrder["@INDEX"])this.getOption().rownumbers&&""!==i?(this._setHtml(h.rect.text,"<strong>"+i+"</strong>",!1),this._setHtml(c.rect.text,h.rect.text.innerHTML,!1),l=!0):(this._setHtml(h.rect.text,"",!1),this._setHtml(c.rect.text,"",!1));else{var u=this._getColModel(r);if(this.isNotEmpty(u))if(1!=u.hidden){"none"==h.style.display&&(h.style.display="",null!=c&&!0!==c.noUse&&(c.style.display="")),!1!==u.ellipsis&&"onoff"!=u.editType&&"checkBox"!=u.editType&&"radio"!=u.editType&&this.addStyle(h.rect.text,"ellipsis"),"ellipsis"==this.getCurrentStyle(h.rect.text).textOverflow?h.rect.text.style.lineHeight=this.rowHeight-4+"px":h.rect.text.style.lineHeight="normal";var d=this.dataSet.getValue(u.name,e),p=this.trigger("onSummaryDraw",[this.dataSet,u.name,e]);if(null==p){if(null!=d&&""!==d)this._setHtml(h.rect.text,this.dataSet.getDisplay(u.name,d,e),!1),h.style.textAlign=this.getColAlign(u.name),null!=c&&!0!==c.noUse&&(this._setHtml(c.rect.text,h.innerHTML,!1),c.style.textAlign=h.style.textAlign);else if(l)1==u.sum||"true"===u.sum?this._setHtml(h.rect.text,this.dataSet.getDisplay(u.name,d,e),!1):this._setHtml(h.rect.text,d,!1),h.style.textAlign=this.getColAlign(u.name),null!=c&&!0!==c.noUse&&(this._setHtml(c.rect.text,h.innerHTML,!1),c.style.textAlign=h.style.textAlign);else{this._setHtml(h.rect.text,i),h.style.textAlign="center",null!=c&&!0!==c.noUse&&(this._setHtml(c.rect.text,h.innerHTML,!1),c.style.textAlign=h.style.textAlign);var g=this.dataSet.getColModel(u.name),f=g.dataType;g.dataType="string",this.dataSet.setValue(u.name,i,e),g.dataType=f}l=!0}else this._setHtml(h.rect.text,d,!1),h.style.textAlign=p.align,null!=c&&!0!==c.noUse&&(this._setHtml(c.rect.text,h.innerHTML,!1),c.style.textAlign=h.style.textAlign)}else h.style.display="none",null!=c&&!0!==c.noUse&&(c.style.display="none")}!0===this.getOption().levelBorderOnly&&(-1==h.className.indexOf("gridFocusCell")&&-1==h.className.indexOf("gridNoFocusFocusCell")?(h.style.borderRightWidth="0px",null!=c&&(c.style.borderRightWidth="0px")):(h.style.borderRightWidth="",null!=c&&(c.style.borderRightWidth="")))}},doVScrollShow:function(){this._refreshSumTab()},_refreshSumTab:function(t,e){if(null!=this.listDiv)if("number"!=typeof e&&(e=0),0===this.listDiv.offsetHeight&&e<1){var i=this;this._asynRun(function(){i._refreshSumTab(!0,++e)},300)}else{var n=!0===this.getOption().footerrow||!0===this.getOption().total,s=!0===this.getOption().subtotal,o=this.bodyHeight+this.titleHeight-1;if(!(o<=0||"hidden"==this.listDiv.style.overflowY&&this.gridTable.offsetWidth>this.listDiv.offsetWidth)&&(this.fzGridSheetsDiv.style.height=this.listDiv.clientHeight+"px",this.listDivBox.style.height=o+"px",!0===n||!0===s)){var l=this._getNumberValue(this.fzGridSheetsDiv.style.height),r=this._getNumberValue(this.fzGridTable.style.width)-1;this.fzSumTable.style.width=r+"px",this.sumTable.style.bottom="",s&&(l-=this._getNumberValue(this.fzSumTable.rows[this.subtotalIndex].style.height,0),this._refreshTotalRow(this.subtotalIndex,this.dataSet.subNode,this.subtotalText)),n&&(l-=this._getNumberValue(this.fzSumTable.rows[this.totalIndex].style.height,0),this._refreshTotalRow(this.totalIndex,this.dataSet.rootNode,this.summaryText)),this.sumTable.style.top=l+"px"}}},_refreshRowspan:function(t,e,i){var n=this.rowHeight*e-6+"px";t.setAttribute("rowSpan",e),t.rect.style.height=n,t.rect.text.style.height=n,null!=t.levelDiv&&(t.levelDiv.style.height=n),t.rect.text.style.lineHeight=!1!==i?n:"normal"},_isMerge:function(t,e,i,n){null==n&&(n=this.dataSet.getValue(t.name,e));var s=null!=e&&e.level==i.level&&("checkBox"!==t.editType&&"onoff"!==t.editType&&n==this.dataSet.getValue(t.name,i)&&(!0!==t.groupsEmpty&&""!==this.dataSet.getValue(t.name,i)||!0===t.groupsEmpty)||("checkBox"===t.editType||"onoff"===t.editType)&&n==this.dataSet.getValue(t.name,i));if(null!=e&&e.level==i.level&&this.hasbind("onBeforeGroups")){var o=this.trigger("onBeforeGroups",[t,e,i,s]);null!=o&&(s=!1!==o)}return s},_refreshGroups:function(t,e,i,n,s,o,l){if(null!=this.getOption()&&!0===t.groups&&"radio"!==t.editType)if(e>0){var r=this.sheets[e-1][i],a=this.fzSheets[e-1][i];r.groupIndex=e,null!=r.groupCol&&(r=r.groupCol),null!=s&&!0!==s.noUse&&null!=a.groupCol&&(a=a.groupCol);var h=this._getNumberValue(r.getAttribute("rowSpan"),1),c=this._isMerge(t,o,l);if(this.dataSet.getCellOption(t.name),!0===c)h=n.parentNode.rowIndex-r.parentNode.rowIndex+1,this._refreshRowspan(r,h,t.ellipsis),n.style.display="none",n.groupCol=r,null!=s&&!0!==s.noUse&&(this._refreshRowspan(a,h,t.ellipsis),s.style.display="none",s.groupCol=a);else{h=e-r.groupIndex+1;this._refreshRowspan(r,h,t.ellipsis),this._refreshRowspan(n,1,t.ellipsis),n.style.display="",n.groupCol=null,null!=s&&!0!==s.noUse&&(h=e-r.groupIndex+1,this._refreshRowspan(a,h,t.ellipsis),this._refreshRowspan(s,1,t.ellipsis),s.style.display="",s.groupCol=null)}}else(h=this._getNumberValue(n.getAttribute("rowSpan"),1))>1&&this._refreshRowspan(n,1,t.ellipsis),"none"==n.style.display&&n.style.display,null!=s&&!0!==s.noUse&&((h=this._getNumberValue(s.getAttribute("rowSpan"),1))>1&&this._refreshRowspan(s,1,t.ellipsis),"none"==n.style.display&&s.style.display);else(h=this._getNumberValue(n.getAttribute("rowSpan"),1))>1&&this._refreshRowspan(n,1,t.ellipsis),"none"==n.style.display&&n.style.display,null!=s&&!0!==s.noUse&&((h=this._getNumberValue(s.getAttribute("rowSpan"),1))>1&&this._refreshRowspan(s,1,t.ellipsis),"none"==n.style.display&&s.style.display)},refreash:function(){this.refresh()},_emptyCell:function(t,e){for(var i=t.rect.text.childNodes.length-1;i>=0;i--){var n=t.rect.text.childNodes[i];null!=n&&(n.nodeType<3?n.style.display="none":n.removeNode?n.removeNode():n.remove&&n.remove())}null!=t.checkBox&&t.checkBox.isShow()&&t.checkBox.hide(),this._resetCell(t,e),t.setAttribute("title",""),t.onclick=null,t.ondblclick=null,t.onmousedown=null,this.setStyle(t,"gridNoneCell"),this.isNotEmpty(t.treePoint)&&this.clearStyle(t.treePoint),t.style.backgroundColor="",this._getNumberValue(t.getAttribute("rowSpan"),10)>1&&t.setAttribute("rowSpan",1),null!=t.valiDiv&&t.valiDiv.parentNode==t.rect&&(t.valiDiv.remove?t.valiDiv.remove():t.valiDiv.removeNode&&t.valiDiv.removeNode())},refresh:function(t,e){if(!this._update)return!1;this.refreshHiddenState(),null!=this.dataSet.curNode&&null!=this.dataSet.curNode.recNo||this.dataSet.first(),this.mulCellSelect=!1;var i=this.dataSet.getCurNode(),n=this.sheets.length;this.inputFocus=!1,this.selRowInShow=!1;var s=n,o=0;this.curCell=null;var l=0;!0===this.getOption().footerrow&&(l=0);var r=this.getHScrollHide();if(this.dataSet.beginUpdate(),this.needContentFit={},this.dataSet.getRecordCount()>0){(null==this.topNode||this.topNode.level<0||null==this.topNode.level)&&(this.topNode=this.dataSet.getTopNode()),null==this.selRect.beginRowNode&&(this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode),this.mulCellSelect=this.selRect.beginColIndex<this.selRect.endColIndex||null!=this.selRect.beginRowNode&&this.selRect.beginRowNode.getIndex()<this.selRect.endRowNode.getIndex(),this.dataSet.select(this.topNode);var a=this.getReadOnly(),h=this._comRect||{},c=this.getOption().width;null==h.left&&(h={left:0,right:c});var u={},d={},p=0;if(null==this.gridTable||0==this.gridTable.rows.length)return;for(var g=0,f=this.gridTable.rows[0].cells.length;g<f;g++){var y=0;"none"!=(I=this.gridTable.rows[0].cells[g]).style.display&&(y=this._getNumberValue(I.style.width)),u[g]=p,d[g]=y,p+=y}var m=this.listDiv.scrollLeft,v=0,C=1e4,S=0,b=!1;s-l>0&&(C=this.sheets[0].length);var x=0;this.fzSheets.length>0&&(x=this.fzSheets[0].length-1),this._lastNode=null,this._showCount=s-l;var _=null;for(o=0;o<s-l&&!this.dataSet.isEof();o++){var w=(P=this.sheets[o]).row,T=(W=this.fzSheets[o]).row,N=this.dataSet.getCurNode();for(w._node=N,T._node=N,g=0;g<C||g<=S;g++)if(g>S&&g<v&&!1===b){var O=g;g=v-1;for(var L=O;L<=g;L++){var k=P[L],D=W[L];(F=this._getColModel(L)).hidden?"none"!==k.style.display&&(k.style.display="none",D&&(D.style.display=k.style.display)):null!=F.name&&null==F.groupCol&&"none"==k.style.display&&(k.style.display="",D&&(D.style.display=k.style.display))}}else{var I=P[g],B=W[g],Y=null;if(g!==this._colOrder["@INDEX"]&&(Y=W[g-1]),0==o&&"none"!=I.style.display){this.isNotEmpty(B)&&(S=g);var R=h.left+u[I.cellIndex]+1-m,M=d[I.cellIndex],E=R-h.left;if(E+M<0-this.scrollWidth)v=g;else if(E>c+this.scrollWidth){C=g;break}}var H=!0,F=this._getColModel(g);if(!0===e){H=!1,(g==this._colOrder["@INDEX"]||g==this._colOrder["@MUL"]||(g>=this._selRect.beginColIndex&&g<=this._selRect.endColIndex||x===g)&&N.getIndex()>=this._selRect.beginRowNode.getIndex()&&N.getIndex()<=this._selRect.endRowNode.getIndex()||(g>=this.selRect.beginColIndex&&g<=this.selRect.endColIndex||x===g)&&N.getIndex()>=this.selRect.beginRowNode.getIndex()&&N.getIndex()<=this.selRect.endRowNode.getIndex())&&(H=!0);var Z=this.dataSet.getCellOption(F.name,N);1!=H&&null!=Z.changed&&!0===Z.changed&&(H=!0,Z.changed=!1),1!=H&&null!=F.validate&&""!==F.validate&&null!=this.dataSet.getFieldOption(F.name)._valiExp&&(H=!0,Z.hasValidate=!1),Z=null,1==H||!this.getReadOnly()&&!0!==this.getOption().heightLight||(null!=this._curNode&&this._curNode.recNo==N.recNo||i.recNo==N.recNo)&&(H=!0)}!0!==F.hidden&&(1==F.groups&&(b=!0),this._refreshGroups(F,o,g,I,B,_,N)),H&&this.refreshCell(w,T,I,B,Y,o,g,N,i,a,t),F=null,I=null,B=null}o<s-l-1||r&&this.rowHeight<=28&&!this.hafRow?(this.bottomNode=N,this.bottomNode.recNo==i.recNo&&(this.selRowInShow=!0,null!=T&&this.fzSheets[0].length>1?this.selRow=T:this.selRow=w)):this._lastNode=N,_=N,this.dataSet.next(),P=null,w=null,W=null,T=null,N=null}this.selRowInShow||(this.selRow=null)}this.refreshSortState();for(var z=this.getOption().treeKey||"";o<s;o++){for(var P=this.sheets[o],W=this.fzSheets[o],J=(g=0,P.length);g<J;g++){var X=(F=this._getColModel(g)).name,A=(I=P[g],1==this.getOption().treeGrid&&(""===z&&1==g||z===X));if(this._emptyCell(I,A),g===this._colOrder["@INDEX"]?(this.getOption().rownumbers?(I.style.width="60px",I.rect.style.display=""):(I.style.width="1px",I.rect.style.display="none"),X="@INDEX"):(this.isEmpty(F)&&g==this._colOrder["@MUL"]&&(X="@MUL"),!0===F.hidden?I.style.display="none":I.style.display=""),I.style.backgroundColor="",this.isNotEmpty(W[g])){var V=W[g];this._emptyCell(V,A),g===this._colOrder["@INDEX"]&&(this.getOption().rownumbers?(V.style.width="60px",V.rect.style.display=""):(V.style.width="1px",V.rect.style.display="none")),V.style.display!==I.style.display&&(V.style.display=I.style.display),V.style.backgroundColor="",this.trigger("onCellClear_"+X,[this.dataSet,X,V]),V=null}else this.trigger("onCellClear_"+X,[this.dataSet,X,I]);I=null}P=null,W=null}for(var j in this._refreshSumTab(),this.dataSet.select(i),this.dataSet.endUpdate(!1),this.refreshScrollBar(),this.editObjects)this.editObjects[j].focus=!1;if(this.inputFocus&&this.isNotEmpty(this.editObject)?!0!==this._hasScroll&&"function"==typeof this.editObject.setFocus&&this.editObject.setFocus():this.editObject=null,null!=this.copyInput&&this.dataSet.getRecordCount()>0&&this.focus)if(this.mulCellSelect){this.copyInput.value=this.getCopyData();var G=this.copyInput;null==this._setTimeoutStack.copyFocus&&(this._setTimeoutStack.copyFocus=[]),this._setTimeoutStack.copyFocus.push("1"),this._asynRun(function(){0==this.cellMouseDown&&G.offsetHeight>0&&(G.select(),G.focus()),G=null},10)}else this.copyInput.value="",this.getCellReadOnly(this.getFieldName())&&(this.copyInput.value=this.getCopyData(),G=this.copyInput,this._asynRun(function(){0==this.cellMouseDown&&G.offsetHeight>0&&(G.select(),G.focus()),G=null},10));for(var Q in this._asynRun(function(){null!=this&&null!=this.listDiv&&0!=this.listDiv.offsetWidth&&(this.listDiv.scrollTop=0),null!=this&&null!=this.fzGridSheetsDiv&&0!=this.fzGridSheetsDiv.offsetWidth&&(this.fzGridSheetsDiv.scrollTop=0)},50),this.hasCopy=!1,this.priorColIndex=this.colIndex,""==this.thisWindow.style.width&&(this.thisWindow.style.width=this.getOption().width+"px"),this._addNew=!1,this._selRect={},this.selRect)this._selRect[Q]=this.selRect[Q];this._curNode=this.dataSet.getCurNode(),this.dataSet.getRecordCount()>0?this.emptyDiv.style.display="none":this.emptyDiv.style.display=""},_ondbclick:function(t){t=t||window.event;var e=this._option._this;if(e._isdbclick=!0,"function"==typeof e.onDBClick)try{null!=this.editObject&&this.editObject.isFocus()&&this.editObject.doBlur(!0),e.onDBClick(e,t)}catch(t){e.logError("[onDBClick] error:"+t.message+t.stack)}e.hasbind("onDBClick")&&(null!=e.editObject&&"function"==typeof e.editObject.isFocus&&e.editObject.isFocus()&&e.editObject.doBlur(!0),e.trigger("onDBClick",[e,t]))},_onTreePointClick:function(){var t=this._option._this,e=this._option.node;t.post(),e.expanded?e.collapse():(e.expand(),"function"==typeof t.onExpand&&(t.dataSet.select(e),t.onExpand(e),e.hasExpand=!0),t.hasbind("onExpand")&&(t.dataSet.select(e),t.trigger("onExpand",[e]),e.hasExpand=!0)),t.dataSet.select(e),t.selRect.beginRowNode=e,t.selRect.endRowNode=e,t.colIndex=1,t.selRect.beginColIndex=t.colIndex,t.selRect.endColIndex=t.colIndex,t.isSelect=!1,t.refresh(),t.isSelect=!0,t.isTreePointClick=!0,t=null},_refreshMulTitleCheck:function(){for(var t=this.dataSet.rootNode,e=!1,i=!1,n=0,s=t.count;n<s&&(!0===t.getNode(n).checkState?e=!0:i=!0,!e||!i);n++);!0===e&&!1===i?this.setTitleChecked("@MUL",!0):!1===e&&!0===i?this.setTitleChecked("@MUL",!1):!0===e&&!0===i?this.setTitleChecked("@MUL",!0,!0):this.setTitleChecked("@MUL",!1)},_onTreeCheckBoxClick:function(t){var e=this._option,i=e._this;if(i.post(),i.dataSet.select(e._cNode),e._cNode.checkState?i.dataSet.setUnCheck(e._cNode):i.dataSet.setCheck(e._cNode),(0==e._cNode.level||i.dataSet.autoCheckType.autoCheckAllParent||i.dataSet.autoCheckType.autoUnCheckAllParent)&&i._refreshMulTitleCheck(),"function"==typeof i.onCheckChanged)try{i.onCheckChanged(e._cNode,e._cNode.checkState,"@MUL")}catch(t){i.logError("[onCheckChanged] error:"+t.message+t.stack)}i.trigger("onCheckChanged",[e._cNode,e._cNode.checkState,"@MUL"]),i.trigger("onSelectRow",[e._cNode,e._cNode.checkState,"@MUL"]),i.isSelect&&i.focus&&i.trigger("onSelectEcpRow",[i.getSelectRowIds(),"@MUL",t]),i.refresh(),i=null,e=null},_onCommonRadioClick:function(){if(this.getCheck()){var t=this._option,e=t._this,i=t._fieldName,n=t._colModel,s=e.radioCheck[i];if(null!=s&&s.recNo===t._cNode.recNo)return;var o=e.dataSet.getValue(i,t._cNode);e.dataSet.setValue(i,n.editoptions.check,t._cNode),e.isNotEmpty(s)&&e.dataSet.setValue(i,n.editoptions.uncheck,s),e.radioCheck[i]=t._cNode;var l=this.getCheck();if("function"==typeof e.onCheckChanged)try{e.onCheckChanged(t._cNode,l,i)}catch(t){e.logError("[onCheckChanged] error:"+t.message+t.stack)}e.trigger("onCheckChanged",[t._cNode,l,i]),e.trigger("onSelectRow",[t._cNode,l,i]),e.dataPost=!0;var r=e.dataSet,a=r.getDataType(i),h=r.getValue(i),c=r.getDisplay(i),u=r.getOption(i,t._cNode);if("function"==typeof e.onEditing)try{0==e.onEditing(n,o,h,u,t._cNode)&&(e.dataSet.setValue(i,o,t._cNode),e.isNotEmpty(s)&&!0!==s._hasDestroy&&(e.dataSet.setValue(i,n.editoptions.check,s),e.radioCheck[i]=s),e.dataPost=!1,e.focus=!1)}catch(t){this.logError("[onEditing]Error:"+t.message)}if(e.hasbind("onEditing")&&0==e.trigger("onEditing",[n,o,h,u,t._cNode])&&(e.dataSet.setValue(i,o,t._cNode),e.isNotEmpty(s)&&(e.dataSet.setValue(i,n.editoptions.check,s),e.radioCheck[i]=s),e.dataPost=!1,e.focus=!1),e.dataPost&&"function"==typeof e.onAfterEdit)try{e.onAfterEdit(a,i,h,c,n,t._cNode)}catch(t){e.logError("[onAfterEdit] error:"+t.message+t.stack)}e.trigger("onAfterEdit",[a,i,h,c,n,t._cNode]),e.trigger("afterEditCell",[e.getPKeyName(),i,h]),r=null,u=null,t=null}},_updateGroupValues:function(t,e,i,n){this.dataSet.beginUpdate();var s=this.dataSet.getCurNode();null!=n&&this.dataSet.select(n);var o=this.dataSet.getCurNode(),l=this.getColModel(t);for(this.dataSet.next();!this.dataSet.isEof();){var r=this.dataSet.getCurNode();if(!0!==this._isMerge(l,o,r,e))break;this.dataSet.setValue(t,i),this.dataSet.next()}for(this.dataSet.select(o),this.dataSet.prior();!this.dataSet.isBof()&&(r=this.dataSet.getCurNode(),!0===this._isMerge(l,o,r,e));)this.dataSet.setValue(t,i),this.dataSet.prior();this.dataSet.select(s),this.dataSet.endUpdate(!1)},_updateTitleCheck:function(t,e){if("checkBox"!==t.editType&&"onoff"!==t.editType)return!1;var i=this;if(null==t)!0===this.getOption().multiSelect&&(!0==(s=this.dataSet.rootNode.count==this.dataSet.rootNode.childCheckCount)?this.setTitleChecked("@MUL",s):this.dataSet.rootNode.childCheckCount>0?this.setTitleChecked("@MUL",!0,!0):this.setTitleChecked("@MUL",!1));else if(1==t.selectAll){var n=t.name;if(this.getOption().treeKey==n||0===e){var s;!0==(s=this.dataSet.rootNode.count==this.dataSet.rootNode.childCheckCount)?this.setTitleChecked("@MUL",s):this.dataSet.rootNode.childCheckCount>0?this.setTitleChecked("@MUL",!0,!0):this.setTitleChecked("@MUL",!1)}else{var o=!0,l=!1,r=t.isCheck;null!=t.editoptions&&null!=t.editoptions.check&&(r=t.editoptions.check),i.dataSet.each(function(t){this.getValue(n)!==r?o=!1:l=!0},function(){o?i.setTitleChecked(n,!0):l?i.setTitleChecked(n,!0,!0):i.setTitleChecked(n,!1)})}}},_onCommonCheckBoxClick:function(){var t,e=this._option,i=e._this,n=e._fieldName,s=e._colModel,o=i.dataSet.getValue(n,e._cNode),l=this.getCheck();if("string"==typeof(t=l?s.editoptions.check:s.editoptions.uncheck)&&("number"==s.dataType?t=parseInt(t,10):"boolean"==s.dataType&&(t=i.getBooleanValue(t,!1))),i.dataSet.setValue(n,t,e._cNode),!0===s.groups&&i._updateGroupValues(n,o,t,e._cNode),i._updateTitleCheck(s),"function"==typeof i.onCheckChanged)try{i.onCheckChanged(e._cNode,l,n)}catch(t){i.logError("[onCheckChanged] error:"+t.message+t.stack)}i.trigger("onCheckChanged",[e._cNode,l,n]),i.trigger("onSelectRow",[e._cNode,l,n]),i.dataPost=!0;var r=i.dataSet,a=r.getDataType(n),h=r.getValue(n),c=r.getDisplay(n),u=r.getOption(n,e._cNode);if("function"==typeof i.onEditing)try{0==i.onEditing(s,o,h,u,e._cNode)&&(i.dataSet.setValue(n,o,e._cNode),!0===s.groups&&i._updateGroupValues(n,t,o,e._cNode),i.dataPost=!1,i.focus=!1)}catch(t){i.logError("[onEditing]Error:"+t.message)}if(i.hasbind("onEditing")&&0==i.trigger("onEditing",[s,o,h,u,e._cNode])&&(i.dataSet.setValue(n,o,e._cNode),!0===s.groups&&i._updateGroupValues(n,t,o,e._cNode),i.dataPost=!1,i.focus=!1),i.dataPost&&"function"==typeof i.onAfterEdit)try{i.onAfterEdit(a,n,h,c,s,e._cNode)}catch(t){i.logError("[onAfterEdit] error:"+t.message+t.stack)}i.trigger("onAfterEdit",[a,n,h,c,s,e._cNode]),i.trigger("afterEditCell",[i.getPKeyName(),n,h]),r=null,u=null,e=null},_getCellOption:function(t,e){return{option:this.dataSet.getCellOption(t),value:this.dataSet.getValue(t),text:this.dataSet.getDisplay(t,void 0,void 0,e)}},getColAlign:function(t){var e="",i=this.getColModel(t);if(null==i&&"rn"==t)return"center";var n="";return null!=i&&(null!=i.align&&(e=i.align),n=i.dataType),(null==e||""===e)&&(null!=n&&""!==n||(n="string"),e="number"===n||"int"===n||"float"===n?"right":"string"!=n?"center":"left"),e},_mulSelectStyle:function(t,e,i,n,s,o,l,r,a,h,c){if(null==e&&null!=i&&!0!==i.noUse&&0==i.cellIndex&&this.delStyle(i,"borderRightFocus"),r)if(n.recNo===s.recNo)if(l==this.colIndex){!0!==this.mulCellSelect&&"none"==t.style.display&&null!=t.groupCol&&(t=t.groupCol);var u="gridFocusCell";this.focus||(u="gridNoFocusFocusCell"),t.className!==u&&(this.setStyle(t,u),c&&this.setStyle(e,u)),this.curCell=t,this.curColIndex=this.colIndex}else{if(u="gridSelRow",1==this.focus&&this.selRect.beginRowNode.getIndex()==this.selRect.endRowNode.getIndex()||(u=o%2==0?"gridReadonly":"gridCell"),!0===this.getOption().heightLight&&(u="gridSelRow"),!0!==this.mulCellSelect&&"none"==t.style.display&&null!=t.groupCol){var d=t.groupCol.parentNode.rowIndex,p=t.parentNode.rowIndex,g=d;null!=this.curCell&&(g=this.curCell.parentNode.rowIndex),g>=d&&g<=p&&(t=t.groupCol)}t.className!==u&&this.setStyle(t,u),c&&e.className!==u&&this.setStyle(e,u)}else u=o%2==0?"gridReadonly":"gridCell",!0!==this.mulCellSelect&&"none"==t.style.display&&null!=t.groupCol&&this.curCell!=t.groupCol&&(d=t.groupCol.parentNode.rowIndex,p=t.parentNode.rowIndex,g=-1,null!=this.curCell&&(g=this.curCell.parentNode.rowIndex),(g<d||g>p)&&(t=t.groupCol)),t.className!==u&&this.setStyle(t,u),c&&e.className!==u&&this.setStyle(e,u);else h?(u="gridEditFocusCell",a&&(u="gridFocusCell"),this.focus||(u="gridNoFocusFocusCell"),t.className!==u&&(this.setStyle(t,u),c&&this.setStyle(e,u)),this.curCell=t,this.curColIndex=this.colIndex):this.mulCellSelect?a?("gridReadOnly"!==t.className&&this.setStyle(t,"gridReadonly"),c&&"gridReadOnly"!==e.className&&this.setStyle(e,"gridReadonly")):("gridCell"!==t.className&&this.setStyle(t,"gridCell"),c&&"gridCell"!==e.className&&this.setStyle(e,"gridCell")):a?(u="gridReadonly",!0===this.getOption().heightLight&&n.recNo===s.recNo&&(u="gridSelRow"),t.className!==u&&this.setStyle(t,u),c&&e.className!==u&&this.setStyle(e,u)):(u="gridCell",!0===this.getOption().heightLight&&n.recNo===s.recNo&&(u="gridSelRow"),t.className!=u&&this.setStyle(t,u),c&&e.className!=u&&this.setStyle(e,u));this.mulCellSelect&&n.scrIndex<=this.selRect.endRowNode.getIndex()&&n.scrIndex>=this.selRect.beginRowNode.getIndex()&&l<=this.selRect.endColIndex&&l>=this.selRect.beginColIndex&&(this.focus||!0===this.getOption().heightLight?(h?"gridCell"!==t.className&&(this.setStyle(t,"gridCell"),c&&this.setStyle(e,"gridCell")):("gridSelRow"!=t.className&&(this.setStyle(t,"gridSelRow"),c&&this.setStyle(e,"gridSelRow")),this.hasCopy&&(this.addStyle(t,"cellCopySate"),c&&this.addStyle(e,"cellCopySate"))),l==this.selRect.beginColIndex&&(this.addStyle(t,"borderLeftFocus"),c&&this.addStyle(e,"borderLeftFocus")),l==this.selRect.endColIndex&&(this.addStyle(t,"borderRightFocus"),c&&this.addStyle(e,"borderRightFocus")),l<=this.selRect.endColIndex&&l>=this.selRect.beginColIndex&&(n.getIndex()==this.selRect.beginRowNode.getIndex()&&(this.addStyle(t,"borderTopFocus"),c&&this.addStyle(e,"borderTopFocus")),n.getIndex()==this.selRect.endRowNode.getIndex()&&("none"===t.style.display&&null!=t.groupCol&&(t=t.groupCol),this.addStyle(t,"borderBottomFocus"),c&&("none"===e.style.display&&null!=e.groupCol&&(e=e.groupCol),this.addStyle(e,"borderBottomFocus"))))):("gridNoFocusSelRow"!==t.className&&(this.setStyle(t,"gridNoFocusSelRow"),c&&this.setStyle(e,"gridNoFocusSelRow")),h&&(t.className="gridNoFocusFocusCell")),h=!1)},_resetCell:function(t,e){document.createDocumentFragment().appendChild(t.rect),e?(this._setHtml(t.rectTd,"",!1),t.rectTd.appendChild(t.rect)):(this._setHtml(t,"",!1),t.appendChild(t.rect)),t.rect.appendChild(t.rect.text),t.rect.style.display=""},_refreshTreeCol:function(t,e,i,n,s,o,l,r,a,h){var c;if(n.count>0||this.getOption().virtual&&1!=n.hasExpand&&1!=n.data.isLeaf?(i?(null==e.treePoint._option&&(e.treePoint._option={}),null==(c=e.treePoint._option)._this&&(c._this=this),c.node=n,e.treePoint.onclick=this._onTreePointClick):(null==t.treePoint._option&&(t.treePoint._option={}),null==(c=t.treePoint._option)._this&&(c._this=this),c.node=n,t.treePoint.onclick=this._onTreePointClick),i?""!==e.rect.style.display&&this._resetCell(e,!0):""!==t.rect.style.display&&this._resetCell(t,!0),n.expanded&&n.count>0?i?this.setStyle(e.treePoint,"component_ui_listview_node_expand"):this.setStyle(t.treePoint,"component_ui_listview_node_expand"):(0==n.count&&(n.expanded=!1),i?this.setStyle(e.treePoint,"component_ui_listview_node_collapse"):this.setStyle(t.treePoint,"component_ui_listview_node_collapse"))):(i?this.clearStyle(e.treePoint):this.clearStyle(t.treePoint),i?""!==e.rect.style.display&&this._resetCell(e,!0):""!==t.rect.style.display&&this._resetCell(t,!0)),this.multiSelect?(!0!==t.checkBox.isShow()&&(t.checkBox.show(),t.checkBox.getContainer().parentElement.style.width="14px",i&&(e.checkBox.show(),e.checkBox.getContainer().parentElement.style.width="14px")),i?(n.enable?e.checkBox.setDisable(!1):e.checkBox.setDisable(!0),e.checkBox.setCheck(n.checkState),null==e.checkBox._option&&(e.checkBox._option={}),null==(c=e.checkBox._option)._this&&(c._this=this),c._cNode=n,e.checkBox.bind("onClick",this._onTreeCheckBoxClick,!0)):(n.enable?t.checkBox.setDisable(!1):t.checkBox.setDisable(!0),t.checkBox.setCheck(n.checkState),null==t.checkBox._option&&(t.checkBox._option={}),null==(c=t.checkBox._option)._this&&(c._this=this),c._cNode=n,t.checkBox.bind("onClick",this._onTreeCheckBoxClick,!0))):t.checkBox.isShow()&&(t.checkBox.hide(),t.checkBox.getContainer().parentElement.style.width="2px",i&&(e.checkBox.hide(),e.checkBox.getContainer().parentElement.style.width="2px")),0==this.treeGrid)"none"!=t.levelTd.style.display&&(i?(e.levelTd.style.display="none",e.treeTd.style.display="none",this.multiSelect||(e.checkTd.style.display="none")):(t.levelTd.style.display="none",t.treeTd.style.display="none",this.multiSelect||(t.checkTd.style.display="none")));else{var u=16*n.level+4;this._setNumberValue(t.levelTd,"width",u);var d=this._getNumberValue(t.levelDiv.style.width)-u-this._getNumberValue(t.treeTd.style.width)-this._getNumberValue(t.checkTd.style.width)-4;d<=0&&(d=40),this._setNumberValue(t.rect,"width",d),t.levelTd.level=n.level,i&&(this._setNumberValue(e.levelTd,"width",u),this._setNumberValue(e.rect,"width",d),e.levelTd.level=n.level)}},_refreshCheckCell:function(t,e,i,n,s,o,l){if(null==e.onoff)for(var r=0,a=t.rect.text.childNodes.length;r<a;r++){var h=t.rect.text.childNodes[r];h.nodeType<3&&(h.style.display="")}else e.onoff.show(),e.onoff.focus=!1;var c=!1===i;e.getDisable()!=c&&(e.setDisable(c),null!=e.onoff&&(1==c?e.onoff.disable():e.onoff.enable(),e.onoff.refresh())),e.getCheck()!=l&&(e.setCheck(l),"radio"===e.getType()&&!0===e.getCheck()&&null==this.radioCheck[o]&&(this.radioCheck[o]=n),null!=e.onoff&&(!0===l?e.onoff.setState(1):e.onoff.setState(0))),null==e._option&&(e._option={});var u=e._option;u._this=this,u._cNode=n,u._fieldName=o,u._colModel=s,u=null},_bindCellEvent:function(t){null!=t&&!0!==t.noUse&&null==t.onclick&&(t.onclick=this.doSelect,t.ondblclick=this._ondbclick,t.onmousedown=function(t){t=t||event,this._option._this.doCellMouseDown(this,t)},t.onmouseover=function(t){t=t||event,this._option._this.doCellMouseOver(this,t)})},validateAll:function(t){this.dataSet.validateAll(t)},refreshValidate:function(t,e,i,n,s){if(this.isNotEmpty(t.validate)){var o=this.dataSet.getCellOption(t.name,e);if(!0!==o.hasValidate){var l=this.dataSet.validateValue(t.validate,e,t.name,i);l.state?o.validateMessage="":o.validateMessage=l.message||t.validateMessage,o.hasValidate=!0}this.hasbind("onValidate")?this.trigger("onValidate",[t,e,i,n,s,o,this.isNotEmpty(o.validateMessage)]):this.isNotEmpty(o.validateMessage)?(null==s.valiDiv&&(s.valiDiv=this.createElement("DIV"),this.setStyle(s.valiDiv,"validateCell")),s.valiDiv.title=o.validateMessage,s.rect.appendChild(s.valiDiv),s.valiDiv.style.top=Math.round((this.rowHeight-20-8)/2)+"px"):null!=s.valiDiv&&s.valiDiv.parentNode==s.rect&&(s.valiDiv.remove?s.valiDiv.remove():s.valiDiv.removeNode&&s.valiDiv.removeNode())}},refreshCell:function(t,e,i,n,s,o,l,r,a,h,c){var u=null!=n&&!0!==n.noUse,d=null;if(u?(null==n._option._this&&(n._option._this=this),this._bindCellEvent(n),d=n.rect.text):(null==i._option._this&&(i._option._this=this),this._bindCellEvent(i),d=i.rect.text),l===this._colOrder["@INDEX"]){if(0==this.getOption().rownumbers)return void("1px"!==i.style.width&&(i.style.width="1px",n.style.width="1px"));"60px"!==i.style.width&&(i.style.width="60px",n.style.width="60px");var p=this.dataSet.getIndex();this.setStyle(n,"treeListIndex"),this.setStyle(i,"treeListIndex"),this.getOption().pager&&!isNaN(this.getPageSize())&&(p+=this.getPageSize()*(this.getPageIndex()-1));var g=this.trigger("onFormat_index",[this.dataSet,"index",p,p]);null!=g&&(p=g),this._setHtml(d,p,!1)}else if(l===this._colOrder["@MUL"]){if(null==i.checkBox)return;var f="@MUL";if(u?(this.setStyle(n,"treeListIndex"),this._refreshCheckCell(n,n.checkBox,1==r.enable,r,null,f,r.checkState),n.checkBox.bind("onClick",this._onTreeCheckBoxClick,!0),null!=n.onclick&&(n.onclick=null,n.ondblclick=null)):(this._refreshCheckCell(i,i.checkBox,1==r.enable,r,null,f,r.checkState),i.checkBox.bind("onClick",this._onTreeCheckBoxClick,!0),null!=i.onclick&&(i.onclick=null,i.ondblclick=null)),this.setStyle(i,"treeListIndex"),"function"==typeof this.onCellDraw)try{this.onCellDraw(this.dataSet,f,n)}catch(t){this.logError("call onCellDraw Error:"+t.message+t.stack)}this.trigger("onCellDraw_"+f,[this.dataSet,f,n])}else{var y=r.recNo===a.recNo&&l==this.colIndex;y&&(this.curCell=u?n:i);var m=this._getColModel(l);if(m.hidden)return void("none"!==i.style.display&&(i.style.display="none",u&&(n.style.display="none")));"none"==i.style.display&&!0!==m.groups&&(i.style.display="",u&&(n.style.display="")),f=m.name,!1!==m.ellipsis&&"onoff"!=m.editType&&"checkBox"!=m.editType&&"radio"!=m.editType&&this.addStyle(d,"ellipsis"),"ellipsis"==this.getCurrentStyle(d).textOverflow?d.style.lineHeight=this.rowHeight-4+"px":d.style.lineHeight="normal";var v=h;v||(v=this.getCellReadOnly(f));var C=this._getCellOption(f,c),S=C.option;S.disabled=this.getBooleanValue(S.disabled,!1),this._mulSelectStyle(i,n,s,r,a,o,l,h,v,y,u);var b,x=this.getColAlign(f),_=C.value,w=C.text,T=S.title;if(null!=S.bgColor?u?n.style.backgroundColor!==S.bgColor&&(n.style.backgroundColor=S.bgColor):i.style.backgroundColor!==S.bgColor&&(i.style.backgroundColor=S.bgColor):null!=m.backgroundColor?u?n.style.backgroundColor!==m.backgroundColor&&(n.style.backgroundColor=m.backgroundColor):i.style.backgroundColor!==m.backgroundColor&&(i.style.backgroundColor=m.backgroundColor):u?""!==n.style.backgroundColor&&(n.style.backgroundColor=""):""!==i.style.backgroundColor&&(i.style.backgroundColor=""),null!=S.color?u?n.style.color!==S.color&&(n.style.color=S.color):i.style.color!==S.color&&(i.style.color=S.color):null!=m.color?u?n.style.color!==m.color&&(n.style.color=m.color):i.style.color!==m.color&&(i.style.color=m.color):u?""!==n.style.color&&(n.style.color=""):""!==i.style.color&&(i.style.color=""),null!=T&&""!==T?u?(n.setAttribute("title",T),this.addStyle(n,"redInfo")):(i.setAttribute("title",T),this.addStyle(i,"redInfo")):u?n.setAttribute("title",""):i.setAttribute("title",""),null!=S.GJTitle&&""!==S.GJTitle&&(u?(""===(b=n.getAttribute("title"))||null==b?n.setAttribute("title",S.GJTitle):n.setAttribute("title",b+"\n"+S.GJTitle),this.addStyle(n,"redInfo")):(""===(b=i.getAttribute("title"))||null==b?i.setAttribute("title",S.GJTitle):i.setAttribute("title",b+"\n"+S.GJTitle),this.addStyle(i,"redInfo"))),1==m.showHint){var N=w;if("string"==typeof N&&(-1!=N.indexOf("<")&&(N=N.replace(/<(\/)?([a-zA-Z]+)( [^<>]+)?>/gi,"")),N=this._textToTag(N.trim())),null!=N&&""!==N){var O=N;if(u){var L=n.title;null!=L&&""!==L&&(O=O+"\n"+L),n.setAttribute("title",O)}else{var k=i.title;null!=k&&""!==k&&(O=O+"\n"+k),i.setAttribute("title",O)}}}if((null==this.getOption().treeKey&&1==l||this.getOption().treeKey===f)&&0!=this.option.treeGrid)this._refreshTreeCol(i,n,u,r,f,w,_,y,v,m);else if("checkBox"!=m.editType&&"onoff"!=m.editType||!this.isNotEmpty(i.checkBox))"radio"==m.editType&&this.isNotEmpty(i.radio)?(u?(this._refreshCheckCell(n,n.radio,1!=S.disabled&&!0!==m.disabled,r,m,f,m.editoptions.check==_),!0!==n.radio.hasbind("onClick")&&n.radio.bind("onClick",this._onCommonRadioClick,!0),n.style.textAlign!==x&&(n.style.textAlign=x)):(this._refreshCheckCell(i,i.radio,1!=S.disabled&&!0!==m.disabled,r,m,f,m.editoptions.check==_),!0!==i.radio.hasbind("onClick")&&i.radio.bind("onClick",this._onCommonRadioClick,!0),i.style.textAlign!==x&&(i.style.textAlign=x)),y&&(this.inputFocus=!1)):(u?""!==n.rect.style.display&&this._resetCell(n):""!==i.rect.style.display&&this._resetCell(i),y&&(this.inputFocus=!1));else{if(u){if(this._refreshCheckCell(n,n.checkBox,1!=S.disabled&&!0!==m.disabled,r,m,f,m.editoptions.check==_),!0!==n.checkBox.hasbind("onClick")&&n.checkBox.bind("onClick",this._onCommonCheckBoxClick,!0),n.style.textAlign!==x&&(n.style.textAlign=x),"onoff"==m.editType){var D=n.checkBox.onoff.getControl();"center"==x?(D.style.marginLeft="",D.style.margin="auto"):"right"==x?(D.style.margin="",D.style.marginLeft="auto"):(D.style.margin="",D.style.marginLeft=""),n.checkBox.onoff.bind("onclick",n.checkBox,function(t,e){t.click(),this.focus=!1},!0)}}else this._refreshCheckCell(i,i.checkBox,1!=S.disabled&&!0!==m.disabled,r,m,f,m.editoptions.check==_),!0!==i.checkBox.hasbind("onClick")&&i.checkBox.bind("onClick",this._onCommonCheckBoxClick,!0),i.style.textAlign!==x&&(i.style.textAlign=x),"onoff"==m.editType&&(D=i.checkBox.onoff.getControl(),"center"==x?(D.style.marginLeft="",D.style.margin="auto"):"right"==x?(D.style.margin="",D.style.marginLeft="auto"):(D.style.margin="",D.style.marginLeft=""),i.checkBox.onoff.bind("onclick",i.checkBox,function(t,e){t.click(),this.focus=!1},!0));y&&(this.inputFocus=!1)}if(u?this.refreshValidate(m,r,_,w,n):this.refreshValidate(m,r,_,w,i),"function"==typeof this.onCellDraw)try{u?this.onCellDraw(this.dataSet,f,n):this.onCellDraw(this.dataSet,f,i)}catch(t){this.logError("call onCellDraw Error:"+t.message+t.stack)}if(u?this.trigger("onCellDraw_"+f,[this.dataSet,f,n]):this.trigger("onCellDraw_"+f,[this.dataSet,f,i]),null!=m.alwaysText&&null!=_&&""!==_&&(w=m.alwaysText),this.hasbind("onFormat_"+f)&&(w=this.trigger("onFormat_"+f,[this.dataSet,f,w,_])),!0===m.contentFit&&null!=this.maxTextLen[m.name]&&this.strLen(w)>this.maxTextLen[m.name]&&(this.needContentFit[m.name]=!0),(!y||v||!this.focus||this.mulCellSelect)&&"checkBox"!=m.editType&&"radio"!=m.editType&&"onoff"!=m.editType)if(this.isNotEmpty(S.link)&&(w="<a href='"+S.link+"'>"+w+"</a>"),u?n.style.textAlign!==x&&(n.style.textAlign=x):i.style.textAlign!==x&&(i.style.textAlign=x),!0===m.link&&!0===v){if(null==d.al){d.al=this.createElement("span");var I=this;d.al.onmouseup=function(){var t=I.dataSet.getCurNode();I.dataSet.beginUpdate(),I.dataSet.select(this._node),this._node.option[f].linkClick=!0,!1!==I.trigger("onLinkClick",[I,this._fieldName,this._node])&&I.dataSet.select(t),I.dataSet.endUpdate(!1)}}!0===r.option[f].linkClick?this.setStyle(d.al,"link_visited"):this.setStyle(d.al,"link"),d.al.style.display="",d.al._node=r,d.al._fieldName=f,d.al.id=this.dataSet.getIndex(),this._setHtml(d,""),d.appendChild(d.al),this._setHtml(d.al,w,!1)}else d.innerHTML!==w&&this._setHtml(d,w,!1)}!0===this.getOption().levelBorderOnly&&(-1==i.className.indexOf("gridFocusCell")&&-1==i.className.indexOf("gridNoFocusFocusCell")?(i.style.borderRightWidth="0px",null!=n&&(n.style.borderRightWidth="0px")):(i.style.borderRightWidth="",null!=n&&(n.style.borderRightWidth="")))},_refreshFzTitleWidth:function(){for(var t=0,e=0,i=this.fzGridTable.rows[0].cells.length;e<i;e++){var n=this.fzGridTable.rows[0].cells[e];"none"!=n.style.display&&(t+=this._getNumberValue(n.style.width))}this.fzGridTable.style.width=t+"px"},_setGridTableWidth:function(t){this.gridTable.style.width=t+"px",this.listDivBox.style.width="100%",this._refreshFzTitleWidth(),this.fzSumTable.style.width=this.fzGridTable.style.width,this.sumTable.style.width=this.gridTable.style.width},_hideTotalCell:function(t,e,i,n,s){var o=this.sumTable.rows[t].cells[e];o.style.width=i,o.style.borderRightWidth=n,o.rect.style.display=s,(o=this.fzSumTable.rows[t].cells[e]).style.width=i,o.style.borderRightWidth=n,o.style.display=s,o=null},refreshHiddenState:function(){var t=60,e=[],i=this._colOrder["@INDEX"];if(this.getOption().rownumbers){(o=this.gridTable.rows[0].cells[i]).style.display="",o.style.width="60px",this.fzGridTable.rows[0].cells[i].style.display="",this.fzGridTable.rows[0].cells[i].style.width="60px",!0!==this.getOption().footerrow&&!0!==this.getOption().total||this._hideTotalCell(this.totalIndex,i,"60px","",""),!0===this.getOption().subtotal&&this._hideTotalCell(this.subtotalIndex,i,"60px","",""),this.gridTable.rows[1].cells[i].style.display="",this.gridTable.rows[1].cells[i].style.width="60px",this._setHtml(this.gridTable.rows[1].cells[i],this.numberCaption),this.fzGridTable.rows[1].cells[i].style.display="",this.fzGridTable.rows[1].cells[i].style.width="60px",this._setHtml(this.fzGridTable.rows[1].cells[i],this.numberCaption);for(var n=this.titleRowCount,s=this.gridTable.rows.length;n<s;n++)(o=this.gridTable.rows[n].cells[i]).style.width="60px",o.style.display="",(l=this.fzGridTable.rows[n].cells[i]).style.width="60px",l.style.display=""}else{for(this.gridTable.rows[0].cells[i].style.display="none",this.gridTable.rows[0].cells[i].style.width="1px",this.gridTable.rows[1].cells[i].style.display="none",this.fzGridTable.rows[0].cells[i].style.display="none",this.fzGridTable.rows[0].cells[i].style.width="1px",this.fzGridTable.rows[1].cells[i].style.display="none",!0!==this.getOption().footerrow&&!0!==this.getOption().total||this._hideTotalCell(this.totalIndex,i,"1px","0px","none"),!0===this.getOption().subtotal&&this._hideTotalCell(this.subtotalIndex,i,"1px","0px","none"),this.setStyle(this.fzGridTable.rows[1].cells[i],"gridNoneCell"),this.setStyle(this.gridTable.rows[1].cells[i],"gridNoneCell"),n=this.titleRowCount,s=this.gridTable.rows.length;n<s;n++)(o=this.gridTable.rows[n].cells[i]).style.display="none",this.setStyle(o,"gridNoneCell"),(l=this.fzGridTable.rows[n].cells[i]).style.display="none",this.setStyle(l,"gridNoneCell");e.push("@INDEX"),t=0}if(this._hasCheckCol&&0==this.treeGrid)if(i=this._colOrder["@MUL"],this.multiSelect){for((o=this.gridTable.rows[0].cells[i]).style.width="30px",this.fzGridTable.rows[0].cells[i].style.width="30px",!0!==this.getOption().footerrow&&!0!==this.getOption().total||this._hideTotalCell(this.totalIndex,i,"30px","",""),!0===this.getOption().subtotal&&this._hideTotalCell(this.subtotalIndex,i,"30px","",""),this.gridTable.rows[1].cells[i].style.width="30px",null!=this.gridTable.rows[1].cells[i].checkBox&&this.gridTable.rows[1].cells[i].checkBox.show(),this.fzGridTable.rows[1].cells[i].style.width="30px",null!=this.fzGridTable.rows[1].cells[i].checkBox&&this.fzGridTable.rows[1].cells[i].checkBox.show(),n=this.titleRowCount,s=this.gridTable.rows.length;n<s;n++)(o=this.gridTable.rows[n].cells[i]).style.width="30px",o.rect.style.display="",(l=this.fzGridTable.rows[n].cells[i]).style.width="30px",l.rect.style.display="";t+=30}else{for(this.gridTable.rows[0].cells[i].style.width="1px",this.gridTable.rows[1].cells[i].style.width="1px",null!=this.gridTable.rows[1].cells[i].checkBox&&this.gridTable.rows[1].cells[i].checkBox.hide(),this.fzGridTable.rows[0].cells[i].style.width="1px",this.fzGridTable.rows[1].cells[i].style.width="1px",null!=this.fzGridTable.rows[1].cells[i].checkBox&&this.fzGridTable.rows[1].cells[i].checkBox.hide(),!0!==this.getOption().footerrow&&!0!==this.getOption().total||this._hideTotalCell(this.totalIndex,i,"1px","0px","none"),!0===this.getOption().subtotal&&this._hideTotalCell(this.subtotalIndex,i,"1px","0px","none"),this.setStyle(this.fzGridTable.rows[1].cells[i],"gridNoneCell"),this.setStyle(this.gridTable.rows[1].cells[i],"gridNoneCell"),n=this.titleRowCount,s=this.gridTable.rows.length;n<s;n++){var o,l;(o=this.gridTable.rows[n].cells[i]).style.width="1px",o.rect.style.display="none",this.setStyle(o,"gridNoneCell"),(l=this.fzGridTable.rows[n].cells[i]).style.width="1px",l.rect.style.display="none",this.setStyle(l,"gridNoneCell")}e.push("@INDEX")}for(var r=this.option.colModels,a=0,h=r.length;a<h;a++)(u=r[a]).hidden&&e.push(u.name);if(e=e.join(","),this.hiddenFieldNames!==e){this.hiddenFieldNames=e;var c=this.titleRowCount;for(a=1,h=this.titleCol.length;a<=h;a++){var u=r[a-1],d=this.titleCol[a-1];if(u.hidden){if("none"!=d.style.display){d.style.display="none";for(var p=d.option.bandRowIndex,g=d.option.bandColIndex;this.isNotEmpty(p)&&p>0;)1==p&&(g++,g+=this._colIndexDeff()),(f=this.gridTable.rows[p].cells[g]).getAttribute("colSpan")<=1?f.style.display="none":f.setAttribute("colSpan",parseInt(f.getAttribute("colSpan"),10)-1),this.isNotEmpty(d.mainCell)&&((y=this.fzGridTable.rows[p].cells[g]).getAttribute("colSpan")<=1?y.style.display="none":y.setAttribute("colSpan",parseInt(y.getAttribute("colSpan"),10)-1)),p=f.option.bandRowIndex,g=f.option.bandColIndex}}else if(""!=d.style.display)for(d.style.display="",p=d.option.bandRowIndex,g=d.option.bandColIndex;this.isNotEmpty(p)&&p>0;){var f,y;1==p&&(g++,g+=this._colIndexDeff()),(f=this.gridTable.rows[p].cells[g]).getAttribute("colSpan")<1||"none"===f.style.display?(f.style.display="",f.setAttribute("colSpan",1)):f.setAttribute("colSpan",parseInt(f.getAttribute("colSpan"),10)+1),this.isNotEmpty(d.mainCell)&&((y=this.fzGridTable.rows[p].cells[g]).getAttribute("colSpan")<1||"none"===y.style.display?(y.style.display="",y.setAttribute("colSpan",1)):y.setAttribute("colSpan",parseInt(y.getAttribute("colSpan"),10)+1)),p=f.option.bandRowIndex,g=f.option.bandColIndex}if(!u.hidden){t+=this.getColWidth(a+this._colIndexDeff(),0);var m=d.getAttribute("rowSpan");(m=null!=m&&""!==m?parseInt(m,10):1)<c&&(c=m)}this.isNotEmpty(d.mainCell)&&(d.mainCell.style.display!=d.style.display&&(d.mainCell.style.display=d.style.display),this.fzGridTable.rows[0].cells[a+this._colIndexDeff()].style.display!=d.style.display&&(this.fzGridTable.rows[0].cells[a+this._colIndexDeff()].style.display=d.style.display),"none"!=d.mainCell.style.display&&null!=this.gridTable.rows[0].cells[a+this._colIndexDeff()]&&(this.gridTable.rows[0].cells[a+this._colIndexDeff()].style.width=this.fzGridTable.rows[0].cells[a+this._colIndexDeff()].style.width)),this.gridTable.rows[0].cells[a+this._colIndexDeff()].style.display!=d.style.display&&(this.gridTable.rows[0].cells[a+this._colIndexDeff()].style.display=d.style.display)}if(c>1){if(!0!==this.zipTitleHeight){var v=c-1;for(a=1,h=this.titleCol.length;a<=h;a++)if(u=r[a-1],d=this.titleCol[a-1],!u.hidden){(S=this._getNumberValue(d.getAttribute("rowSpan"),1)-v)<=0&&(S=1);var C=S*this.rowHeight;d.style.height=C+"px",this.isNotEmpty(d.mainCell)&&(d.mainCell.style.height=C+"px")}this.gridTable.rows[1].style.height=this.rowHeight+"px",this.zipTitleHeight=!0,this.initGrid()}}else if(1==this.zipTitleHeight){for(a=1,h=this.titleCol.length;a<=h;a++){var S;if(u=r[a-1],d=this.titleCol[a-1],!u.hidden)(S=this._getNumberValue(d.getAttribute("rowSpan"),1))<=0&&(S=1),C=S*this.rowHeight,d.style.height=C+"px",this.isNotEmpty(d.mainCell)&&(d.mainCell.style.height=C+"px")}this.gridTable.rows[1].style.height="",this.zipTitleHeight=!1,this.initGrid()}r=null,this._setGridTableWidth(t),this._asynRun(function(){this.thisWindow.offsetWidth>0&&this._suitTitleHeight()},0)}},refreshSortState:function(t){null==t&&(t=this.getFieldName());var e=this.sortTables[t],i=this.getColModel(t);if((0!=this.getOption().filter||!1!==this.getOption().sort)&&null!=e&&0!=i.filter){e.colIndex=this.colIndex,e.style.display="";var n=this.dataSet.getFilterState(t);e.filtered=n,this._sortFieldName==t?("none"==e.sortState?this.dataSet.filtered&&n?this.setStyle(e.sortIcon,"filter"):this.setStyle(e.sortIcon,"sortDefault"):"up"==e.sortState?this.dataSet.filtered&&n?this.setStyle(e.sortIcon,"filterUp"):!1===this.getOption().filter||!1===i.filter?this.setStyle(e.sortIcon,"sortUpOnly"):this.setStyle(e.sortIcon,"sortUp"):"down"==e.sortState&&(this.dataSet.filtered&&n?this.setStyle(e.sortIcon,"filterDown"):!1===this.getOption().filter||!1===i.filter?this.setStyle(e.sortIcon,"sortDownOnly"):this.setStyle(e.sortIcon,"sortDown")),e.state=e.sortState):(this.dataSet.filtered&&n?!1===this.getOption().sort||!1===i.sort?this.setStyle(e.sortIcon,"filterOnly"):this.setStyle(e.sortIcon,"filter"):this.setStyle(e.sortIcon,"sortDefault"),e.state="none")}var s=!1===this.getOption().filter&&!1===this.getOption().sort;for(var o in this.sortTables){var l=this.sortTables[o];(o!==t||s)&&(1!=l.filtered&&(l.style.display="none"),o!=this._sortFieldName&&null!=l&&"none"!=l.sortState&&(l.sortState="none")),l=null}},refreshScrollBar:function(){var t=this.dataSet.getVisibleCount(),e=(!0===this.getOption().footerrow||this.getOption().total,0);this.hafRow&&(e++,!0===this.getOption().subtotal&&e++);var i=this._getNumberValue(this.gridTable.style.width,0);if(this._addNew&&(this.getOption().width-i<18&&this.getOption().width>i&&0==this.scrollBar.visible?this.rowCount-e+1==t&&(this.rowCount--,this._asynRun(function(){null!=this.scrollBar&&this.scrollBar.scrollNext()},50)):null!=this.bottomNode&&this.bottomNode.scrIndex==t&&this.bottomNode.recNo===this.dataSet.getCurNode().recNo&&this._asynRun(function(){null!=this.scrollBar&&this.scrollBar.scrollNext()},50)),this.visibleCount!=t||this.rowCount-e!=this.scrollBar.visibleCount){if(this.rowCount-e<t){var n=this.getHScrollHide();this.scrollBar.setVisible(!0),!0===n&&!1===this.getHScrollHide()&&this.rowCount--,this.scrollBar.setScrollCount(t,this.rowCount-e)}else null!=this.topNode&&0===this.topNode.level&&0===this.topNode.index&&(this.topNode.scrIndex=1),this.getRecordCount()>0&&null!=this.topNode&&this.topNode.scrIndex>1&&(this.topNode=this.dataSet.getChildNode(0,this.dataSet.rootNode),this.topNode.scrIndex=1,this.refresh()),this.scrollBar.scrollIndex=0,this.scrollBar.setScrollCount(0,0),this.scrollBar.setVisible(!1);this.visibleCount=t}else 0==this.visibleCount&&this.scrollBar.setVisible(!1);this.base()},getPageIndex:function(){return this.pageObj.getPageIndex()},getPageSize:function(){return this.pageObj.getPageSize()},getPageCount:function(){return this.pageObj.getPageCount()},getColModel:function(t){if(null==t){for(var e=[],i=0,n=this.option.colModels.length;i<n;i++){var s=this.option.colModels[i];1!=s.hidden&&e.push({dataType:s.dataType,style:this.getColAlign(s.name)})}return e}return this.option.colModelJson[t]},_getColModel:function(t){return this.option.colModels[t-1-this._colIndexDeff()]||{}},getFieldName:function(t){return null==t&&(t=this.colIndex),this._getColModel(t).name},setContainer:function(t){this.container=t},saveChangeSet:function(t){if(null==t||""===t)return!1;null!=this._cacheKey&&""!==this._cacheKey&&(null==this._cacheChangeSet&&(this._cacheChangeSet={}),this._cacheChangeSet[this._cacheKey]=this.getChangeSet(!0),null==this._cacheEcpChangeSet&&(this._cacheEcpChangeSet={}),this._cacheEcpChangeSet[this._cacheKey]=this.getEcpChangeSet(!0)),this._cacheKey=t},loadChangeSet:function(t,e){if(null!=t&&""!==t&&null!=this._cacheChangeSet){var i=this._cacheChangeSet[t];if(null!=this._cacheChangeSet&&null!=i){for(var n=this.getOption().idkey,s={},o=[],l={},r={},a=0,h=i.length;a<h;a++){var c=i[a];(c.modelState&this.dataSet.modelState.NEW)>0?(o.push(c),r[c._index]=!0,null!=this.getOption().pidkey&&(l[c[this.getOption().pidkey]]=!0)):s[c[n]]=c}this.dataSet.each(function(t){var e=this.getValue(this.getOption().idkey,t),i=s[e];if(null!=i){var n=i.modelState;if((n&this.modelState.DELETE)>0)this.delRecord(t);else if((n&this.modelState.MODIFY)>0){var o=i._oldValue;for(var r in o)this.setValue(r,i[r])}if(null!=this.getOption().pidkey&&""!==this.getOption().pidkey){var a=this.getValue(this.getOption().pidkey);!0===l[a]&&(l[a]=t)}}},function(){for(var t=0,i=o.length;t<i;t++){var n=o[t],s=n._index,r=this.dataSet.rootNode;null!=this.getOption().pidkey&&""!==this.getOption().pidkey&&(r=l[n[this.getOption().pidkey]]),s>r.getCount()-1?this.dataSet.appendItem(n,r):this.dataSet.insertItem(s,n,r)}"function"==typeof e&&e.apply(this)})}else"function"==typeof e&&e.apply(this)}else"function"==typeof e&&e.apply(this)},initValue:function(t,e,i,n){try{if(1==this._hasDestroy)return;if(1!=this.rendered)return;if(1==this._lockValue)return void("function"==typeof this._icpData&&this._icpData(t));var s=typeof e;"function"==s?(n=e,e=null):"string"==s?(i=e,e=null):"function"==typeof i&&(n=i,i=null);var o=this;this.dataSet.initSort=(null==e||e)&&0!=this.treeGrid&&!1!==this.getOption().initSort,this.dataSet.isTree=0!=this.treeGrid,this.dataSet.clearFilterText();var l=this.getOption().treeId||this.getOption().idkey||this.getOption().idKey;null==l&&(l=this.getPKeyName()),this.dataSet.getOption().idkey=l;var r=this.getOption().parentKeyId||this.getOption().pidkey||this.getOption().pidKey;this.getOption().treePidData||null!=r&&""!==r?(this.dataSet.initSort=!1,this.dataSet.setIDPID(l,r)):this.dataSet.setItemCode(l),this.multiSelect&&this.setTitleChecked("@MUL",!1);var a=!1;for(var h in this.sortTables)this.sortTables[h].sortState="none";if(null!=this.transState)for(var h in this.transState)this.transState[h].transed=!1;this.dataSet.PKeyName=[],this.dataSet.clearExpress(),this.dataSet.clearGJExpress(),this.radioCheck={},this.editObjects={},this.editObject=null,this._lockDestroy=!0,null!=i&&""!==i||!0!==this.getOption().cacheChangeSet||!0!==this.getOption().pager||(i=this.getPageSize()+"_"+this.getPageIndex()),null!=i&&""!==i&&this.saveChangeSet(i),this.initMaxText(),this.dataSet.setItemList(t,function(){if(null!=o.gridTable&&0!=o.gridTable.rows.length){o.getOption().pager;var t=o._getNumberValue(o.thisWindow.style.width,o.getOption().width);o.isShow()&&t>0&&(t>o.getOption().width+2||t<o.getOption().width)&&o.setWidth(t),o.refreshScrollBar();for(var e=o.option.colModels,s=[],l=[],r={},h=!1,c=0,u=e.length;c<u;c++){var d=e[c];!0===d.contentFit&&s.push(d.name),!0===d.titleFit&&l.push(d.name),!0===d.selectAll&&o._updateTitleCheck(d,c),"radio"==d.editType&&(r[d.name]=!0,h=!0)}h&&o.dataSet.each(function(t){for(var e in r)this.getValue(e,t)==d.editoptions.check&&!0===r[e]&&(o.radioCheck[e]=t)}),e=null;var p=o;if(0==o.getOption().isExpanded&&o.dataSet.fullCollapse(function(){p.getOption().defSelect?p.first():p.noSelect(),!0===p.getOption().suitToFit&&p.suitToFit(),p=null}),o.dataSet.caculateSum(!0),null!=o.gridTable&&0!=o.gridTable.rows.length){if(o.getOption().defSelect?o.first():o.noSelect(),o._tmpScrollVisible=null,l.length>0&&o.setTitleFit(l,null),s.length>0?o.setContentFit(s,void 0,function(){!1!==this.getOption().shrinkToFit&&this.gridTable.rows.length>0&&this.shrinkToFit(),(!0===this.getOption().suitToFit||!0===o.shrinkAdd&&o.gridTable.offsetWidth-o.getWidth()<20)&&this.suitToFit(),o.shrinkAdd=!1}):(!1!==o.getOption().shrinkToFit&&o.shrinkToFit(),(!0===o.getOption().suitToFit||!0===o.shrinkAdd&&o.gridTable.offsetWidth-o.getWidth()<20)&&o.suitToFit(),o.shrinkAdd=!1),"function"==typeof o.onAfterLoad)try{o.onAfterLoad()}catch(t){o.logError("[onAfterLoad] error:"+t.message+t.stack)}null!=i&&""!==i?o.loadChangeSet(i,function(){o.trigger("onAfterLoad",[]),o.trigger("gridComplete",[]),"function"==typeof n&&n.apply(o),a=!0,o._lockDestroy=!1,o=null}):(o.trigger("onAfterLoad",[]),o.trigger("gridComplete",[]),"function"==typeof n&&n.apply(o),a=!0,o._lockDestroy=!1,o=null)}}})}catch(t){o.trigger("loadError",[null,t,t.message]),o.logError("[initValue] error:"+t.message+t.stack)}a||(this.topNode=this.dataSet.getCurNode(),this.selRect.beginRowNode=this.topNode,this.selRect.endRowNode=this.topNode,this.topCount=0),a||0==this.getOption().isExpanded||(this.getOption().defSelect?this.first():this.noSelect()),this._suitTitleHeight()},value:function(t,e,i,n){if(1!=this._hasDestroy){if(1!=this._lockValue)return arguments.length?void this.initValue(t,e,i,n):this.getDisplayAsJson(!0);"function"==typeof this._icpData&&this._icpData(t)}},getPrintData:function(t,e){"function"==typeof t&&(e=t,t="all");var i={},n=this;this.getRangeData(t,!0,function(t){i[n.getName()]=t;for(var s={rn:n.summaryText},o=n.getOption().colModels,l=0,r=o.length;l<r;l++){var a=o[l];s[a.name]=n.dataSet.getDisplay(a.name,n.dataSet.getSummary(a.name))}i[n.getName()+"_sum"]=[s],"function"==typeof e&&e(i)})},addJSONData:function(t){this.initValue(t.data)},select:function(t){if(this.dataSet.select(t),"function"==typeof this.onSelect&&1!=this.focusSelect)try{this.onSelect(this.dataSet.curNode,this.getFieldName())}catch(t){this.logError("[onSelect]ERR:"+t.message)}this.trigger("onCellSelect",[this.getPKeyName(),this.colIndex,this]),this.trigger("onSelectEcpRow",[this.getSelectRowIds(),this.getFieldName()])},doSelect:function(t){var e=this._option._this,i=this.parentNode._node;if(!0!==e.isTreePointClick){if(e.mouseEdit=!1,e.isSelect){if(!1===e.trigger("beforeSelectRow",[e.dataSet.getCurNode(),i]))return;if(0!=e.dataPost){if(e.dataSet.getCurNode().recNo!=i.recNo||e.shiftKeyDown){var n=e.dataSet.getIndex(),s=i.getIndex();e.shiftKeyDown&&!1!==e.getOption().rectSelect?n==e.selRect.beginRowNode.getIndex()?s>=e.selRect.beginRowNode.getIndex()?(e.selRect.endRowNode=i,e.dataSet.select(e.selRect.beginRowNode)):(e.selRect.endRowNode=e.selRect.beginRowNode,e.selRect.beginRowNode=i,e.dataSet.select(e.selRect.endRowNode)):s<=e.selRect.endRowNode.getIndex()?(e.selRect.beginRowNode=i,e.dataSet.select(e.selRect.endRowNode)):(e.selRect.beginRowNode=e.selRect.endRowNode,e.selRect.endRowNode=i,e.dataSet.select(e.selRect.beginRowNode)):(e.post(),e.dataSet.select(i),e.selRect.beginRowNode=i,e.selRect.endRowNode=e.selRect.beginRowNode),this.tmpClassName=""}else e.selRect.beginRowNode=i,e.selRect.endRowNode=e.selRect.beginRowNode;if(this._cellIndex!==e._colOrder["@INDEX"]||e.shiftKeyDown){var o=e.colIndex;e.colIndex=this._cellIndex;var l=e.colIndex;e.shiftKeyDown&&!1!==e.getOption().rectSelect?0==l?(e.selRect.beginColIndex=1,e.selRect.endColIndex=e.colCount-1,e.colIndex=1):o==e.selRect.beginColIndex?l>=e.selRect.beginColIndex?(e.selRect.endColIndex=l,e.colIndex=e.selRect.beginColIndex):(e.selRect.endColIndex=e.selRect.beginColIndex,e.selRect.beginColIndex=l,e.colIndex=e.selRect.endColIndex):l<=e.selRect.endColIndex?(e.selRect.beginColIndex=l,e.colIndex=e.selRect.endColIndex):(e.selRect.beginColIndex=e.selRect.endColIndex,e.selRect.endColIndex=l,e.colIndex=e.selRect.beginColIndex):(e.post(),e.selRect.beginColIndex=e.colIndex,e.selRect.endColIndex=e.colIndex,e.colIndex=e.selRect.beginColIndex)}else if(!1!==e.getOption().rectSelect){e.post(),e.selRect.beginColIndex=1+e._colIndexDeff(),e.selRect.endColIndex=e.colCount-1,e.colIndex=1+e._colIndexDeff();for(var r=[],a=0,h=e.getOption().colModels.length;a<h;a++){var c=e.getOption().colModels[a];!0===c.groups&&r.push(c.name)}e._refreshMulSelect(r)}if(e.logInfo("select cell"),e.refresh(null,!0),null!=e._lastNode&&e.dataSet.getCurNode().recNo==e._lastNode.recNo&&e.scrollBar.scrollNext(),"doCellMouseDown"!==e._priorClickFrom){if("function"==typeof e.onSelect&&1!=this.focusSelect)try{e.onSelect(e.dataSet.curNode,e.getFieldName())}catch(t){e.logError("[onSelect]ERR:"+t.message)}if(e.trigger("onCellSelect",[e.getPKeyName(),e.colIndex,e,t]),e.trigger("onSelectEcpRow",[e.getSelectRowIds(),e.getFieldName(),t]),"function"==typeof e.onClick&&1!=this.focusClick)try{e.onClick(e.dataSet.curNode,e.getFieldName(),t)}catch(t){e.logError("[onClick]ERR:"+t.message)}e.logInfo("doSelect onClick_"),e.trigger("onClick",[e.dataSet.curNode,e.getFieldName(),t]),e._priorClickFrom}else e._priorClickFrom;this.focusClick=!1,this.focusSelect=!1}else e.inputFocus&&!0!==e._hasScroll&&"function"==typeof e.editObject.setFocus&&e.editObject.setFocus();if(null!=e.editObject&&!0===e.inputFocus){var u=e.editObject;u.option&&!0===u.option.disInput&&"function"==typeof u.dropPopView&&u.dropPopView()}}e._isdbclick=!1,e.dataPost=!0,e.isSelect=!0}else e.isTreePointClick=!1},doScroll:function(t,e){if(0!==e){var i=this;i.post(),i.topIndex=t,i.dataSet.beginUpdate();var n=i.dataSet.curNode;if(i.dataSet.select(i.topNode),e>0)for(var s=0;s<e;s++)i.dataSet.next();else for(s=0;s>e;s--)i.dataSet.prior();if(i.topNode=i.dataSet.curNode,i.dataSet.select(n),n=null,i.dataSet.endUpdate(!1),i._update){i.refresh();var o=[];for(var l in i.needContentFit)!0===i.needContentFit[l]&&o.push(l);if(o.length>0){var r=i.getHScrollHide();i.setContentFit(o,function(){(!0===i.getOption().suitToFit||!0===r&&!1!==i.getOption().shrinkToFit)&&i.suitToFit()})}}i=null}if(this.scrollBar.scrollIndex+this.scrollBar.visibleCount===this.scrollBar.scrollCount){if("function"==typeof this.onScrollEnd)try{this.onScrollEnd()}catch(t){this.logError("[onScrollEnd]ERR:"+t.message+t.stack)}this.trigger("onScrollEnd",[])}if(0==this.scrollBar.scrollIndex){if("function"==typeof this.onScrollBegin)try{this.onScrollBegin()}catch(t){this.logError("[onScrollBegin]ERR:"+t.message+t.stack)}this.trigger("onScrollBegin",[])}},doMouseWheel:function(t){this.base(t);var e=t;return!this.scrollBar.visible||null!=this.isMouseOver&&!0!==this.isMouseOver()||null!=this.editObject&&!0===this.editObject.getPopState()||((e.wheelDelta?e.wheelDelta:-1*e.detail)>0?this.scrollBar.scrollPrior():this.scrollBar.scrollNext(),e.returnValue=!1,e=null,!1)},showFocusCell:function(t){if(null==t&&(t=this.curCell),null!=t){var e=this.listDiv.offsetWidth,i=this.fzGridTable.offsetWidth,n=t.getBoundingClientRect(),s=this.listDiv.getBoundingClientRect().left,o=n.left-s,l=n.right-s;this.colIndex==1+this._colIndexDeff()||this.colIndex<this.fzColCount?this.listDiv.scrollLeft=0:l>e+2?this.listDiv.scrollLeft=t.offsetLeft+t.offsetWidth-e+2:o<i&&(this.listDiv.scrollLeft=this.listDiv.scrollLeft-(i-o)-2)}},_moveRight:function(t,e){this.scrollToFocus();var i=0,n=this.colIndex-this._colIndexDeff(),s=this.getOption().colModels;if(null==s[n])return!1;for(var o=s.length;n<o&&s[n].hidden;)i++,n++;s=null;var l=this.colCount-1;if(this.colIndex+i<l||t.shiftKey)t.shiftKey&&e==this.keyBoard.RIGHT?(this.colIndex>this.selRect.beginColIndex?this.selRect.beginColIndex+=i+1:this.selRect.endColIndex<l&&(this.selRect.endColIndex+=i+1),this.refresh(null,!0)):(this.post(),this.dataPost?(this.colIndex+=i+1,this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.colIndex,this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.refresh(null,!0),this.showFocusCell(this.curCell)):this.inputFocus&&!0!==this._hasScroll&&("function"==typeof this.editObject.setFocus&&this.editObject.setFocus(),this.mouseEdit=!1));else if(this.colIndex+i==l)if(this.post(),this.dataPost){this.dataSet.getRecNo(),this.next();var r=this.dataSet.isEof();this.refresh(),r||(this.listDiv.scrollLeft=0,this.colIndex=1+this._colIndexDeff(),this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.colIndex,this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.refresh())}else this.inputFocus&&!0!==this._hasScroll&&"function"==typeof this.editObject.setFocus&&this.editObject.setFocus();return!1},_moveLeft:function(t,e){this.scrollToFocus();for(var i=0,n=this.colIndex-i-2-this._colIndexDeff(),s=this.getOption().colModels;n>=0&&s[n].hidden;)i++,n=this.colIndex-i-2-this._colIndexDeff();if(s=null,this.colIndex>1+i+this._colIndexDeff()||t.shiftKey&&e==this.keyBoard.LEFT)t.shiftKey&&e==this.keyBoard.LEFT?(this.colIndex<this.selRect.endColIndex?this.selRect.endColIndex-=i+1:this.selRect.beginColIndex>1&&(this.selRect.beginColIndex-=i+1),this.refresh(null,!0)):(this.post(),this.dataPost?(this.colIndex-=i+1,this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.colIndex,this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.refresh(null,!0),this.showFocusCell(this.curCell)):this.inputFocus&&!0!==this._hasScroll&&"function"==typeof this.editObject.setFocus&&this.editObject.setFocus());else if(this.colIndex+i==1+this._colIndexDeff())if(this.post(),this.dataPost){var o=this.dataSet.getRecNo();this.dataSet.prior();var l=this.dataSet.isBof();this.topNode.recNo==o?this.scrollBar.scrollPrior():this.refresh(),l||(this.listDiv.scrollLeft=this.listDiv.scrollWidth,this.colIndex=this.colCount-1,this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.colIndex,this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.refresh(null,!0))}else this.inputFocus&&!0!==this._hasScroll&&"function"==typeof this.editObject.setFocus&&this.editObject.setFocus();return!1},doKeyDown:function(t,e){if(this.dataSet.getRecordCount()<=0)return!1;if(this.keyBoard.HOME==e)return!!this.mouseEdit||(this.first(),this.refresh(),!0);if(this.keyBoard.END==e)return!!this.mouseEdit||(this.last(),this.refresh(),this.scrollBar.scrollNext(),!0);if(this.keyBoard.ESC==e)null!=this.editObject&&(this.dataPost?"function"==typeof this.editObject.refresh&&this.editObject.refresh():("function"==typeof this.editObject.setValue&&this.editObject.setValue(this.dataSet.getDisplay(this.getFieldName())),this.dataPost=!0));else{if(t.shiftKey&&this.keyBoard.TAB==e)return this._moveLeft(t,e),!0;if(t.ctrlKey||this.priorKey===this.keyBoard.CTRL)return this.doPaste=!1,e==this.keyBoard.C?(this.hasCopy=!0,!0):(e==this.keyBoard.A&&(this.colIndex=1,this.selRect.beginColIndex=1,this.selRect.endColIndex=this.colCount-1,this.dataSet.beginUpdate(),this.dataSet.last(),this.selRect.endRowNode=this.dataSet.getCurNode(),this.dataSet.first(),this.selRect.beginRowNode=this.dataSet.getCurNode(),this.dataSet.endUpdate(!1),this.focus||this.setFocus(),this.refresh()),this.priorKey===this.keyBoard.CTRL);if(e==this.keyBoard.DOWN){if(this.mouseEdit)return!0;if(this.dataSet.getLevel()<0)return this.first(),this.mouseEdit=!1,!1;if(t.shiftKey){var i=this.dataSet.getIndex(),n=this.dataSet.getCurNode();this.dataSet.beginUpdate(),this.dataSet.next(),i>this.selRect.beginRowNode.getIndex()?(this.dataSet.select(this.selRect.beginRowNode),this.dataSet.next(),this.selRect.beginRowNode=this.dataSet.getCurNode()):(this.dataSet.select(this.selRect.endRowNode),this.dataSet.next(),this.selRect.endRowNode=this.dataSet.getCurNode()),this.dataSet.select(n),this.dataSet.endUpdate(!1),n=null,this.refresh(null,!0)}else this.post(),this.dataPost?(this.dataSet.beginUpdate(),n=this.dataSet.getCurNode(),this.dataSet.next(),this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.colIndex,this.dataSet.select(n),this.dataSet.endUpdate(!1),n=null,this.next()):this.inputFocus&&!0!==this._hasScroll&&"function"==typeof this.editObject.setFocus&&this.editObject.setFocus();return this.mouseEdit=!1,!1}if(e==this.keyBoard.UP)return!!this.mouseEdit||!(this.dataSet.getLevel()<0)&&(t.shiftKey?(this.dataSet.beginUpdate(),i=this.dataSet.getIndex(),n=this.dataSet.getCurNode(),i<this.selRect.endRowNode.getIndex()?(this.dataSet.select(this.selRect.endRowNode),this.dataSet.prior(),this.selRect.endRowNode=this.dataSet.getCurNode()):(this.dataSet.select(this.selRect.beginRowNode),this.dataSet.prior(),this.selRect.beginRowNode=this.dataSet.getCurNode()),this.dataSet.select(n),this.dataSet.endUpdate(!1),this.refresh()):(this.post(),this.dataPost?(this.dataSet.beginUpdate(),n=this.dataSet.getCurNode(),this.dataSet.prior(),this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.colIndex,this.dataSet.select(n),n=null,this.dataSet.endUpdate(!1),this.prior()):this.inputFocus&&!0!==this._hasScroll&&"function"==typeof this.editObject.setFocus&&this.editObject.setFocus()),this.mouseEdit=!1,!1);if(e==this.keyBoard.RIGHT||e==this.keyBoard.TAB)return!(!this.mouseEdit||e!=this.keyBoard.RIGHT)||!(this.dataSet.getLevel()<0)&&(e==this.keyBoard.TAB&&(this.mouseEdit=!1),this._moveRight(t,e),!1);if(e==this.keyBoard.LEFT)return!!this.mouseEdit||!(this.dataSet.getLevel()<0)&&(this._moveLeft(t,e),!1);e==this.keyBoard.F2?null!=this.editObject&&"ComboBox"!==this.editObject.className&&"BottonEdit"!==this.editObject.className&&(this.mouseEdit=!this.mouseEdit):t.shiftKey&&(this.shiftKeyDown=!0)}},post:function(){},doKeyUp:function(t,e){if(this.overKey)return this.overKey=!1,!1;if(t.ctrlKey||this.hasCopy||this.doPaste)if(e==this.keyBoard.C)this.clearMark=null,this.refresh();else{if(e==this.keyBoard.PgUp){for(var i=0;i<this.rowCount-1;i++)this.scrollBar.scrollPrior();return!0}if(e==this.keyBoard.PgDn){for(i=0;i<this.rowCount-1;i++)this.scrollBar.scrollNext();return!0}}else if(e==this.keyBoard.ENTER){if(this.mouseEdit=!1,this.dataSet.getLevel()<0)return!1;if(this.post(),this.getOption().EnterDown){if(this.dataPost)if(t.shiftKey){var n=this.dataSet.getRecNo();this.dataSet.prior();var s=this.dataSet.isBof();this.topNode.recNo==n?this.scrollBar.scrollPrior():this.refresh(),s&&this.colIndex>1&&(this.colIndex=this.colIndex-1,this.last(),this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.selRect.beginColIndex,this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.scrollBar.scrollNext())}else{n=this.dataSet.getRecNo(),this.dataSet.next(),this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode;var o=this.dataSet.isEof();o||this.bottomNode.recNo!=n?this.refresh():this.scrollBar.scrollNext(),o&&this.colIndex<this.colCount-1&&(this.colIndex=this.colIndex+1,this.first(),this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.selRect.beginColIndex)}else this.inputFocus&&!0!==this._hasScroll&&"function"==typeof this.editObject.setFocus&&this.editObject.setFocus();return!1}t.shiftKey?this._moveLeft(t,e):this._moveRight(t,e),this.setFocus()}else t.shiftKey||(this.shiftKeyDown=!1);this.pasteKeyPress=!1,this.priorKey=e},addTreeNode:function(t,e,i){if(!this.isEmpty(e)&&"string"!=typeof e||"object"!=typeof t||(i=e,e=t,t=null),this.isEmpty(e))return!1;var n=1;this.isArray(e)&&(n=e.length),this._addNew=!0;var s=this;"brother"===(i=i||"brother")?this.dataSet.append(e,void 0,function(){n>50&&s.refresh()}):"child"===i&&this.dataSet.appendChild(e,void 0,function(){n>50&&s.refresh()}),this.trigger("afterInsertRow",[this.getPKeyName(),e,i]),this.trigger("onChanged",[this]),n<=50&&this.refresh()},delTreeNode:function(t){this.delEcpRowData(t)},delRecord:function(t){this.delEcpRowData(t)},delEcpRowData:function(t){var e=!0===this.scrollBar.visible;if(this.dataSet.getRecordCount()>0){var i=this.dataSet.getCurNode(),n=null!=i&&this.topNode.recNo===i.recNo,s=0,o=this.selRect.endRowNode.recNo==i.recNo,l=this.selRect.beginRowNode.recNo==i.recNo;if(null!=t){var r=this.getPKeyName();if(this.isArray(r)){if(!(r.length>0))return;r=r[0]}if(this.isArray(t)){for(var a=!1,h=0,c=t.length;h<c;h++){var u=t[h];(this.dataSet.getValue(r)==u||this.dataSet.locate(r,u,!0))&&(this.dataSet.getValue(r,i)==this.dataSet.getValue(r)&&(a=!0),this.dataSet.delRecord(),s++)}n=a}else(this.dataSet.getValue(r)==t||this.dataSet.locate(r,t,!0))&&(this.dataSet.getValue(r,i)!=this.dataSet.getValue(r)&&(n=!1),this.dataSet.delRecord(),s++)}else this.dataSet.delRecord(),s++;if(this.dataSet.getRecordCount()>0){if(this.hasbind("rowChanged")&&this.trigger("rowChanged",[this.dataSet]),"function"==typeof this.onRowChanged)try{this.onRowChanged(this.dataSet)}catch(t){this.logError("onRowChanged event fire error!")}this.trigger("onRowChanged",[this.dataSet])}if(i=this.dataSet.getCurNode(),o&&(this.selRect.endRowNode=i),l&&(this.selRect.beginRowNode=i),n&&this.dataSet.getRecordCount()>0&&(this.topNode=this.dataSet.getCurNode(),this.topNode.scrIndex>1&&this.topNode.scrIndex--),s>0&&!0===this.getOption().pager){var d=this.pageObj.getTotalCount();this.pageObj.setTotalCount(d-s,!1)}i=null,this.refresh()}!0===this.multiSelect&&0==this.dataSet.getRecordCount()&&this.setTitleChecked("@MUL",!1),e&&!0===this.getOption().suitToFit&&!1===this.scrollBar.visible&&this.suitToFit(),this.trigger("onChanged",[this])},getScrollIndex:function(){return null!=this.topNode?this.topNode.scrIndex:1},scrollToIndex:function(t){if(t>1){t>this.dataSet.getRecordCount()&&(t=this.dataSet.getRecordCount());var e=!0;if(t>1){this.dataSet.beginUpdate();var i=this.dataSet.getCurNode(),n=0;if(this.dataSet.select(this.topNode),t>this.topNode.scrIndex)for(;!this.dataSet.isEof()&&t!=this.dataSet.getIndex();){if(t<this.dataSet.getIndex()){e=!1;break}n++,this.dataSet.next()}else for(;!this.dataSet.isBof()&&t!=this.dataSet.getIndex();){if(t>this.dataSet.getIndex()){e=!1;break}n--,this.dataSet.prior()}this.dataSet.select(i),this.dataSet.endUpdate(!1),!0===e&&this.scrollBar.setScrollIndex(this.scrollBar.scrollIndex+n),this.refresh()}else this.first()}else this.first()},scrollToFocus:function(){if(!this.selRowInShow&&this.getRecordCount()>0){var t=this.dataSet.getCurNode(),e=t.scrIndex<this.topNode.scrIndex;if(this.dataSet.beginUpdate(),e){var i=0;for(this.dataSet.first();!this.dataSet.isEof()&&this.dataSet.getRecNo()!==t.recNo;)this.dataSet.next(),i++;this.topNode=t,this.scrollBar.setScrollIndex(i,!1)}else{for(this.dataSet.select(this.topNode),i=0;!this.dataSet.isEof()&&this.dataSet.getRecNo()!==t.recNo;)this.dataSet.next(),i++;i-=this.rowCount-2,this.scrollBar.setScrollIndex(this.scrollBar.scrollIndex+i)}return this.dataSet.endUpdate(!1),!0}return!1},getValue:function(t,e){return this.dataSet.getRecordCount()>0?this.dataSet.getValue(t,e):null},setValue:function(t,e,i,n){this.dataSet.getRecordCount()>0&&this.dataSet.setValue(t,e,i,n)},setTransIDName:function(t,e){this.dataSet.setTransIDName(t,e)},getTransIDName:function(t){return this.dataSet.getTransIDName(t)},addTransIDName:function(t,e,i,n){this.dataSet.addTransIDName(t,e,i,n)},getSelectedRowData:function(t){return this.dataSet.getRecordCount()>0?this.multiSelect&&!0!==t?this.dataSet.getSelectedData():this.dataSet.getCurNode().level>=0?this.dataSet.getCurNode().data:null:null},next:function(){this.scrollToFocus(),this.post();var t=this.dataSet.getRecNo();this.dataSet.next(),this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,null!=this.bottomNode&&this.bottomNode.recNo==t?this.scrollBar.scrollNext():this.refresh(null,!0)},prior:function(){this.scrollToFocus(),this.post();var t=this.dataSet.getRecNo();this.dataSet.prior(),this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.topNode.recNo==t?this.scrollBar.scrollPrior():this.refresh(null,!0)},setHeight:function(t,e){this._fzSumTableTop=null,this.base(t,e),this.rendered&&this._update&&!1!==e&&(this.initGrid(),this.refresh())},setWidth:function(t,e){this.base(t,e),this.rendered&&this._update&&!1!==e&&this.refresh()},first:function(){this.dataSet.first(),this.topNode=this.dataSet.getCurNode(),this.selRect.beginRowNode=this.topNode,this.selRect.endRowNode=this.topNode,this.topNode.level>=0&&(this.topNode.scrIndex=1),this.beginUpdate(),0!=this.scrollBar.thisWindow.scrollTop&&(this.scrollBar.scrollIndex=-1),this.scrollBar.setScrollIndex(0),this.endUpdate(!1),this.refresh()},last:function(){this.dataSet.last(),this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.refresh(),this.scrollToFocus()},noSelect:function(){this.dataSet.select(this.dataSet.rootNode),this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.refresh()},getEditCellEcpUI:function(){return!1},getSelectRowIds:function(t){return this.multiSelect&&!0!==t?this.dataSet.getSelectRowIds().join(","):this.dataSet.getRecordCount()>0?this.dataSet.getValue(this.getPKeyName()):null},getSelRowsAsArray:function(){var t=[];return this.multiSelect&&!0!==curOnly?t=this.dataSet.getSelectRowIds():this.dataSet.getRecordCount()>0&&(t=[this.dataSet.getValue(this.getPKeyName())]),t},getPKeyValue:function(t){null==t&&(t=this.getCurNode());var e=this.getOption().primaryKey;if(this.isEmpty(e)||this.isArray(e)&&0==e.length)return"";var i=null;if("string"==typeof e)i=this.dataSet.getValue(e,t);else if(this.isArray(e)){i=[];for(var n=0,s=e.length;n<s;n++){var o=e[n];i.push(this.dataSet.getValue(o,t))}}return i},getPKeyName:function(){if(!this.isEmpty(this.getOption().primaryKey))return this.isArray(this.getOption().primaryKey)?this.getOption().primaryKey.length>0?this.getOption().primaryKey[0]:(this.getOption().primaryKey="gid","gid"):this.getOption().primaryKey;this.getOption().primaryKey="gid"},addEcpRowData:function(t,e,i){var n=void 0;0==this.treeGrid&&(n=this.dataSet.rootNode);var s=!1===this.getHScrollHide(),o=0;if(this._addNew=!0,null==e||isNaN(e))this.dataSet.appendItemList(t,n,!1,i),this.isArray(t)?o+=t.length:o++;else{var l=this.topNode.recNo==this.dataSet.getRecNo();this.dataSet.insertItemList(e,t,n),!0===l&&null!=n&&null!=n.cNode[e]&&(this.topNode=n.cNode[e],this.dataSet.curNode=this.topNode),this.isArray(t)?o+=t.length:o++}if(!0===this.getOption().pager){var r=this.pageObj.getTotalCount();this.pageObj.setTotalCount(r+o,!1,this.dataSet.getRecordCount())}!0!==this.hasbind("onScrollEnd")?this.last():this.refresh(),s||!0===this.getOption().suitToFit&&!1===this.getHScrollHide()&&this.suitToFit(),this.trigger("onChanged",[this])},_insertGroupValue:function(){for(var t=[],e=0,i=this.getOption().colModels.length;e<i;e++){var n=this.getOption().colModels[e];!0===n.groups&&t.push(n.name)}if(t.length>0){this.dataSet.beginUpdate();var s=this.dataSet.getCurNode(),o=null;this.dataSet.prior(),this.dataSet.isBof()||(o=this.dataSet.getCurNode()).level!=s.level&&(o=null),this.dataSet.select(s);var l=null;if(this.dataSet.next(),this.dataSet.isEof()||(l=this.dataSet.getCurNode()).level!=s.level&&(l=null),this.dataSet.select(s),null!=o&&null!=l)for(e=0,i=t.length;e<i;e++){var r=t[e],a=this.getValue(r,o);null!=a&&""!==a&&a===this.getValue(r,l)&&this.dataSet.setValue(r,a)}this.dataSet.endUpdate(!1)}},insert:function(t,e){null==e&&null!=t&&"object"==typeof t&&(e=t,t=null);var i=!1===this.getHScrollHide(),n=-1,s=this.dataSet.getCurNode();null!=t&&(s=this.getChildNode(t,this.dataSet.getParentNode())),null!=s&&(n=s.recNo);var o=this.topNode.recNo==n;if(null!=e&&this.isArray(e))if(null==t&&(t=this.dataSet.getCurNode().index),1==e.length){if(this.dataSet.insertItem(t,e[0]),!0===this.getOption().autoGroups&&this._insertGroupValue(),!0===o&&(this.topNode=this.dataSet.getCurNode()),null==this.topNode?this.first():this.refresh(),this.scrollToFocus(),!0===this.getOption().pager){var l=this.pageObj.getTotalCount();this.pageObj.setTotalCount(l+1,!1,this.dataSet.getRecordCount())}}else this.addEcpRowData(e,t),!0===o&&(this.topNode=this.dataSet.getCurNode());else this.dataSet.insertItem(t,e),!0===this.getOption().autoGroups&&this._insertGroupValue(),!0===o&&(this.topNode=this.dataSet.getCurNode()),null==this.topNode?this.first():this.refresh(),this.scrollToFocus(),!0===this.getOption().pager&&(l=this.pageObj.getTotalCount(),this.pageObj.setTotalCount(l+1,!1,this.dataSet.getRecordCount()));i||!0===this.getOption().suitToFit&&!1===this.getHScrollHide()&&this.suitToFit(),this.trigger("onChanged",[this])},append:function(t){if(null!=t&&this.isArray(t))this.addEcpRowData(t);else{var e=!1===this.getHScrollHide();if(this.dataSet.appendItem(t),null==this.topNode||1==this.dataSet.getRecordCount()?this.first():this.refresh(),this.scrollToFocus(),!0===this.getOption().pager){var i=this.pageObj.getTotalCount();this.pageObj.setTotalCount(i+1,!1,this.dataSet.getRecordCount())}e||!0===this.getOption().suitToFit&&!1===this.getHScrollHide()&&this.suitToFit()}this.trigger("onChanged",[this])},appendChild:function(t,e){if(null!=t&&this.isArray(t))this.addEcpRowData(t);else{var i=!1===this.getHScrollHide();if(this.dataSet.appendChildItem(t,e),null==this.topNode?this.first():this.refresh(),this.scrollToFocus(),!0===this.getOption().pager){var n=this.pageObj.getTotalCount();this.pageObj.setTotalCount(n+1,!1,this.dataSet.getRecordCount())}i||!0===this.getOption().suitToFit&&!1===this.getHScrollHide()&&this.suitToFit()}this.trigger("onChanged",[this])},getGridParam:function(){return null==this.option.colModels&&(this.option.colModels=[]),this.option},setReadOnly:function(t){t=!0===t,this.getOption().cellEdit=!t,this.refresh()},setRowReadOnly:function(t,e){t=!0===t,this.dataSet.setReadOnly(t,e)},setColReadOnly:function(t,e){this.getColModel(t).editable=!0!==e,this.refresh()},isColReadOnly:function(t){return!1===this.getColModel(t).editable},isReadOnly:function(){return this.getReadOnly()},getReadOnly:function(){var t=!1;return this.isEmpty(t)?t=!0:"string"==typeof t&&(t=this.getBooleanValue(t,!0)),!t},isRowReadOnly:function(t){return this.dataSet.getReadOnly(t)},isCellReadOnly:function(t,e){return this.getCellReadOnly(t,e)},getCellReadOnly:function(t,e){return!0},_yuiGridFit:function(t){},_getGridParent:function(t){var e=this.thisWindow.parentElement;if(n={},t){for(var i=e,n=null;"BODY"!==i.tagName.toUpperCase();)if("string"==typeof i.className&&i.className.indexOf(".tabs-panels")>=0){n=i;break}null==n&&(n=e.parentElement)}else n=e;return n},setVisible:function(t,e){},setTreeGrid:function(t,e,i){if(null==this.option&&(this.option={}),!1===t?this.getOption().treeGrid=!1:(this.getOption().treeGrid=!0,null!=e&&""!==e&&(this.getOption().idkey=e),null!=i&&""!==i&&(this.getOption().pidkey=i)),null!=this.option.colModels)for(var n=0,s=this.option.colModels.length;n<s;n++){var o=this.option.colModels[n];o.width=o._defWidth||o.width}this._createTitle(!1),this.initGrid()},_doResize:function(t){this._resizeState=!0,this._gridTableHeight=null,this._sumTableHeight=null,this._update?this._comRect=this.thisWindow.getBoundingClientRect():this._asynRun(function(){this._comRect=this.thisWindow.getBoundingClientRect()},10),this.base(t),this.rendered&&this._update&&this.initGrid(),this.rendered&&!1!==this.getOption().shrinkToFit&&this.shrinkToFit(),this.rendered&&!0===this.getOption().suitToFit&&this.suitToFit(),this._suitTitleHeight(),null!=this.emptyDiv&&(this.emptyDiv.style.left=parseInt((this.getWidth()-100)/2,10)+"px",this.emptyDiv.style.top=parseInt((this.getHeight()-20-this.getTitleHeight())/2,10)+this.getTitleHeight()+"px"),this._refreshSumTab(),this._asynRun(function(){this._resizeState=!1},100)},setTitleFit:function(t,e,i){var n=null;"string"==typeof t&&(t=[t]);var s={},o={};if(null==e)for(var l=0,r=this.option.colModels.length;l<r;l++){n=this.option.colModels[l];for(var a=0,h=t.length;a<h;a++)1!=n.hidden&&n.name==t[a]&&(s[n.name]=this.titleCol[l],o[n.name]=this._getNumberValue(n.minWidth,0))}else this.isArray(e)||(s[t[0]]=e,o[t[0]]=this.getColModel(t[0]).minWidth);if(t.length>0){var c=this._getNumberValue(this.listDiv.style.width),u=this._getNumberValue(this.gridTable.style.width);for(a=0,h=t.length;a<h;a++){var d=t[a],p=s[d];if(null!=p){var g=this.getInnerText(p);""===g&&null!=p.checkBox&&(g+=".");var f=this.getFontSize(d)+"px",y=this.getTextWidth(g,f,"bold")+8;null!=o[d]&&y<o[d]&&(y=o[d]);var m=p.offsetWidth;if(m>0){if(this.getOption().shrinkToFit&&null!=this._oldGridWidth&&this._oldGridWidth<this._width&&u<c&&m>y)continue;this._setColWidth(p,y-m,[m],this._getNumberValue(this.gridTable.style.width,1),a==h-1)}}}this._suitTitleHeight(),this._oldGridWidth=null,this._tmpWidth=null}"function"==typeof i&&i.apply(this)},doShow:function(){this.base(),this.refresh();var t=this;this.setContentFit(function(){!1!==t.getOption().shrinkToFit&&t.shrinkToFit(),!0===t.getOption().suitToFit&&t.suitToFit()})},initMaxText:function(){this.maxText={},this.maxTextLen={},this.maxCapWidth={},this.maxLevel=0},getMaxText:function(t,e,i){if("string"==typeof t&&(t=[t]),this.isArray(t)&&t.length>0){if(!0===i){for(var n=!0,s=0,o=t.length;n&&s<o;s++)null!=this.maxText&&null!=this.maxText[t[s]]||(n=!1);if(1==n)return void("function"==typeof e&&e(t,this.maxText))}this.isEmpty(this.maxText)&&this.initMaxText();var l=[];for(s=0,o=t.length;s<o;s++){var r=t[s];null==this.maxText[r]&&(this.maxText[r]="",this.maxTextLen[r]=0,l.push(r))}var a={};if(this.dataSet.getRecordCount()>0){var h=this.dataSet;h.savemark(),h.select(this.topNode);var c=0,u=this.sheets.length;for(o=t.length;!h.isEof()&&c<u;){for(s=0;s<o;s++){r=t[s];var d=h.getDisplay(r),p=h.getValue(r);this.hasbind("onFormat_"+r)&&(null==a[p]?(d=this.trigger("onFormat_"+r,[h,r,d,p]),a[p]=d):d=a[p]),"string"==typeof d&&-1!=d.indexOf("<")&&(d=d.replace(/<(\/)?(a|span|div|li|ul|table|tr|td|input|font)( [^<>]+)?>/gi,""));var g=this.strLen(d);g>this.maxTextLen[r]&&(this.maxTextLen[r]=g,this.maxText[r]=d)}h.getLevel()>this.maxLevel&&(this.maxLevel=h.getLevel()),c++,this.dataSet.next()}this.dataSet.loadmark()}"function"==typeof e&&e(t,this.maxText),a=null}},setContentFit:function(t,e,i){"function"==typeof t?(i=t,t=null,e=null):"function"==typeof e&&(i=e,e=null);var n=null==t||""===t;n&&(t=[]),"string"==typeof t&&(t=[t]);var s=null,o={},l={};if(null==e)for(var r=0,a=this.option.colModels.length;r<a;r++)if(s=this.option.colModels[r],n)1!=s.hidden&&!0===s.contentFit&&(t.push(s.name),o[s.name]=this.titleCol[r],l[s.name]=this._getNumberValue(s.minWidth,0));else for(var h=0,c=t.length;h<c;h++)1!=s.hidden&&s.name==t[h]&&(o[s.name]=this.titleCol[r],l[s.name]=this._getNumberValue(s.minWidth,0));else this.isArray(e)||(o[t[0]]=e,l[t[0]]=this.getColModel(t[0]).minWidth);var u=this;if(t.length>0){var d=u._getNumberValue(u.listDiv.style.width),p=u._getNumberValue(u.gridTable.style.width);this.getMaxText(t,function(t,e){for(var n=0,s=t.length;n<s;n++){var r=t[n],a=o[r];if(null!=a){var h=u.getInnerText(a);""===h&&null!=a.checkBox&&(h+=".");var c=u.dataSet.getSummary(r),g=0,f=u.getFontSize(r)+"px";null!=c&&""!==c&&(c=u.dataSet.getDisplay(r,c),g=u.getTextWidth(c,f,"bold")+16);var y=u.getTextWidth(h,f,"bold")+12,m=u.getTextWidth(e[r])+12;m<y&&(m=y),g>m&&(m=g),0!=u.treeGrid&&0==a.option.cIndex&&(m+=16*u.maxLevel+16,u.multiSelect&&(m+=12)),null!=l[r]&&m<l[r]&&(m=l[r]);var v=a.offsetWidth;if(0===v&&a.option&&null!=a.option.cIndex){var C=a.option.cIndex+1+u._colIndexDeff(),S=u.gridTable.rows[0].cells[C];S&&(v=S.offsetWidth)}if(v>0){if(u.getOption().shrinkToFit&&null!=u._oldGridWidth&&u._oldGridWidth<u._width&&p<d&&v>m)continue;u._setColWidth(a,m-v,[v],u._getNumberValue(u.gridTable.style.width,1),n==s-1)}}}u._suitTitleHeight(),u._oldGridWidth=null,u._tmpWidth=null,"function"==typeof i&&i.apply(u)})}else"function"==typeof i&&i.apply(u)},doTitleDBClick:function(t,e){if(this.resizeState)if(t.option.isBand);else{var i=t.option.cIndex+1+this._colIndexDeff(),n=this._getColModel(i);this.setContentFit(n.name,t)}},doTitleMouseDown:function(t,e){this.getMouseButton(e)!=this.mouseType.mtLeft||this.sortClick||(this.titleMouseDown=!0,this.curTitleCell=t,this.curTitleCellWidth=this._getColWidth(t),this.curTableWidth=this.gridTable.offsetWidth,this.curFzTableWidth=this.fzGridTable.offsetWidth,this.curMouseLeft=this.mouseLeft,this._isHScrollHide=this.getHScrollHide()),this.post(),this.focus||this.setFocus()},doTitleMouseUp:function(t,e){this.getMouseButton(e)!=this.mouseType.mtLeft||this.sortClick||this.resizeState||!1===this.getOption().rectSelect?this.resizeState&&this.refresh():this.titleMouseDown&&!this.titleDragState&&this.curTitleCell.cellIndex==t.cellIndex&&this.curTitleCell.parentNode.rowIndex==t.parentNode.rowIndex&&(t.cellIndex==this._colOrder["@INDEX"]&&-1==t.option.cIndex?(this.colIndex=1+this._colIndexDeff(),this.selRect.beginColIndex=1+this._colIndexDeff(),this.selRect.endColIndex=this.colCount-1):(this.selRect.beginColIndex=t.option.cIndex+1+this._colIndexDeff(),this.selRect.endColIndex=t.option.cIndex+parseInt(t.getAttribute("colSpan"),10)+this._colIndexDeff(),this.colIndex=t.option.cIndex+1+this._colIndexDeff()),this.dataSet.beginUpdate(),this.dataSet.last(),this.selRect.endRowNode=this.dataSet.getCurNode(),this.dataSet.first(),this.selRect.beginRowNode=this.dataSet.getCurNode(),this.dataSet.endUpdate(!1),this.focus||this.setFocus(),this.refresh()),this.trigger("onHeaderClick",[])},doTitleMouseMove:function(t,e){if(!this.titleMouseDown){this.isEmpty(t.mainCell)&&this.listDiv.scrollLeft;var i=t.getBoundingClientRect(),n=(e.clientX,t.offsetWidth),s=n-(e.clientX-i.left);s<10?(this.resizeState=!0,this.titleDragState=!0,this.getBrowser("safari")?this.thisWindow.style.cursor="e-resize":this.thisWindow.style.cursor="col-resize"):(this.titleDragState=!1,this.resizeState=!1,this.thisWindow.style.cursor=""),this.mouseLeft=e.clientX,null,i=null,n=null,s=null}},doTitleMouseOver:function(t,e){this.titleMouseDown&&!this.titleDragState&&!1!==this.getOption().rectSelect&&(this.curTitleCell.option.cIndex<=t.option.cIndex?(this.selRect.beginColIndex=this.curTitleCell.option.cIndex+1+this._colIndexDeff(),this.selRect.endColIndex=t.option.cIndex+this._getNumberValue(t.getAttribute("colSpan"),1)+this._colIndexDeff()):(this.selRect.beginColIndex=t.option.cIndex+1+this._colIndexDeff(),this.selRect.endColIndex=this.curTitleCell.option.cIndex+1+this._colIndexDeff()),this.selRect.beginColIndex<1&&(this.selRect.beginColIndex=1),this.colIndex=this.curTitleCell.option.cIndex+1+this._colIndexDeff(),this.dataSet.beginUpdate(),this.dataSet.last(),this.selRect.endRowNode=this.dataSet.getCurNode(),this.dataSet.first(),this.selRect.beginRowNode=this.dataSet.getCurNode(),this.dataSet.endUpdate(!1),this.refresh())},doCellMouseDown:function(t,e){if(this.getMouseButton(e)==this.mouseType.mtLeft){var i=!1;0==this.focus&&(i=!0),this.cellMouseDown=!0;var n=!0;if(this.dataSet.getRecordCount()>=1&&!0===i&&!0===this.hasbind("beforeSelectRow")){var s=t.parentNode._node,o=this.dataSet.getCurNode();s.recNo!=o.recNo?!1!==this.trigger("beforeSelectRow",[o,s])?this.curCell=t:n=!1:this.curCell=t}else this.curCell=t;if(null!=this.curCell&&this.curCell.cellIndex==this._colOrder["@INDEX"]?this.selARow=!0:this.curColIndex=t.cellIndex,!1===this.focus&&(this.setFocus(),!0===i&&!0!==this.inputFocus&&!0===n)){this.refresh(!0),this.trigger("onCellSelect",[this.getPKeyName(),this.colIndex,this,e]),this.trigger("onSelectEcpRow",[this.getSelectRowIds(),this.getFieldName(),e]),this.logInfo("doCellMouseDown onClick_"),this.trigger("onClick",[this.dataSet.getCurNode(),this.getFieldName(),e]),this._priorClickFrom="doCellMouseDown",e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e.cancelBubble=!0,e.returnValue=!1);var l=this;return setTimeout(function(){l._priorClickFrom="",l.logInfo("clear priorClickFrom value"),l=null},800),!1}}this.logInfo("mouse down")},_refreshMulSelect:function(t){null==t&&(t=[]);var e=t.length;if(e>0){this.dataSet.beginUpdate();var i=this.dataSet.getCurNode(),n=this.selRect.beginRowNode;this.dataSet.select(n),c=!0,u={},d=0;for(var s=0;s<e;s++)u[l=t[s]]=this.dataSet.getDisplay(l);for(d=this.dataSet.getLevel(),this.dataSet.prior();!this.dataSet.isBof()&&c;){var o=!1;if(d==(p=this.dataSet.getLevel()))for(s=0;s<e;s++){var l=t[s],r=this.getColModel(l),a=this.dataSet.getDisplay(l);o=o||(!0===r.groupsEmpty||!0!==r.groupsEmpty&&null!=a&&""!==a)&&a===u[l],u[l]=a}d=p,(c=c&&o)&&(n=this.dataSet.getCurNode()),this.dataSet.prior()}this.selRect.beginRowNode=n;var h=this.selRect.endRowNode;this.dataSet.select(h);var c=!0,u={},d=0;for(s=0;s<e;s++)u[l=t[s]]=this.dataSet.getDisplay(l);for(d=this.dataSet.getLevel(),this.dataSet.next();!this.dataSet.isEof()&&c;){var p;if(o=!1,d==(p=this.dataSet.getLevel()))for(s=0;s<e;s++)l=t[s],r=this.getColModel(l),a=this.dataSet.getDisplay(l),o=o||(!0===r.groupsEmpty||!0!==r.groupsEmpty&&null!=a&&""!==a)&&a===u[l],u[l]=a;d=p,(c=c&&o)&&(h=this.dataSet.getCurNode()),this.dataSet.next()}this.selRect.endRowNode=h,this.dataSet.select(i),this.dataSet.endUpdate(!1)}},doCellMouseOver:function(t,e){if(0!=this._enabled&&this.cellMouseDown&&null!=this.curCell&&!1!==this.getOption().rectSelect){t.cellIndex>0?(this.curCell.cellIndex<=t.cellIndex?(this.selRect.beginColIndex=this.curCell.cellIndex,this.selRect.endColIndex=t.cellIndex):(this.selRect.beginColIndex=t.cellIndex,this.selRect.endColIndex=this.curCell.cellIndex),this.selRect.beginColIndex<=0&&(this.selRect.beginColIndex=1),this.colIndex=this.curCell.cellIndex):this.selARow&&(this.selRect.beginColIndex=1+this._colIndexDeff(),this.selRect.endColIndex=this.colCount-1,this.colIndex=1+this._colIndexDeff());for(var i=[],n=this.selRect.beginColIndex;n<=this.selRect.endColIndex;n++){var s=this._getColModel(n);!0===s.groups&&i.push(s.name)}var o=null;null!=this.curCell&&(o=this.curCell.parentNode._node);var l=t.parentNode._node;null!=o&&(o.getIndex()<l.getIndex()?(this.selRect.beginRowNode=o,this.selRect.endRowNode=l):(this.selRect.beginRowNode=l,this.selRect.endRowNode=o),this._refreshMulSelect(i)),this.post(),null!=o&&this.dataSet.select(o),this.isCellMouseOver=!0,this.refresh()}},doMouseDown:function(t){this.base(t),this.scrollMouseDown=!0,this.isCellMouseOver=!1},doMouseUp:function(t){if(this.base(t),this.scrollMouseDown=!1,this.scrollBar.ismousedown=!1,this.dataSet.initMaxText(),this.getMouseButton(t)==this.mouseType.mtRight&&this.hasSelect){if(this.getOption().hidePopMenu||0==this.popMenu._popCount)return;var e=this.getScrollXY(),i=t.clientY+e.top,n=t.clientX+e.left;"function"==typeof this.onPopMenuExt&&this.onPopMenuExt(this,this.popMenu),this.trigger("onPopMenuExt",[this,this.popMenu]),this.popMenu.execute(i,n)}else{if(null!=this.curTitleCell){var s=this.curTitleCell.getBoundingClientRect();this.curTitleCell.offsetWidth-(t.clientX-s.left)>=5&&(this.thisWindow.style.cursor=""),this._gridTableHeight=null,this._refreshSumTab(),s=null}else this.thisWindow.style.cursor="";this.titleMouseDown=!1,this.titleDragState=!1,this.curTitleCell=null,!0!==this._hasScroll&&this.cellMouseDown&&!this.inputFocus&&(this.copyInput.select(),this.copyInput.focus()),this.cellMouseDown=!1,this.selARow=!1,this.sortClick=!1,this.curCell=null;var o=this.getHScrollHide();null!=this._isHScrollHide&&o!=this._isHScrollHide&&(this.initGrid(),this.refresh()),this._isHScrollHide=o,!0===this._hasScroll&&(this.inputFocus&&null!=this.editObject&&this.post(),this.refresh()),this._hasScroll=!1}},_getColWidth:function(t){var e=[],i=parseInt(t.getAttribute("colSpan"),10);if(i>0)for(var n=0,s=0;s<i;s++){for(var o=this.gridTable.rows[0].cells[t.option.cIndex+1+s+n+this._colIndexDeff()];"none"==o.style.display;)n++,o=this.gridTable.rows[0].cells[t.option.cIndex+1+s+n+this._colIndexDeff()];e[s]=this._getNumberValue(o.style.width,0)}return e},getColWidth:function(t,e){return null==e&&(e=1),this._getNumberValue(this.gridTable.rows[0].cells[t].style.width,e)},setColWidth:function(t,e){for(var i=0,n=this.gridTable.rows[0].cells.length;i<n;i++){var s=this.gridTable.rows[0].cells[i];if(null!=s.option){var o=s.option.fzCol,l=s.option.colModel;if(null!=l&&(null==o&&(o=s),l.name===t)){var r=parseInt(e,10)-l.width;0!=r&&(this._refreshCellDivWidth(o.cellIndex,s.option.defWidth),this._setGridTableWidth(this._getNumberValue(this.gridTable.style.width)+r));break}}}},_getShrinkCol:function(t){for(var e=0,i=0,n=[],s=1,o=this.titleCol.length;s<=o;s++){var l=this.option.colModels[s-1],r=this.titleCol[s-1];if(!0!==l.hidden&&"true"!==l.hidden){var a=this.getColWidth(r.option.cIndex+1+this._colIndexDeff(),l.width);e+=a,(1==t||l.defWidth&&1!=l.contentFit)&&!0!==l.lockWidth&&(i++,n.push({col:r,width:a}))}}var h=e;return this.getOption().rownumbers&&(e+=60),0==this.treeGrid&&1==this.multiSelect&&(e+=30),{gridWidth:e,sumWidth:h,count:i,cols:n}},resetColWidth:function(){for(var t=0,e=this.gridTable.rows[0].cells.length;t<e;t++){var i=this.gridTable.rows[0].cells[t];if(null!=i.option){var n=i.option.fzCol,s=i.option.colModel;if(null!=s){null==n&&(n=i);var o=i.option.defWidth-s.width;0!=o&&(this._refreshCellDivWidth(n.cellIndex,i.option.defWidth),this._setGridTableWidth(this._getNumberValue(this.gridTable.style.width)+o))}}}},suitToFit:function(){this.shrinkToFit(null,!0)},_shrinkToFit:function(t){this.shrinkToFit(t)},shrinkToFit:function(t,e){if(this._tmpWidth!=this.getOption().width||this._tmpScrollVisible!=this.scrollBar.visible||!0===t||!0===e){this._tmpWidth=this.getOption().width,this._tmpScrollVisible=this.scrollBar.visible;var i=this._getShrinkCol(),n=i.gridWidth,s=i.sumWidth,o=i.count,l=i.cols;i=null;var r=this.getBoxWidth();if(r<this.getWidth()&&r++,null==this._oldGridWidth&&(this._oldGridWidth=n),!0===e||n<=r-2||!0===e&&null!=this._oldGridWidth&&this._oldGridWidth<r-2){if(0==o&&(n=(i=this._getShrinkCol(!0)).gridWidth,o=i.count,l=i.cols,i=null,!0===e||n<=r-2||null!=this._oldGridWidth&&this._oldGridWidth<r-2||(o=0)),o>0)if(!0===this.getOption().pecentWidth){for(var a=r-n-2,h=0,c=0;c<o-1;c++){var u=l[c];h+=d=parseInt(a*u.width/s,10),this._setColWidth(u.col,d,[u.width],n,!1),n+=d}u=l[c];var d=a-h;this._setColWidth(u.col,d,[u.width],n),n+=d}else for((d=parseInt((r-n-2)/o,10))>0&&(this.shrinkAdd=!0),a=r-n-2-d*o,a=parseInt(a,10),c=0;c<o;c++){u=l[c];var p=0;a>0?(p=1,a--):a<0&&(p=-1,a++),this._setColWidth(u.col,d+p,[u.width],n,c==o-1),n+=d+p}this._calcRowCount(),this._asynRun(function(){"function"==typeof this.refresh&&(this.refresh(),this.refreshVScrollBar())},10)}l=null}},_refreshCellDivWidth:function(t,e){if(!(t===this._colOrder["@INDEX"]&&e<55)){var i=this.fzGridTable.rows[0].cells[t];if(null!=i&&!0!==i.noUse&&e>0){if(this._setNumberValue(i,"width",e),1==this.getOption().footerrow||!0===this.getOption().total){var n=this.fzSumTable.rows[this.totalIndex].cells[t];this._setNumberValue(n.rect.text,"width",e-8),this._setNumberValue(n.rect,"width",e-8),this._setNumberValue(n,"width",e),n=null}!0===this.getOption().subtotal&&(n=this.fzSumTable.rows[this.subtotalIndex].cells[t],this._setNumberValue(n.rect.text,"width",e-8),this._setNumberValue(n.rect,"width",e-8),this._setNumberValue(n,"width",e),n=null)}if(i=null,e>0&&(null!=(h=this.gridTable.rows[0].cells[t])&&(this._setNumberValue(h,"width",e),1==this.getOption().footerrow||!0===this.getOption().total)&&(n=this.sumTable.rows[this.totalIndex].cells[t],this._setNumberValue(n.rect.text,"width",e-8),this._setNumberValue(n.rect,"width",e-8),this._setNumberValue(n,"width",e),n=null),!0===this.getOption().subtotal)){n=this.sumTable.rows[this.subtotalIndex].cells[t];var s=e-8;this._style(n.rect.text,"width",s+"px"),this._style(n.rect,"width",s+"px"),this._style(n,"width",e+"px"),n=null}var o=0;this.multiSelect&&(o=10);for(var l=this.getFieldName(t),r=0,a=this.sheets.length;r<a;r++){var h,c=this.sheets[r].row,u=this.fzSheets[r].row,d=u.cells[t];if((null==this.getOption().treeKey&&1===t||this.getOption().treeKey===l)&&0!=this.option.treeGrid){if(null!=(h=c.cells[t])){e-8>0&&(h.levelDiv.style.width=e-8+"px",null!=d&&!0!==d.noUse&&(d.levelDiv.style.width=e-8+"px"));var p=e-8-14-o-this._getNumberValue(h.levelTd.style.width,0);p>0&&(h.rect.style.width=p+"px",h.rect.text.style.width=p+"px",null!=d&&!0!==d.noUse&&(d.rect.style.width=p+"px",d.rect.text.style.width=p+"px"))}}else e-8>0&&null!=(h=c.cells[t])&&(h.rect.style.width=e-8+"px",h.rect.text.style.width=e-8+"px",null!=d&&!0!==d.noUse&&(d.rect.style.width=e-8+"px",d.rect.text.style.width=e-8+"px"));c=null,u=null}this._getColModel(t).width=e}},_setColWidth:function(t,e,i,n,s){for(var o=parseInt(t.getAttribute("colSpan")||1,10),l=parseInt(e/o,10),r=0,a=0,h=0,c=0,u=null;r<o-1;r++){for(u=this.gridTable.rows[0].cells[t.option.cIndex+1+r+c+this._colIndexDeff()];"none"==u.style.display;)c++,u=this.gridTable.rows[0].cells[t.option.cIndex+1+r+c+this._colIndexDeff()];u=null,a+=l;var d=i[r]+l;this._refreshCellDivWidth(t.option.cIndex+1+r+c+this._colIndexDeff(),d),h+=d-i[r]}for(u=this.gridTable.rows[0].cells[t.option.cIndex+1+r+c+this._colIndexDeff()];null!=u&&"none"==u.style.display;)c++,u=this.gridTable.rows[0].cells[t.option.cIndex+1+r+c+this._colIndexDeff()];u=null,(d=i[r]+(e-a))<0||(h+=d-i[r],this._refreshCellDivWidth(t.option.cIndex+1+r+c+this._colIndexDeff(),d),this._setGridTableWidth(n+h),!1!==s&&this.refreshVScrollBar())},_suitTitleHeight:function(){this._asynRun(function(){if(null!=this.gridTable&&0!=this.gridTable.rows.length){var t=this.gridTable.rows[1].cells[0].offsetHeight;if(t>0&&t!=this.fzGridTable.rows[1].cells[0].offsetHeight){var e=t;this.fzGridTable.rows[1].cells[0].style.height=e+"px",this.fzGridTable.rows[1].cells[0].offsetHeight<=0&&(this.fzGridTable.rows[1].style.height=e+"px");var i=t-this.fzGridTable.rows[1].cells[0].offsetHeight;0!=i&&(this.fzGridTable.rows[1].cells[0].style.height=e+i+"px"),this.refresh()}}},10)},doMouseMove:function(t){if(this.mouseLeft=t.clientX,this.titleMouseDown&&this.titleDragState){var e=this.mouseLeft-this.curMouseLeft,i=this._getColModel(this.curTitleCell.option.cIndex+1+this._colIndexDeff());if("number"==i.dataType||"money"==i.dataType){var n=this;this.getMaxText([i.name],function(t,i){var s=t[0],o=n.dataSet.getSummary(s),l=0,r=n.getFontSize(s)+"px";null!=o&&""!==o&&(o=n.dataSet.getDisplay(s,o),l=n.getTextWidth(o,r,"bold")+16);var a=n.getTextWidth(i[s])+12;l>a&&(a=l),n._maxTextLen=a,e+n.curTitleCellWidth[0]<a&&(e=a-n.curTitleCellWidth[0]+12),n._setColWidth(n.curTitleCell,e,n.curTitleCellWidth,n.curTableWidth),n._suitTitleHeight(),n.refreshScrollBar()},!0)}else this._setColWidth(this.curTitleCell,e,this.curTitleCellWidth,this.curTableWidth),this._suitTitleHeight(),this.refreshScrollBar()}return!1},setClipboard:function(t){if(navigator.userAgent.indexOf("MSIE")>0==1)return window.clipboardData.setData("text",t),!0;if(navigator.userAgent.indexOf("Firefox")>0==1){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(t){return void this.logError(this.getI18n("qzz.copyMsg","因当前浏览器的剪贴板无法控制，请在IE上使用该功能。"))}var e=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(!e)return void(e=null);var i=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!i)return i=null,void(e=null);i.addDataFlavor("text/unicode");var n=new Object,s=(new Object,t);(n=Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString)).data=s,i.setTransferData("text/unicode",n,2*s.length);var o=Components.interfaces.nsIClipboard;if(!o)return i=null,e=null,void(o=null);e.setData(i,null,o.kGlobalClipboard),i=null,e=null,o=null,n=null,n=null,s=null}},getCopyData:function(){if(this.mulCellSelect){var t=this.dataSet.getCurNode();this.dataSet.beginUpdate(),this.dataSet.select(this.selRect.beginRowNode);for(var e=[],i=(this.option.colModels,0);!this.dataSet.isEof()&&this.dataSet.getIndex()<=this.selRect.endRowNode.getIndex();){for(var n=[],s=this.selRect.beginColIndex-1,o=0;s<=this.selRect.endColIndex-1;s++){var l=this._getColModel(s+1);if(null!=l.name&&1!=l.hidden){var r=this.dataSet.getDisplay(l.name);"string"==typeof r&&(r=r.replace(/&gt;|&lt;/g,function(t){return"&gt;"===t?">":"<"})),n[o++]=""===r?" ":r}}e[i++]=n.join("\t"),this.dataSet.next()}return this.dataSet.select(t),this.dataSet.endUpdate(!1),e.join("\n")}return this.dataSet.getDisplay(this.getFieldName())},getDisplayAsJson:function(t,e,i){"boolean"==typeof t&&(e=t,t=null),null==e&&(e=!1),null==i&&(i=!1);var n=[];if(this.dataSet.getRecordCount()>0){var s=this.dataSet.getCurNode();this.dataSet.beginUpdate(),this.dataSet.first();var o=this.getOption().colModels,l=o.length,r=[];if(this.isArray(t))r=t;else for(var a=0;a<l;a++){var h=o[a];h.hidden||r.push(h.name),h=null}l=r.length;for(var c={};!this.dataSet.isEof();){var u=this.dataSet.getCurNode();if(!1===e){var d={};for(a=0;a<l;a++){var p=this.dataSet.getDisplay(r[a],null,null,null,i);if(0==a&&this.dataSet.isTree&&u.level>0){var g=c[u.level];if(null==g){g="";for(var f=0;f<u.level;f++)g+="  ";c[u.level]=g}p=g+p}d[r[a]]=p,h=null}n.push(d),d=null}else n.push(u.data);this.dataSet.next(!0)}c=null,this.dataSet.select(s),this.dataSet.endUpdate(!1)}return n},getDisplayAsArray:function(t,e){null==e&&(e=!1);var i=[];if(this.dataSet.getRecordCount()>0){var n=this.dataSet.getCurNode();this.dataSet.beginUpdate(),this.dataSet.first();var s=this.getOption().colModels,o=s.length,l=[];if(this.isArray(t))l=t;else for(var r=0;r<o;r++){var a=s[r];a.hidden||l.push(a.name),a=null}o=l.length;for(var h={};!this.dataSet.isEof();){var c=this.dataSet.getCurNode(),u=[],d=0;for(r=0;r<o;r++){var p=this.dataSet.getDisplay(l[r],null,null,null,e);if(0==r&&this.dataSet.isTree&&c.level>0){var g=h[c.level];if(null==g){g="";for(var f=0;f<c.level;f++)g+="  ";h[c.level]=g}p=g+p}u[d++]=p}i.push(u),u=null,this.dataSet.next(!0)}h=null,this.dataSet.select(n),this.dataSet.endUpdate(!1)}return i},getHeader:function(t,e){var i=[],n=this.getOption().colModels,s=this.option.titleSheets,o=this.option.titleSheets.length,l=0;1==e&&this.getOption().rownumbers&&(l=1);for(var r=1;r<o;r++){i[r-1]=[];for(var a=null,h=s[r].length,c=0,u=0,d=0;d<h;d++){var p=n[d];if(p.hidden&&1!=t)c>0&&i[r-1][c-1].colTo==d&&(i[r-1][c-1].colTo=c),u++;else{var g=s[r][d];g.rowIndex==r&&(null!=a&&a.caption===g.caption&&g.isBand&&a.isBand?(a.colspan++,a.colTo++):(i[r-1][c]={isBand:g.isBand,caption:g.caption,text:g.caption.replace(/<[^<>]+>/g,""),colspan:g.colspan,rowspan:g.rowspan,name:p.name,colFrom:d-u+l,colTo:d-u+l,s:"h"},i[r-1][c].colspan=1,a=i[r-1][c],c++))}}}return 1==e&&this.getOption().rownumbers&&i[0].splice(0,0,{text:this.numberCaption,colspan:1,rowspan:o-1,name:"rn",colFrom:0,colTo:0,s:"h"}),i},doFocus:function(t){if(this.base(),!(null!=this.editObject&&this.editObject.focus||this.scrollBar.focus)){var e=null;null!=this.curCell&&(e=this.curCell.parentNode._node),null!=e&&(this.post(),this.dataSet.select(e),this.colIndex=this.curColIndex,this.colIndex==this._colOrder["@INDEX"]&&(this.colIndex=2),(this.colIndex<this.beginIndex||this.colIndex>this.selRect.endColIndex||e.getIndex()<this.selRect.beginRowNode.getIndex()||e.getIndex()>this.selRect.endRowNode.getIndex())&&(this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.colIndex,this.selRect.beginRowNode=e,this.selRect.endRowNode=e)),null==this.curCell&&(this.inputFocus&&null!=this.editObject&&this.post(),this.refresh()),this.cellMouseDown=!1}},doBlur:function(t){return(1!=this.inputFocus||null==this.editObject||"function"!=typeof this.editObject.getPopState||!0!==this.editObject.getPopState())&&(this.popMenu.hasSelect||this.isNotEmpty(this.filterWin)&&this.filterWin.hasSelect?void 0:(this.base(),this.post(),this.popMenu.setBlur(),null!=this.calendar&&this.calendar.setBlur(),this.focus=!1,this.refresh(),!0))},_initFilterListBox:function(t,e,i){if(this.pfilter.isShow())this.pfilter.hide();else{this.pfilter.getFilterName()!==t&&(this.pfilter.setFilterName(t),this.pfilter.clearFilter());var n=this.sortTables[t].getBoundingClientRect(),s=n.left-230;s<0&&(s=0);var o=this.getScrollXY();this.pfilter.getHeight()>this._getBodyHeight()&&this.pfilter.setHeight(this._getBodyHeight()),this.getOption().sort!==this.pfilter.getOption().sort&&this.pfilter.setSort(!1!==this.getOption().sort),this.pfilter.execute(o.top+n.top+12,o.left+s+16,e,i)}},doSortAndFilter:function(t,e){var i=this._getColModel(t).name;if(this.getOption().filter){var n=this;this.inputFocus&&"function"==typeof this.editObject.doBlur&&this.editObject.doBlur();var s=this.dataSet.topFilterItem;null==s||s.fieldName!==i?(this.dataSet.selectFilterList={},this.dataSet.collectFilter(i,function(){n._initFilterListBox(i,n.dataSet.filterList[i],n.dataSet.selectFilterList)})):n._initFilterListBox(i,s.all,s.sel)}else if(!1!==this.getOption().sort){n=this;var o;o="none"==e?"up":"up"==e?"down":"none",this.setSort(i,o)}},locateCell:function(t,e){null==e&&(e=t);for(var i=!1,n=1;n<this.colCount;n++){var s=this.option.colModels[n-1];if(null!=s&&!s.hidden&&s.name==e){this.colIndex=n+this._colIndexDeff(),i=!0;break}}return this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.selRect.beginColIndex,this.refresh(),i},_asynLocate:function(t,e,i,n,s,o,l){this.logInfo("_asynLocate:"+e.recNo);var r=this.option.colModels,a=!0,h=0,c="",u=this.colIndex-this._colIndexDeff();for(u<0&&(u=0),null==this._locateFieldName&&(this._locateFieldName=this.getFieldName());!this.dataSet.isEof()&&a&&h<n&&(null==i||this.dataSet.getIndex()<i.getIndex());){for(var d=r.length,p=u;p<d;p++){var g=r[p].name;if(null==t||null!=t[g]){var f=this.dataSet.getDisplay(g);if(!r[p].hidden&&(o&&f==s||!o&&(f+"").indexOf(s)>=0)){a=!1,c=r[p].name;break}}}a&&(h++,u=0,this.dataSet.next(!0))}!this.dataSet.isEof()&&a&&(null==i||this.dataSet.getIndex()<i.getIndex())?(this.colIndex=1+this._colIndexDeff(),this._asynRun(function(){this._asynLocate(t,e,i,n,s,o,l)},10)):this.dataSet.isEof()&&a&&(null==i||this.dataSet.getIndex()<i.getIndex())?(this.dataSet.first(),this.colIndex=1+this._colIndexDeff(),g=r[0].name,f=this.dataSet.getDisplay(g),!r[0].hidden&&(o&&f==s||!o&&(f+"").indexOf(s)>=0)&&(a=!1,c=r[0].name),a?this._asynRun(function(){this._asynLocate(t,this.dataSet.getCurNode(),e,n,s,o,l)},10):"function"==typeof l&&l(0==a)):(a&&null!=i?this.dataSet.select(i):0==a?(this.locateCell(null,c),this.dataSet.expandToNode(this.dataSet.getCurNode())):this.locateCell(null,this._locateFieldName),this._locateFieldName=null,"function"==typeof l&&l(0==a))},locateDesc:function(t,e,i,n,s){"function"==typeof n&&(s=n,n=!1),i=this.getBooleanValue(i,!1);var o=!1;if(e=this.trim(e+""),"@ALL"==t||this.isArray(t)){var l=this.getOption().colModels,r=l.length;if("@ALL"==t){t=[];for(var a=0;a<r;a++){var h=l[a];1!=h.hidden&&t.push(h.name)}}var c=this.getFieldName(),u="",d=this.dataSet.getCurNode(),p=!1;null!=d&&d.level<0&&(c=l[r-1].name,p=!0);var g=this;this.dataSet.eachExt({startNode:d,desc:!0},function(n){for(var s=r-1;s>=0;s--){var a=l[s];if(1!=a.hidden&&p&&t.indexOf(a.name)>=0&&this._compareLocateText(a.name,i,e)){u=a.name,o=!0;break}a.name==c&&(p=!0)}return!o},function(n){!1===o?(c=g.getFieldName(),p=!0,this.eachExt({endNode:d,desc:!0},function(n){for(var s=r-1;s>=0;s--){var a=l[s];if(1!=a.hidden&&p&&t.indexOf(a.name)>=0&&this._compareLocateText(a.name,i,e)){u=a.name,o=!0;break}a.name==c&&(p=!0)}return!o},function(t){!0===o&&(this.select(t),this.expandToNode(this.getCurNode()),g.refresh(),g.scrollToFocus(),g.locateCell(null,u)),"function"==typeof s&&s.apply(g,[o])})):(this.select(n),this.expandToNode(this.getCurNode()),g.refresh(),g.scrollToFocus(),g.locateCell(null,u),"function"==typeof s&&s.apply(g,[o]))})}else g=this,this.dataSet.locateDesc(t,e,i,n,function(e){var i=this.getCurNode();!0===e&&(g.selRect.beginRowNode=i,g.selRect.endRowNode=i),g.refresh(),g.scrollToFocus(),g.locateCell(null,t),"function"==typeof s&&s.apply(g,[e])})},locate:function(t,e,i,n,s){"function"==typeof n&&(s=n,n=!1),i=this.getBooleanValue(i,!1);var o=!0;if(e=this.trim(e+""),"@ALL"==t||this.isArray(t)){this.beginUpdate();var l=this;i=this.getBooleanValue(i,!1);var r={};if(this.isArray(t))for(var a=0,h=t.length;a<h;a++)r[t[a]]=1;else r=null;this._asynLocate(r,this.dataSet.getCurNode(),null,50,e,i,function(t){l.endUpdate(),t&&(l.refresh(),l.scrollToFocus(),l.refresh(),l.trigger("onRowChanged",[l.dataSet])),"function"==typeof s&&s(t),l=null})}else!0===(o=this.dataSet.locate(t,e,i,n))&&(this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.trigger("onRowChanged",[this.dataSet])),"function"==typeof s&&s(o);return this.refresh(),this.scrollToFocus(),o},deleteAll:function(){this.dataSet.empty(!0),this.dataSet.first(),this.refresh()},isChecked:function(t){return this.dataSet.isChecked(t)},isSelected:function(t){return this.isChecked(t)},getColumnSetupKey:function(){var t,e=this.getOption().columnSetupId;if(!this.isEmpty(e)){var i=this.getName()||"";t=window.location.pathname+"_columnSetup_"+i+"_"+e}return t},saveColumnSetup:function(t){try{var e=this.getColumnSetupKey();this.isNotEmpty(e)&&(this.hasbind("onSaveColumnSetup")?this.trigger("onSaveColumnSetup",[e,t]):localStorage&&localStorage.setItem(e,t))}catch(t){this.logError("call saveColumnSetup error:"+t.message+t.stack)}},findColumnSetup:function(t){var e;try{var i=this.getColumnSetupKey();this.isEmpty(i)||(this.hasbind("onFindColumnSetup")?e=this.trigger("onFindColumnSetup",[i]):localStorage&&(e=localStorage.getItem(i)))}catch(t){this.logError("call findColumnSetup error:"+t.message+t.stack),e=""}return e},getCellExpObject:function(t,e){if(this.dataSet.getRecordCount()>0){var i=this.getFieldName(),n=this.dataSet.getValue(t);return{exp:this.getName()+"$"+i+"~~"+t+"_"+n,caption:this.dataSet.getValue(e)+"_"+this.dataSet.getIndex()+","+this.getTitleName(this.colIndex),value:n}}return null},getTitleName:function(t){for(var e=this.option.titleSheets,i=[],n=this.titleRowCount-1,s=1;s<=n;s++){var o=e[s][this.colIndex-1];o.rowIndex==s&&(i[s-1]=o.caption)}return i.join("_")},addExpress:function(t,e,i,n){this.dataSet.addExpress(t,e,i,n)},addGJExpress:function(t,e){this.dataSet.addGJExpress(t,e)},caculate:function(t){this.dataSet.caculate(t)},caculateGJ:function(t,e){return this.dataSet.caculateGJ(t,e)},caculateSum:function(t){this.dataSet.caculateSum(t)},showCol:function(t){if("string"==typeof t)null!=(n=this.getColModel(t))&&(n.hidden=!1),n=null;else if(this.isArray(t))for(var e=0,i=t.length;e<i;e++){var n;null!=(n=this.getColModel(t[e]))&&(n.hidden=!1)}this.refresh(),this.listDivBox.style.width="",!1!==this.getOption().shrinkToFit&&(this.resetColWidth(),this._tmpWidth=null,this.shrinkToFit()),!0===this.getOption().suitToFit&&this.suitToFit(),this.refreshVScrollBar()},isColHidden:function(t){return this.getColModel(t).hidden},isColShow:function(t){return!this.isColHidden(t)},hideCol:function(t){if("string"==typeof t)null!=(n=this.getColModel(t))&&(n.hidden=!0),n=null;else if(this.isArray(t))for(var e=0,i=t.length;e<i;e++){var n;null!=(n=this.getColModel(t[e]))&&(n.hidden=!0)}this.listDivBox.style.width="",!1!==this.getOption().shrinkToFit&&(this._tmpWidth=null,this.shrinkToFit()),!0===this.getOption().suitToFit&&this.suitToFit(),this.refresh(),this.refreshVScrollBar()},_updateColNames:function(t,e,i){for(var n=this.option.titleSheets[t][e].caption,s=n.match(/(<[^<>]+>)|([^<>]+)/g),o=s.length-1;o>=0;o--)if(s[o].indexOf("<")<0){s[o]=i;break}var l=s.join("");if(this.option.titleSheets[t][e].caption=l,null!=this.option.titleString){o=0;for(var r=this.colNames.length;o<r;o++)if(this.colNames[o]==n){this.colNames[o]=l,this.option.titleString=this.option.titleString.replace(n,l);break}}},setTitleCaption:function(t,e,i,n){this.setHeaderLabel(t,e,i,n)},setHeaderLabel:function(t,e,i,n){var s=this.getColModel(t);if(null!=s){var o=this.titleCol[s.colIndex];if(1==i){if(this.copyDiv.appendChild(o.dom.sortDiv),this._setTdText(o,e,n),this._updateColNames(this.titleRowCount-1,s.colIndex,e),o.insertBefore(o.dom.sortDiv,o.childNodes[0]),this.isNotEmpty(o.mainCell)){var l=o.mainCell;h==i&&(this._setTdText(l,e,n),l.insertBefore(l.dom.sortDiv,l.childNodes[0]))}return}for(var r=o.option.bandRowIndex,a=o.option.bandColIndex,h=2,c=0;this.isNotEmpty(r)&&r>0&&h<=i;){1==r&&(a++,c=this._colIndexDeff());var u=this.gridTable.rows[r].cells[a+c];h==i&&(this._setTdText(u,e,n),1==r?this._updateColNames(r,a-1,e):this._updateColNames(r,a,e)),this.isNotEmpty(o.mainCell)&&(l=this.fzGridTable.rows[r].cells[a+c],h==i&&l.childNodes.length-1>=0&&this._setTdText(l,e,n)),r=u.option.bandRowIndex,a=u.option.bandColIndex,h++}}},setSelection:function(t,e,i,n){var s=!1;t&&(s=this.locate(this.getPKeyName(),t,!0),i&&this.trigger("onSelectRow",[])),s&&e&&this.locateCell(t,e),s&&this.trigger("onSelectEcpRow",[t,e,null])},_asynCheck:function(t,e,i,n,s,o){this.logInfo("_asynCheck:"+t+" "+i.recNo);var l=0;this.dataSet.beginUpdate();var r=this.dataSet.curNode;for(this.dataSet.select(i);!this.dataSet.isEof()&&l<e;){if(!0!==this.dataSet.getCellOption(n).disabled)switch(t){case this.dataSet.checkType.all:this.dataSet.setValue(n,s.editoptions.check);break;case this.dataSet.checkType.unall:this.dataSet.setValue(n,s.editoptions.uncheck);break;case this.dataSet.checkType.rever:this.dataSet.getValue(n)===s.editoptions.uncheck?this.dataSet.setValue(n,s.editoptions.check):this.dataSet.setValue(n,s.editoptions.uncheck);break;default:this.dataSet.setValue(n,s.editoptions.check)}this.dataSet.next(!0),l++}i=this.dataSet.curNode,l=null,this.dataSet.isEof()?(this.dataSet.select(r),this.dataSet.endUpdate(!1),"function"==typeof o&&o.apply(this)):(this.dataSet.select(r),this.dataSet.endUpdate(!1),this._asynRun(function(){this._asynCheck(t,e,i,n,s,o)},10))},checkAll:function(t,e,i){"function"==typeof t&&(i=t,t="",e=!0),"function"==typeof e?(i=e,e=!0):null==e&&(e=!0);var n=this;if("string"==typeof t&&""!==t){var s=this.dataSet.getFieldOption(t);("checkBox"===s.editType||"onoff"===s.editType)&&this.dataSet.getRecordCount()>0&&this._asynCheck(this.dataSet.checkType.all,100,this.getChildNode(0,this.dataSet.rootNode),t,s,function(){n.refresh(),"function"==typeof i&&i.apply(n)})}else this.dataSet.selectAll(function(){n.refresh(),"function"==typeof i&&i.apply(n)}),e&&this.setTitleChecked("@MUL",!0)},selectAll:function(t,e,i){this.checkAll(t,e,i)},cancelCheckRow:function(t,e,i){if("function"==typeof t&&(i=t,t="",e=!0),"function"==typeof e?(i=e,e=!0):null==e&&(e=!0),"string"==typeof t&&""!==t){var n=this.dataSet.getFieldOption(t);("checkBox"===n.editType||"onoff"==n.editType)&&this.dataSet.getRecordCount()>0&&this._asynCheck(this.dataSet.checkType.unall,100,this.getChildNode(0,this.dataSet.rootNode),t,n,i)}else this.dataSet.unCheckAll(i),e&&this.setTitleChecked("@MUL",!1)},cancelSelectRow:function(t,e,i){this.cancelCheckRow(t,e,i)},setTitleChecked:function(t,e,i){"boolean"==typeof t?(e=t,t="@MUL"):""===t&&(t="@MUL"),null!=this._checkBoxs&&null!=this._checkBoxs[t]&&(!0===i?this._checkBoxs[t].setSomeCheck(e):this._checkBoxs[t].setCheck(e))},reverCheckRow:function(t,e){if("string"==typeof t&&""!==t){var i=this.dataSet.getFieldOption(t);("checkBox"===i.editType||"onoff"==i.editType)&&this.dataSet.getRecordCount()>0&&this._asynCheck(this.dataSet.checkType.rever,100,this.getChildNode(0,this.dataSet.rootNode),t,i,e)}else this.dataSet.reverCheckAll(e)},reverSelectRow:function(t,e){this.reverCheckRow(t,e)},multiCheckRows:function(t,e,i){t?this.checkAll(e,i):this.unCheckAll(e,i)},multiSelectRows:function(t,e,i){this.multiCheckRows(t,e,i)},filterGridData:function(t,e,i,n){var s=this;this.dataSet.addFilterText(t,i,function(){s.first(),"function"==typeof n&&n(),s=null})},resizeColWidth:function(t,e){this.getColModel(t).width=e},getDataByRowId:function(t){var e=this.dataSet.curNode;this.dataSet.beginUpdate(),this.locate(this.getPKeyName(),t,!0);var i=this.dataSet.curNode.data;return this.dataSet.select(e),this.dataSet.endUpdate(!1),e=null,i},setRowData:function(t,e,i){},updateEcpRowData:function(t,e,i){this.setRowData.apply(this,arguments)},updateRowData:function(t){this.refresh()},frozenCol:function(t){t&&(this.getColModel(t).frozen=!0,this.refresh())},setColAlign:function(t,e){t&&(this.dataSet.getFieldOption(t).align=e,this.refresh())},getGidByIndex:function(t){return this.dataSet.locate("@INDEX",t,!0),this.dataSet.getCurNode().data[this.getPKeyName()]},reloadGrid:function(t){},saveCell:function(t,e){},setCell:function(t,e,i,n,s,o){},setAmountCell:function(t,e,i,n){},getAmount:function(t){},getAmountCell:function(t,e){},searchGrid:function(){},getTitleHeight:function(){return this.titleHeight},hideTitle:function(){this.hideGridHeader()},hideGridHeader:function(){for(var t=this.titleRowCount-1;t>0;t--)this.gridTable.rows[t].style.display="none",this.fzGridTable.rows[t].style.display="none";this.titleIsHide=!0,this.initGrid(),this.dataSet.first(),this.topNode=this.dataSet.getCurNode(),this.refresh()},showTitle:function(){this.showGridHeader()},showGridHeader:function(){for(var t=this.titleRowCount;t>0;t--)this.gridTable.rows[t].style.display="",this.fzGridTable.rows[t].style.display="";this.titleIsHide=!1,this.initGrid(),this.dataSet.first(),this.topNode=this.dataSet.getCurNode(),this.refresh()},hideGridFooterrow:function(){this.getOption().footerrow=!1,this.refresh()},showGridFooterrow:function(){this.getOption().footerrow=!0,this.refresh()},setAmount:function(t,e,i){var n;n="function"==typeof e?e():e,"rn"==t?this.summaryText=n:this.dataSet.setSummary(t,n),this.refresh()},getPageData:function(){var t=[];if(this.dataSet.getRecordCount()>0){var e=this.dataSet.getCurNode();for(this.dataSet.beginUpdate(),this.dataSet.first();!this.dataSet.isEof();)t.push(this.extend({},this.dataSet.getCurNode().data)),this.dataSet.next(!0);this.dataSet.select(e),this.dataSet.endUpdate(!1)}return t},getRangeData:function(t,e,i,n){if("function"==typeof e?(n=e,e=!1,i=!1):"function"==typeof i&&(n=i,i=!1),null==e&&(e=!1),this.isNotEmpty(t)&&"function"==typeof n){var s,o,l,r=isAll=!1,a=this,h=a.option;"object"==typeof t?!(r=(o=+t.begin)>(l=+t.end))&&(isAll=l+1-o===a.getOption().pageCount):"string"==typeof t?"current"!==t&&h.pager?h.pager&&"all"===t&&(isAll=!0):r=!0:!1===h.pager&&(r=!0),!r&&(a._lockValue=!0),a._icpData=function(t){if(a._lockValue=!1,e){var s=[],o=a.dataSet,l=o.getCurNode();for(var r in a.dataSet._tmpData=t,a.dataSet.transState)a.dataSet.transState[r].transed=!1;for(var h=l.data,c=0,u=t.length;c<u;c++){var d=t[c],p={};if(null!=d)for(var r in l.data=d,d){var g=d[r];if("object"==typeof g){var f={};for(var y in p[r]=f,g){var m=g[y];"string"==typeof(m=o.getDisplay(r+"."+y,m,l,null,i))&&m.indexOf("<")>=0&&(m=m.replace(/<(\/)?[^<>]+>/g,"")),f[y]=m}}else"string"==typeof(g=o.getDisplay(r,g,l,null,i))&&g.indexOf("<")>=0&&(g=g.replace(/<(\/)?[^<>]+>/g,"")),p[r]=g}d=null,s.push(p)}a.dataSet._tmpData=null,l.data=h,o=null,l=null,h=null,n.call({},s)}else n.call({},t);a._icpData=null},r||isAll||!0!==h.pager?r?a._icpData(a.getPageData()):isAll&&(s=a._crPrms(),a._loadSerData(a.getOption().pageCount,s.ps,s.idx)):(s=a._crPrms(o,l),a._loadSerData(a.getOption().pageCount,s.ps,s.idx))}},_loadSerData:function(t,e,i){var n=this,s=this.dataSet.getRecordChanged();if(!0===this.getOption().pager&&0!==s){var o=this.pageObj.getTotalCount();this.pageObj.setTotalCount(o-s,!1)}if("function"==typeof n.onPageChanged)try{n.onPageChanged(t,e,i)}catch(t){n.logError("[onPageChanged] event error!"+t.message+t.stack)}else n.hasbind("onPageChanged")&&n.trigger("onPageChanged",[t,e,i])},_crPrms:function(){var t={ps:0,idx:1};if(0===arguments.length)t.ps=this.pageObj.getTotalCount();else if(2===arguments.length){var e=arguments[0],i=arguments[1]-e+1;for(e+="";e.length<5;)e=0+e;t.ps=this.pageObj.getOption().pageSize,t.idx=-+(i+e)}return t},disable:function(){this.base(),this.setReadOnly(!0)},beginUpdate:function(){this.base(),this.dataSet.beginUpdate()},endUpdate:function(t){this.dataSet.endUpdate(t),this.base()},enable:function(){this.base(),this.setReadOnly(!1)},getDisplayData:function(t,e){"function"==typeof t&&(e=t,t="array");for(var i=[],n=0,s=this.option.colModels.length;n<s;n++)cm=this.option.colModels[n],cm.hidden||i.push(cm.name);this.dataSet.getDisplayData(i,t,e)},getChangeSet:function(t){if(this.post(),!0!==t&&!0===this.getOption().cacheChangeSet){var e=[];for(var i in this._cacheChangeSet){var n=this._cacheChangeSet[i];"function"!=typeof n&&(i===this._cacheKey&&(n=this.dataSet.getChangeSet()),e=e.concat(n))}return e}return this.dataSet.getChangeSet()},getEcpChangeSet:function(t){if(this.post(),!0!==t&&!0===this.getOption().cacheChangeSet){var e={list:[],deleteList:[]};for(var i in this._cacheEcpChangeSet){var n=this._cacheEcpChangeSet[i];"function"!=typeof n&&(i===this._cacheKey&&(n=this.dataSet.getEcpChangeSet()),e.list=e.list.concat(n.list),e.deleteList=e.deleteList.concat(n.deleteList))}return e}return this.dataSet.getEcpChangeSet()},getRecordCount:function(){return this.dataSet.getRecordCount()},mergeChangeLog:function(t){!0===this.getOption().cacheChangeSet&&(this._cacheChangeSet={},this._cacheEcpChangeSet={}),this.dataSet.mergeChangeLog(t)},mergeSomeChangeLog:function(t,e){this.dataSet.mergeSomeChangeLog(t,e)},getHScrollHide:function(){var t=this._getNumberValue(this.listDiv.style.width);return this._getNumberValue(this.gridTable.style.width)<=t},doContainerShow:function(){!1!==this.getOption().shrinkToFit&&this.shrinkToFit(),!0===this.getOption().suitToFit&&this.suitToFit(),this._suitTitleHeight(),null!=this.showHandle&&(clearInterval(this.showHandle),this.showHandle=null)},getEcpType:function(){return this.className},setPageByRowId:function(){},getDisplayFirstColModel:function(){},setEmptyRowData:function(){},setFiltered:function(t,e){var i=this;this.dataSet.setFiltered(t,function(){i.first(),"function"==typeof e&&e()})},getTotalValue:function(t){return!0===this.getOption().totalRever?this.dataSet.getSubtotalValue(t):this.dataSet.getTotalValue(t)},getSubtotalValue:function(t){return!0===this.getOption().totalRever?this.dataSet.getTotalValue(t):this.dataSet.getSubtotalValue(t)},setTotalValue:function(t,e){!0===this.getOption().totalRever?this.dataSet.setSubtotalValue(t,e):this.dataSet.setTotalValue(t,e)},setSubtotalValue:function(t,e){!0===this.getOption().totalRever?this.dataSet.setTotalValue(t,e):this.dataSet.setSubtotalValue(t,e)},eachChecked:function(t,e,i,n){var s=typeof t,o=typeof i;if("function"===s){var l=typeof e;"function"===l?(i=!1,n=e):"boolean"===l&&("function"===o&&(n=i),i=e),e=t,t=this.dataSet.rootNode}else"object"==s&&"function"===o&&(n=i,i=!1);i&&this.dataSet.lastNode(t);var r=this;this.dataSet.eachChecked(t,e,i,function(){!0===r.multiSelect&&0==this.getRecordCount()&&r.setTitleChecked("@MUL",!1),r.refresh(),"function"==typeof n&&n()})},each:function(t,e,i,n){var s=typeof t,o=typeof i;if("function"===s){var l=typeof e;"function"===l?(i=!1,n=e):"boolean"===l&&("function"===o&&(n=i),i=e),e=t,t=this.dataSet.rootNode}else"object"==s&&"function"===o&&(n=i,i=!1);i&&this.dataSet.lastNode(t);var r=this;this.dataSet.each(t,e,i,function(){!0===r.multiSelect&&0==this.getRecordCount()&&r.setTitleChecked("@MUL",!1),r.refresh(),"function"==typeof n&&n.apply(r)})},getIndex:function(){return this.dataSet.getIndex()},colNamesToColDatas:function(t,e){var i=e.length,n=[];if(i>0){"string"==typeof e[0]&&(e=[e],i=1);for(var s=0,o=e.length;s<o;s++){for(var l=e[s],r=0,a=[],h=0,c=l.length;h<c;h++){var u=l[h],d=u;"string"!=typeof d&&(d=d.caption),0!==u.startIndex&&(r=u.startIndex||u.startindex);var p=u.colSpan||u.colspan||1;if(null!=r){a[r]=d;for(var g=r+1;g<r+p;g++)a[g]=d}else a[h]=d}n.push(a)}}var f=[];for(s=0,o=t.length;s<o;s++){for(var y={},m=[],v=[],C=0;C<i;C++){var S=n[C][s]||"";m.push(S),""!==S&&v.push(S)}y.rowNames=m,y.rowName=v.join("◆"),y.colModel=t[s],y.display=!0!==t[s].hidden,y.frozen=!0===t[s].frozen,y.groups=!0===t[s].groups,f.push(y)}return f},colDatasToColNames:function(t){for(var e=[],i=[],n=[],s=[],o=[],l=[],r=0;r<2;r++)for(var a=0,h=t.length;a<h;a++){var c=t[a];0==r?!0===c.frozen&&l.push(c):!0!==c.frozen&&l.push(c)}r=0;for(var u=(t=l).length;r<u;r++){var d=t[r],p=d.colModel;p.hidden=!1===d.display,p.frozen=!0===d.frozen,p.groups=!0===d.groups,e.push(p);for(var g=d.rowNames,f=0,y=g.length;f<y;f++){null==i[f]&&(i[f]=[],s[f]=-1,n[f]="");var m=g[f];f<y-1?(n[f]!==m?(""!==n[f]&&i[f].push({caption:n[f],startIndex:s[f],colSpan:o[f]}),s[f]=r,o[f]=1):""!==n[f]&&o[f]++,n[f]=m):i[f].push(m)}}for(f=0,y=n.length;f<y-1;f++)""!==n[f]&&i[f].push({caption:n[f],startIndex:s[f],colSpan:o[f]});return{colNames:i,colModels:e}},setHeightLight:function(){this.getOption().heightLight=!0,this.refresh(),this.getOption().heightLight=!1},setMultiSelect:function(t){this.multiSelect=!0===t,this.getOption().multiSelect=this.multiSelect,this.refreshTitle()},getFilterMark:function(){return this.dataSet.getFilterMark()},getCurNode:function(){return this.dataSet.getCurNode()},getParentNode:function(t){return this.dataSet.getParentNode(t)},getChildNode:function(t,e){return this.dataSet.getChildNode(t,e)},getCurData:function(t){return this.dataSet.getCurData(t)},setFilterMark:function(t,e){var i=this;this.dataSet.setFilterMark(t,function(){i.first(),"function"==typeof e&&e.apply(i)})},doCssLoaded:function(){this.refresh()},triggerEvent:function(){this.trigger("onPageChanged",[this.pageObj.getPageCount(),this.pageObj.getPageSize(),this.pageObj.getPageIndex()])},getFontSize:function(t){var e=this.getOption().fontSize;if(null!=t&&""!==t){var i=this.getColModel(t);null!=i.fontSize&&""!==i.fontSize&&(e=i.fontSize)}return null==e||""===e?e=this.getOption().defFontSize||14:/px/i.test(e+"")&&(e=parseInt(e.replace("px",""),10)),e},setTotalState:function(t){this.getOption().total=!0===t,this.initTotalRow()},setSubtotalState:function(t){this.getOption().subtotal=!0===t,this.initTotalRow()},setColDesign:function(){null!=t&&null!=t.pertain&&t.pertain.gridcoldesign(this)},fullExpand:function(t){this.dataSet.fullExpand(t),this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.selRect.beginColIndex=1,this.selRect.endColIndex=this.selRect.beginColIndex,this.refresh()},fullCollapse:function(t){var e=this;this.dataSet.fullCollapse(function(){e.first(),e.selRect.beginRowNode=e.dataSet.getCurNode(),e.selRect.endRowNode=e.selRect.beginRowNode,e.selRect.beginColIndex=1,e.selRect.endColIndex=e.selRect.beginColIndex,e.refresh(),"function"==typeof t&&t()})},setAsynInitCount:function(t){this.dataSet.setAsynInitCount(t)},modelData:function(t){this.getOption().modelData=t,this._ngmodel()},_ngmodel:function(){if(null!=this.getOption().modelData){var t=this.getOption()["v-model"]||this.getOption()["ng-model"];if(null!=t&&""!==t){for(var e=t.split("."),i=this.getOption().modelData,n=0,s=!0,o=e.length;n<o-1;n++){if(null==i[l=e[n]]){s=!1;break}i=i[l]}if(s){var l,r=i[l=e[n]];null!=r&&this.isArray(r)?this.value(r):this.value([])}}}}}),_bindRenderFunc("qzzquerygrid",t.ui.querygrid),t.ui.querygrid}),
/*!
 * 远光ECP平台3.4版本
 * ecp.qzz.ui.grid.js
 * 树表格控件： qzz.ui.qzz
 * @requires qzz.ui.Frame
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.querygrid","qzz.idatepicker","qzz.icombobox","qzz.icombotree","qzz.ibuttonedit","qzz.inumber","qzz.iedit","qzz.iupdown"],function(){var t=window.qzz;return t.space("ui"),t.ui.grid=t.Class(t.ui.querygrid,{_create:function(){if(this.base(),this.className="Grid",this.logBegin("Grid.create"),this.editObjects={},this.editObject,this.editType={date:t.ui.input.datepicker,comboBox:t.ui.input.combobox,comboTree:t.ui.input.combotree,buttonEdit:t.ui.input.buttonedit,number:t.ui.input.number,text:t.ui.input.edit,updown:t.ui.input.updown},this.dataType={date:"date",enum:"comboBox",gldx:"buttonEdit",dxfl:"buttonEdit",unitcode:"buttonEdit",string:"text",number:"number",money:"number"},null!=this.getOption().editType)for(var e in this.getOption().editType){var i=this.getOption().editType[e];this.editType[e]=i}},_render:function(){this.base();var e=this;this.popMenu.beginUpdate();var i=1==this.getBrowser("msie");i&&this.popMenu.addMenu("paste",this.getI18n("qzz.paste","粘贴"),function(){var t=window.clipboardData.getData("Text");e.setFocus(),e.doPasteData(t),e.hasCopy=!1,e.refresh()},"Ctrl+V",i),this.getReadOnly()||this.popMenu.addMenu("delete",this.getI18n("qzz.clear","清除"),function(){e.clearMark=e.doClearData(),e.setFocus(),e.refresh()},"Delete",!0),this.popMenu.delMenu("qzzFormat"),this.getOption().colDesign&&null!=t&&null!=t.pertain&&"function"==typeof t.pertain.gridcoldesign&&(this.popMenu._popCount>0&&this.popMenu.addMenu("split2","-"),this.popMenu.addMenu("qzzFormat",this.getI18n("qzz.colset","列设置"),function(){t.pertain.gridcoldesign(e)})),this.popMenu.endUpdate()},_loadEditObject:function(t,e){"function"==typeof t&&(t=null);for(var i=this.getOption().colModels,n=[],s={},o=0,l=i.length;o<l;o++){var r=i[o],a="",h=r.editType;if(null!=h&&""!==h||null==r.dataType||""===r.dataType||(h=this.dataType[r.dataType]),null!=h&&""!==h||(h="text"),"string"==typeof h&&null==this.editType[h]){switch(h){case"date":case"comboBox":case"buttonEdit":case"number":case"text":case"updown":case"radio":case"checkBox":case"onoff":break;default:a=r.editType,r.outerInput=!0}null==s[a]&&(n.push(a),s[a]=1)}else"string"!=typeof h&&(r.outerInput=!0)}if(s=null,n.length>0){var c=this;require(n,function(){for(var t=0,e=n.length;t<e;t++){var i=n[t],s=arguments[t],o=i;null==c.editType[o]&&(c.editType[o]=s),s=null}n=null})}},_createTitle:function(){this.base(),this._loadEditObject()},_mulSelectStyle:function(t,e,i,n,s,o,l,r,a,h,c){if(null==e&&null!=i&&!0!==i.noUse&&0==i.cellIndex&&this.delStyle(i,"borderRightFocus"),r)if(n.recNo===s.recNo)if(l==this.colIndex){var u="gridFocusCell";this.focus||(u="gridNoFocusFocusCell"),t.className!==u&&(this.setStyle(t,u),c&&this.setStyle(e,u)),this.curCell=t,this.curColIndex=this.colIndex}else u="gridSelRow",1==this.focus&&this.selRect.beginRowNode.getIndex()==this.selRect.endRowNode.getIndex()||(u=o%2==1?"gridReadonly":"gridCell"),!0===this.getOption().heightLight&&(u="gridSelRow"),t.className!==u&&this.setStyle(t,u),c&&e.className!==u&&this.setStyle(e,u);else u=o%2==1?"gridReadonly":"gridCell",t.className!==u&&this.setStyle(t,u),c&&e.className!==u&&this.setStyle(e,u);else h?(u="gridEditFocusCell",a&&(u="gridFocusCell"),this.focus||(u="gridNoFocusFocusCell"),t.className!==u&&(this.setStyle(t,u),c&&this.setStyle(e,u)),this.curCell=t,this.curColIndex=this.colIndex):this.mulCellSelect?a?("gridReadOnly"!==t.className&&this.setStyle(t,"gridReadonly"),c&&"gridReadOnly"!==e.className&&this.setStyle(e,"gridReadonly")):("gridCell"!==t.className&&this.setStyle(t,"gridCell"),c&&"gridCell"!==e.className&&this.setStyle(e,"gridCell")):a?(u="gridReadonly",!0===this.getOption().heightLight&&n.recNo===s.recNo&&(u="gridSelRow"),t.className!==u&&this.setStyle(t,u),c&&e.className!==u&&this.setStyle(e,u)):(u="gridCell",!0===this.getOption().heightLight&&n.recNo===s.recNo&&(u="gridSelRow"),t.className!=u&&this.setStyle(t,u),c&&e.className!=u&&this.setStyle(e,u));this.mulCellSelect&&n.scrIndex<=this.selRect.endRowNode.getIndex()&&n.scrIndex>=this.selRect.beginRowNode.getIndex()&&l<=this.selRect.endColIndex&&l>=this.selRect.beginColIndex&&(this.focus||!0===this.getOption().heightLight?(h?"gridCell"!==t.className&&(this.setStyle(t,"gridCell"),c&&this.setStyle(e,"gridCell")):("gridSelRow"!=t.className&&(this.setStyle(t,"gridSelRow"),c&&this.setStyle(e,"gridSelRow")),this.hasCopy&&(this.addStyle(t,"cellCopySate"),c&&this.addStyle(e,"cellCopySate"))),l==this.selRect.beginColIndex&&(this.addStyle(t,"borderLeftFocus"),c&&this.addStyle(e,"borderLeftFocus")),l==this.selRect.endColIndex&&(this.addStyle(t,"borderRightFocus"),c&&this.addStyle(e,"borderRightFocus")),l<=this.selRect.endColIndex&&l>=this.selRect.beginColIndex&&(n.getIndex()==this.selRect.beginRowNode.getIndex()&&(this.addStyle(t,"borderTopFocus"),c&&this.addStyle(e,"borderTopFocus")),n.getIndex()==this.selRect.endRowNode.getIndex()&&("none"===t.style.display&&null!=t.groupCol&&(t=t.groupCol),this.addStyle(t,"borderBottomFocus"),c&&("none"===e.style.display&&null!=e.groupCol&&(e=e.groupCol),this.addStyle(e,"borderBottomFocus"))))):("gridNoFocusSelRow"!==t.className&&(this.setStyle(t,"gridNoFocusSelRow"),c&&this.setStyle(e,"gridNoFocusSelRow")),h&&(t.className="gridNoFocusFocusCell")),h=!1)},_refreshEditObjHeight:function(t){var e=this._getColModel(t);if(null!=this.editObject&&!0===e.groups&&this.editObject.fieldName==e.name){var i=this.editObject.getParentElement();if(null!=i){var n=i.offsetHeight;n>6&&this.editObject.setHeight(n-6)}}},_refreshGroups:function(t,e,i,n,s,o,l){this.base(t,e,i,n,s,o,l),this._refreshEditObjHeight(i)},_refreshTreeCol:function(t,e,i,n,s,o,l,r,a,h){if(n.count>0||this.getOption().virtual&&1!=n.hasExpand&&1!=n.data.isLeaf){if(i?(null==e.treePoint._option&&(e.treePoint._option={}),null==(p=e.treePoint._option)._this&&(p._this=this),p.node=n,e.treePoint.onclick=this._onTreePointClick):(null==t.treePoint._option&&(t.treePoint._option={}),null==(p=t.treePoint._option)._this&&(p._this=this),p.node=n,t.treePoint.onclick=this._onTreePointClick),r&&!a&&this.focus&&!this.mulCellSelect&&"checkBox"!=h.editType&&"radio"!=h.editType&&"onoff"!=h.editType){var c=!0;if(i){this._setHtml(e.rect.text,"",!1),e.onclick=null;var u=e.rect.parentNode.offsetWidth;null!=(d=e.levelTd.level-n.level)&&0!=d&&(u+=16*d),u<=0&&(u=40),c=this.setEditObject(s,o,l,e.rect,u-1)}else this._setHtml(t.rect.text,"",!1),t.onclick=null,u=t.rect.parentNode.offsetWidth,null!=(d=t.levelTd.level-n.level)&&0!=d&&(u+=16*d),u<=0&&(u=40),c=this.setEditObject(s,o,l,t.rect,u-1);!1!==c?this.inputFocus=!0:a=!0}else i?""!==e.rect.style.display&&this._resetCell(e,!0):""!==t.rect.style.display&&this._resetCell(t,!0);n.expanded&&n.count>0?i?this.setStyle(e.treePoint,"component_ui_listview_node_expand"):this.setStyle(t.treePoint,"component_ui_listview_node_expand"):(0==n.count&&(n.expanded=!1),i?this.setStyle(e.treePoint,"component_ui_listview_node_collapse"):this.setStyle(t.treePoint,"component_ui_listview_node_collapse"))}else if(i?this.clearStyle(e.treePoint):this.clearStyle(t.treePoint),r&&!a&&this.focus&&!this.mulCellSelect&&"checkBox"!=h.editType&&"radio"!=h.editType&&"onoff"!=h.editType){var d;if(i?this._setHtml(e.rect.text,"",!1):this._setHtml(t.rect.text,"",!1),c=!0,i)e.onclick=null,u=e.rect.parentNode.offsetWidth,null!=(d=e.levelTd.level-n.level)&&0!=d&&(u+=16*d),u<=0&&(u=40),c=this.setEditObject(s,o,l,e.rect,u-1);else t.onclick=null,u=t.rect.parentNode.offsetWidth,null!=(d=t.levelTd.level-n.level)&&0!=d&&(u+=16*d),u<=0&&(u=40),c=this.setEditObject(s,o,l,t.rect,u-1);!1!==c?this.inputFocus=!0:a=!0}else i?""!==e.rect.style.display&&this._resetCell(e,!0):""!==t.rect.style.display&&this._resetCell(t,!0);var p;if(this.multiSelect?(!0!==t.checkBox.isShow()&&(t.checkBox.show(),t.checkBox.getContainer().parentElement.style.width="14px",i&&(e.checkBox.show(),e.checkBox.getContainer().parentElement.style.width="14px")),i?(n.enable?e.checkBox.setDisable(!1):e.checkBox.setDisable(!0),e.checkBox.setCheck(n.checkState),null==e.checkBox._option&&(e.checkBox._option={}),null==(p=e.checkBox._option)._this&&(p._this=this),p._cNode=n,e.checkBox.bind("onClick",this._onTreeCheckBoxClick,!0)):(n.enable?t.checkBox.setDisable(!1):t.checkBox.setDisable(!0),t.checkBox.setCheck(n.checkState),null==t.checkBox._option&&(t.checkBox._option={}),null==(p=t.checkBox._option)._this&&(p._this=this),p._cNode=n,t.checkBox.bind("onClick",this._onTreeCheckBoxClick,!0))):!0===t.checkBox.isShow()&&(t.checkBox.hide(),t.checkBox.getContainer().parentElement.style.width="2px",i&&(e.checkBox.hide(),e.checkBox.getContainer().parentElement.style.width="2px")),0==this.treeGrid)"none"!=t.levelTd.style.display&&(i?(e.levelTd.style.display="none",e.treeTd.style.display="none",this.multiSelect||(e.checkTd.style.display="none")):(t.levelTd.style.display="none",t.treeTd.style.display="none",this.multiSelect||(t.checkTd.style.display="none")));else{var g=16*n.level+4;this._setNumberValue(t.levelTd,"width",g);var f=this._getNumberValue(t.levelDiv.style.width)-g-this._getNumberValue(t.treeTd.style.width)-this._getNumberValue(t.checkTd.style.width)-4;f<=0&&(f=40),this._setNumberValue(t.rect,"width",f),t.levelTd.level=n.level,i&&(this._setNumberValue(e.levelTd,"width",g),this._setNumberValue(e.rect,"width",f),e.levelTd.level=n.level)}},refreshCell:function(t,e,i,n,s,o,l,r,a,h,c){var u=null!=n&&!0!==n.noUse,d=null;if(u?(null==n._option._this&&(n._option._this=this),this._bindCellEvent(n),d=n.rect.text):(null==i._option._this&&(i._option._this=this),this._bindCellEvent(i),d=i.rect.text),l==this._colOrder["@INDEX"]){var p="@INDEX";if(0==this.getOption().rownumbers)return void("1px"!==i.style.width&&(i.style.width="1px",n.style.width="1px"));"60px"!==i.style.width&&(i.style.width="60px",n.style.width="60px");var g=this.dataSet.getIndex();if(this.setStyle(n,"treeListIndex"),this.getOption().pager&&!isNaN(this.getPageSize())&&(g+=this.getPageSize()*(this.getPageIndex()-1)),this._setHtml(d,g,!1),"function"==typeof this.onCellDraw)try{this.onCellDraw(this.dataSet,p,n)}catch(t){this.logError("call onCellDraw Error:"+t.message+t.stack)}this.trigger("onCellDraw_"+p,[this.dataSet,p,n])}else if(l===this._colOrder["@MUL"]){if(null==i.checkBox)return;if(p="@MUL",u?(this.setStyle(n,"treeListIndex"),this._refreshCheckCell(n,n.checkBox,1==r.enable,r,null,p,r.checkState),n.checkBox.bind("onClick",this._onTreeCheckBoxClick,!0),null!=n.onclick&&(n.onclick=null,n.ondblclick=null)):(this.setStyle(i,"treeListIndex"),this._refreshCheckCell(i,i.checkBox,1==r.enable,r,null,p,r.checkState),i.checkBox.bind("onClick",this._onTreeCheckBoxClick,!0),null!=i.onclick&&(i.onclick=null,i.ondblclick=null)),"function"==typeof this.onCellDraw)try{this.onCellDraw(this.dataSet,p,n)}catch(t){this.logError("call onCellDraw Error:"+t.message+t.stack)}this.trigger("onCellDraw_"+p,[this.dataSet,p,n])}else{var f=r.recNo===a.recNo&&l==this.colIndex;f&&(this.curCell=u?n:i);var y=this._getColModel(l);if(y.hidden)return void("none"!==i.style.display&&(i.style.display="none",u&&(n.style.display="none")));"none"==i.style.display&&!0!==y.groups&&(i.style.display="",u&&(n.style.display="")),p=y.name,!1!==y.ellipsis&&"onoff"!=y.editType&&"checkBox"!==y.editType&&"radio"!=y.editType?(this.addStyle(d,"ellipsis"),d.style.lineHeight=this.rowHeight-4+"px"):d.style.lineHeight="normal";var m=h;m||(m=this.getCellReadOnly(p));var v=this._getCellOption(p,c),C=v.option;!0!==C.hasValidate||null==C.validateMessage||""===C.validateMessage||null==C.displayText||""===C.displayText||C.displayText===v.text||null!=C.value&&""!==C.value||(v.value=C.displayText),C.disabled=this.getBooleanValue(C.disabled,!1),this._mulSelectStyle(i,n,s,r,a,o,l,h,m,f,u);var S,b=this.getColAlign(p),x=v.value,_=v.text,w=C.title;if(null!=C.bgColor?u?n.style.backgroundColor!==C.bgColor&&(n.style.backgroundColor=C.bgColor):i.style.backgroundColor!==C.bgColor&&(i.style.backgroundColor=C.bgColor):null!=y.backgroundColor?u?n.style.backgroundColor!==y.backgroundColor&&(n.style.backgroundColor=y.backgroundColor):i.style.backgroundColor!==y.backgroundColor&&(i.style.backgroundColor=y.backgroundColor):u?""!==n.style.backgroundColor&&(n.style.backgroundColor=""):""!==i.style.backgroundColor&&(i.style.backgroundColor=""),null!=C.color?u?n.style.color!==C.color&&(n.style.color=C.color):i.style.color!==C.color&&(i.style.color=C.color):null!=y.color?u?n.style.color!==y.color&&(n.style.color=y.color):i.style.color!==y.color&&(i.style.color=y.color):u?""!==n.style.color&&(n.style.color=""):""!==i.style.color&&(i.style.color=""),null!=w&&""!==w?u?(n.setAttribute("title",w),this.addStyle(n,"redInfo")):(i.setAttribute("title",w),this.addStyle(i,"redInfo")):u?n.setAttribute("title",""):i.setAttribute("title",""),null!=C.GJTitle&&""!==C.GJTitle&&(u?(""===(S=n.getAttribute("title"))||null==S?n.setAttribute("title",C.GJTitle):n.setAttribute("title",S+"\n"+C.GJTitle),this.addStyle(n,"redInfo")):(""===(S=i.getAttribute("title"))||null==S?i.setAttribute("title",C.GJTitle):i.setAttribute("title",S+"\n"+C.GJTitle),this.addStyle(i,"redInfo"))),(null==this.getOption().treeKey&&1==l||this.getOption().treeKey==p)&&0!=this.option.treeGrid)this._refreshTreeCol(i,n,u,r,p,_,x,f,m,y);else if("checkBox"!=y.editType&&"onoff"!=y.editType||!this.isNotEmpty(i.checkBox))if("radio"==y.editType&&this.isNotEmpty(i.radio))u?(this._refreshCheckCell(n,n.radio,1!=C.disabled&&!0!==y.disabled,r,y,p,y.editoptions.check==x),!0!==n.radio.hasbind("onClick")&&n.radio.bind("onClick",this._onCommonRadioClick,!0),n.style.textAlign!==b&&(n.style.textAlign=b)):(this._refreshCheckCell(i,i.radio,1!=C.disabled&&!0!==y.disabled,r,y,p,y.editoptions.check==x),!0!==i.radio.hasbind("onClick")&&i.radio.bind("onClick",this._onCommonRadioClick,!0),i.style.textAlign!==b&&(i.style.textAlign=b)),f&&(this.inputFocus=!1);else if(f&&!m&&this.focus&&!this.mulCellSelect&&"checkBox"!=y.editType&&"radio"!=y.editType&&"onoff"!=y.editType){var T;this._setHtml(d,"",!1),u?(n.onclick=null,T=this.setEditObject(p,_,x,n.rect)):(i.onclick=null,T=this.setEditObject(p,_,x,i.rect)),!1!==T?this.inputFocus=!0:m=!0}else u?""!==n.rect.style.display&&this._resetCell(n):""!==i.rect.style.display&&this._resetCell(i),f&&(this.inputFocus=!1);else{if(u){if(this._refreshCheckCell(n,n.checkBox,1!=C.disabled&&!0!==y.disabled,r,y,p,y.editoptions.check==x),!0!==n.checkBox.hasbind("onClick")&&n.checkBox.bind("onClick",this._onCommonCheckBoxClick,!0),n.style.textAlign!==b&&(n.style.textAlign=b),"onoff"==y.editType){var N=n.checkBox.onoff.getControl();"center"==b?(N.style.marginLeft="",N.style.margin="auto"):"right"==b?(N.style.margin="",N.style.marginLeft="auto"):(N.style.margin="",N.style.marginLeft=""),n.checkBox.onoff.bind("onclick",n.checkBox,function(t,e){t.click()},!0)}}else this._refreshCheckCell(i,i.checkBox,1!=C.disabled&&!0!==y.disabled,r,y,p,y.editoptions.check==x),!0!==i.checkBox.hasbind("onClick")&&i.checkBox.bind("onClick",this._onCommonCheckBoxClick,!0),i.style.textAlign!==b&&(i.style.textAlign=b),"onoff"==y.editType&&(N=i.checkBox.onoff.getControl(),"center"==b?(N.style.marginLeft="",N.style.margin="auto"):"right"==b?(N.style.margin="",N.style.marginLeft="auto"):(N.style.margin="",N.style.marginLeft=""),i.checkBox.onoff.bind("onclick",i.checkBox,function(t,e){t.click()},!0));f&&(this.inputFocus=!1)}if(u?this.refreshValidate(y,r,x,_,n):this.refreshValidate(y,r,x,_,i),"function"==typeof this.onCellDraw)try{u?this.onCellDraw(this.dataSet,p,n):this.onCellDraw(this.dataSet,p,i)}catch(t){this.logError("call onCellDraw Error:"+t.message+t.stack)}if(u?this.trigger("onCellDraw_"+p,[this.dataSet,p,n]):this.trigger("onCellDraw_"+p,[this.dataSet,p,i]),null!=y.alwaysText&&null!=x&&""!==x&&(_=y.alwaysText),this.hasbind("onFormat_"+p)&&(_=this.trigger("onFormat_"+p,[this.dataSet,p,_,x])),this.hasbind("onGetText_"+p)&&(_=this.trigger("onGetText_"+p,[this.dataSet,p,_,x])),1==y.showHint){var O=_;if("string"==typeof O&&(-1!=O.indexOf("<")&&(O=O.replace(/<(\/)?([a-zA-Z]+)( [^<>]+)?>/gi,"")),O=this._textToTag(O.trim())),null!=O&&""!==O){var L=O;if(u){var k=n.title;null!=k&&""!==k&&(L=L+"\n"+k),n.setAttribute("title",L)}else{var D=i.title;null!=D&&""!==D&&(L=L+"\n"+D),i.setAttribute("title",L)}}}if((!f||m||!this.focus||this.mulCellSelect)&&"checkBox"!=y.editType&&"radio"!=y.editType&&"onoff"!=y.editType)if("string"==typeof _&&(_=_.replace(/\n/,"<br>")),this.isNotEmpty(C.link)&&(_="<a href='"+C.link+"'>"+_+"</a>"),u?n.style.textAlign!==b&&(n.style.textAlign=b):i.style.textAlign!==b&&(i.style.textAlign=b),!0===y.link&&!0===m){if(null==d.al){d.al=this.createElement("span");var I=this;d.al.onmouseup=function(){var t=I.dataSet.getCurNode();I.dataSet.beginUpdate(),I.dataSet.select(this._node),this._node.option[p].linkClick=!0,!1!==I.trigger("onLinkClick",[I,this._fieldName,this._node])&&I.dataSet.select(t),I.dataSet.endUpdate(!1)}}!0===r.option[p].linkClick?this.setStyle(d.al,"link_visited"):this.setStyle(d.al,"link"),d.al.style.display="",d.al._node=r,d.al._fieldName=p,d.al.id=this.dataSet.getIndex(),this._setHtml(d,""),d.appendChild(d.al),this._setHtml(d.al,_)}else d.innerHTML!==_&&this._setHtml(d,_,!1)}!0===this.getOption().levelBorderOnly&&(-1==i.className.indexOf("gridEditFocusCell")&&-1==i.className.indexOf("gridNoFocusFocusCell")?(i.style.borderRightWidth="0px",null!=n&&(n.style.borderRightWidth="0px")):(i.style.borderRightWidth="",null!=n&&(n.style.borderRightWidth="")))},canEditing:function(t,e){var i=null;if("function"==typeof this.onCanEditing)try{i=this.onCanEditing(this,t,e)}catch(t){this.logError("[onCanEditing]ERR:"+t.message)}return this.hasbind("onCanEditing")&&(i=this.trigger("onCanEditing",[this,t,e])),this.isEmpty(i)&&(i=e),i},doButtonEdit:function(t,e,i){if(this.focus=!1,this.getColModel(t),"function"==typeof this.onButtonEdit)try{this.onButtonEdit(this.editObject,t,e)}catch(t){this.logError("onButtonEdit error "+t.message)}this.hasbind("onButtonEdit")&&this.trigger("onButtonEdit",[this.editObject,t,e])},decodeTransName:function(t,e,i){if((null!=this.dataSet.getTransIDName(t.name)||"number"!=t.dataType)&&i!==e){var n={};if(!0===t.multiSelect||!0===t.multiple){var s=[];"string"==typeof e?s=e.split(","):this.isArray(e)&&(s=e);var o=[];"string"==typeof i?o=i.split(","):this.isArray(i)&&(o=i);for(var l=0,r=s.length;l<r;l++)n[s[l]]=o[l]}else n[e]=i;this.dataSet.addTransIDName(t.name,n),n=null}},post:function(){if(this.inputFocus&&null!=this.editObject&&(!0===this.editObject._isChanged||null!=this.editObject.isChanged&&this.editObject.isChanged())){if(this.dataPost){if("function"==typeof this.editObject.setBlur){var t=this.mouseEdit;this.editObject.setBlur(),this.mouseEdit=t}if(null==this.editObject)return;this.editObject.focus=!1}var e,i,n=this.editObject.fieldName,s=this.getColModel(n);"function"==typeof this.editObject.getValue&&"string"==typeof(e=this.editObject.getValue())&&!0===s.escape&&(e=this._tagToText(e)),"function"==typeof this.editObject.getText&&"string"==typeof(i=this.editObject.getText())&&!0===s.escape&&(i=this._tagToText(i));var o=this.dataSet.getValue(n),l=this.dataSet.getCellOption(n);!0!==s.validateSumit&&null!=l.validateMessage&&(o=l.displayText);var r="";!1!==s.useTextField&&null!=s.textField&&""!==s.textField&&(r=this.dataSet.getValue(s.textField)),null!=s.transKey&&""!==s.transKey&&(r=this.dataSet.getValue(s.transKey));var a=this.dataSet.getCurNode();if(this.hasbind("onSetText_"+n)){var h=this.trigger("onSetText_"+n,[n,a,i]);null!=h&&(e=h)}this.dataPost=!0;var c=!0;if(o==e&&(null!=o&&""!==o||0!==e&&"0"!==e)&&(0!==o&&"0"!==o||null!=e&&""!==e))null!=this.editObject&&("function"==typeof this.editObject.mergeChangeLog&&this.editObject.mergeChangeLog(),this.editObject._isChanged=!1);else{if(this.isArray(e)&&(e=e.join(",")),"function"==typeof this.onEditing)try{0!=this.onEditing(s,o,e,l,a)?(!0===this.dataSet.setValue(n,e)?(!0===s.groups&&this._updateGroupValues(n,o,e),this.decodeTransName(s,e,i)):c=!1,null!=this.editObject&&"string"==typeof this.editObject.warnInfo&&(this.dataSet.getCellOption(n).title=this.editObject.warnInfo)):this.dataPost=!1}catch(t){this.logError("[onEditing]Error:"+t.message)}else this.hasbind("onEditing")?0!=this.trigger("onEditing",[s,o,e,l,a])?(!0===this.dataSet.setValue(n,e)?(!0===s.groups&&this._updateGroupValues(n,o,e),this.decodeTransName(s,e,i)):c=!1,null!=this.editObject&&"string"==typeof this.editObject.warnInfo&&(this.dataSet.getCellOption(n).title=this.editObject.warnInfo)):this.dataPost=!1:(!0===this.dataSet.setValue(n,e)?(!0===s.groups&&this._updateGroupValues(n,o,e),this.decodeTransName(s,e,i)):c=!1,null!=this.editObject&&"string"==typeof this.editObject.warnInfo&&(this.dataSet.getCellOption(n).title=this.editObject.warnInfo));if(this.dataPost&&(null!=this.editObject&&("function"==typeof this.editObject.mergeChangeLog&&this.editObject.mergeChangeLog(),this.editObject._isChanged=!1),c)){if(!1!==s.useTextField&&null!=s.textField&&""!==s.textField&&(this.setValue(s.textField,i),!0===s.groups&&null!=r&&""!==r&&this._updateGroupValues(s.textField,r,i)),null!=s.transKey&&""!==s.transKey&&(this.setValue(s.transKey,i),!0===s.groups&&null!=r&&""!==r&&this._updateGroupValues(s.transKey,r,i)),"function"==typeof this.onAfterEdit)try{this.onAfterEdit(this.dataSet.getDataType(n),n,e,i,s,a,o)}catch(t){this.logError("[onAfterEdit]Error:"+t.message)}this.trigger("onAfterEdit",[this.dataSet.getDataType(n),n,e,i,s,a,o]),this.trigger("afterEditCell",[this.getPKeyName(),n,e]),this.trigger("onChanged",[this])}}null!=this.editObject&&this.dataPost?("function"==typeof this.editObject.setBlur&&this.editObject.setBlur(),this.editObject.focus=!1,"function"==typeof this.editObject.mergeChangeLog&&this.editObject.mergeChangeLog(),this.editObject._isChanged=!1):(this.focus=!0,null!=this.editObject&&("function"==typeof this.editObject.mergeChangeLog&&this.editObject.mergeChangeLog(),this.editObject._isChanged=!1)),l=null,s=null}},setEditObject:function(t,e,i,n,s,o){if(this.focus){var l=this.getColModel(t);l=this.extend({},l);var r=this.editObjects[t],a=this.dataSet.getDataType(t);l.hint=!0===l.hint||("string"==a||"number"==a)&&!1!==l.hint;var h=this.dataType[a];this.isNotEmpty(l.editType)&&(h=l.editType),null!=this._editTypes[t]&&(h=this._editTypes[t]);var c="",u=!1;this.dataPost=!0;var d=null;if("function"==typeof this.onBeforeEdit)try{d=this.onBeforeEdit(a,t,i,e,l,this.dataSet.getCurNode())}catch(t){this.logError("[onBeforeEdit]Error:"+t.message)}this.hasbind("onBeforeEdit")&&(d=this.trigger("onBeforeEdit",[a,t,i,e,l,this.dataSet.getCurNode()]));var p=!1;if(this.isNotEmpty(d)){for(var g in d)l[g]=d[g];if(this.isNotEmpty(d.editType)&&(h=d.editType,c=this.editType[h],u=h!=this._editTypes[t],null==c&&this._loadEditObject(h),p=!0),this.isNotEmpty(d.value)&&(i=d.value),this.isNotEmpty(d.text)&&(e=d.text),!this.getBooleanValue(d.returnValue,!0))return!1}var f=!1,y=!0;if(this.isEmpty(c)&&("string"==typeof h&&!0!==l.outerInput?c=this.editType[h]:(c=h,"string"==typeof h&&(c=this.editType[h]),!1!==p&&(null!=r&&r.isComponent&&r.destroy,r=null),!0===l.outerInput&&(f=!0)),this._editTypes[t]=h,u=f,!0===this._resizeState&&null!=r&&null!=r.getPopState&&!0===r.getPopState()&&(u=!1,y=!1)),this.isEmpty(r)||u||null!=d&&null!=d.data){if(this.isEmpty(r)||u){null!=r&&!0===r.focus&&(r.focus=!1),l.cssPrefix=this._cssPrefix;var m=this.getCurrentStyle(n),v=this.getNumberValue(m.fontSize,12);if(null!=l.fontSize&&""!==l.fontSize||null==v||(l.fontSize=v),!0===this.getOption().post){var C=this;l.onChanged=function(){C.post(),C.refresh()}}!0===f&&(null==l.idField&&(l.idField=l.idkey),null==l.textField&&(l.textField=l.capkey));var S=null;if(null!=c&&"function"==typeof c.createInstance){var b=n.parentNode;this._setHtml(b,"");var x=this.createElement("div");b.appendChild(x),b.appendChild(n),S=b,r=c.createInstance(x,l),this.hasSelect=!0,this._createEditObject=!0,y=!1}else{if(null==c)return;var _=null;!0===f&&(b=n.parentNode,this._setHtml(b,""),_=this.createElement("div"),b.appendChild(_),b.appendChild(n),_=_,S=b,this.hasSelect=!0,this._createEditObject=!0,y=!1),r=new c(_,l)}r._twoRefresh=!1,this._editTypes[t]=h,null==r.getParentElement&&(r.getParentElement=function(){return S})}this.editObjects[t]=r}if("number"==h){r.setSize(l.length);var w=l.precision||l.dataScale||l.scale;r.setDataScale(w),this.isNotEmpty(l.numUnit)&&r.setNumUnit(l.numUnit),null!=l.minValue&&""!==l.minValue&&r.setMinValue(l.minValue),null!=l.maxValue&&""!==l.maxValue&&r.setMaxValue(l.maxValue)}else if("date"==h)this.isNotEmpty(l)&&("M"==l.showType&&r.setCycType("month"),null!=l.cyctype&&r.setCycType(l.cyctype)),(C=this)._justHide=!1,r.onDrop=function(t){C.focus=!1,r.mouseEdit=C.mouseEdit},r.onHide=function(t){C.focus=!0,C.mouseEdit=r.mouseEdit};else if("buttonEdit"==h){r.getOption().dataType=a,C=this,r.onButtonClick=function(){C.focus&&C.doButtonEdit(t,a,r.getValue())};var T=C.dataSet.getTransIDName(t);this.isNotEmpty(d)&&this.isNotEmpty(d.data)&&(T=d.data),null!=l.bottonStyle&&r.setBottonStyle(l.bottonStyle),this.isNotEmpty(T)&&r.setTransIDName(T),T=null}else if("comboBox"==h||"comboTree"==h){if(T=this.dataSet.getTransIDName(t),this.isNotEmpty(d)&&this.isNotEmpty(d.data)&&(T=d.data),null!=d&&null!=d.data||null==l.data||(T=l.data),"comboBox"==h&&null!=T){var N=[];if(this.isArray(T))N=T;else{var O=0;for(var g in T){var L=T[g];"object"==typeof L&&(L=L.name),this.isNotEmpty(g)&&(N[O++]={id:g,text:L||""})}}r.setItemList(N)}null!=l.multiSelect&&null!=r.setMultiSelect&&r.setMultiSelect(!0===l.multiSelect),r.keySelect=!1,null!=l&&(null!=l.search&&""!==l.search&&r.setSearch(l.search),null!=l.more&&""!==l.more&&r.setMore(l.more)),C=this,r.onDrop=function(t){C.focus=!1,r.mouseEdit=C.mouseEdit},r.onHide=function(t,e){C.focus=!0,C.mouseEdit=r.mouseEdit},r.onSelect=function(e,i){C.hasbind("onComboBoxSelect")&&C.trigger("onComboBoxSelect",[r,t,e,i])},r.bind("onMoreClick",function(){C.hasbind("onMoreClick")&&C.trigger("onMoreClick",[r,this.fieldName]),this.popListView.hide()},!0),r.bind("onFilter",function(t,e){var i=null;return C.hasbind("onComboBoxFilter")&&(i=C.trigger("onComboBoxFilter",[r,this.fieldName,t,e])),!0===i},!0)}else"text"==h?null!=l.length&&l.length>0&&"function"==typeof r.setSize&&r.setSize(l.length):"updown"==h&&(r.option.wheel=!1,null!=l.minValue&&""!==l.minValue&&r.setMinValue(l.minValue),null!=l.maxValue&&""!==l.maxValue&&r.setMaxValue(l.maxValue));r.dg=this,r.metaItem=l;var k=this.getBooleanValue(l.multiSelect,!1);if((k=this.getBooleanValue(l.multiple,k))&&"function"==typeof r.setMultiSelect&&r.setMultiSelect(k),"function"==typeof r.setBorder&&r.setBorder(0),"function"==typeof r.setDisInput&&(!0===l.disInput&&(r.setDisInput(!0),r._readOnly=!0),this.isNotEmpty(d)&&(!0===d.readOnly?(r.setDisInput(!0),r._readOnly=!0):(r.setDisInput(!1),r._readOnly=!1))),"function"==typeof r.setReadOnly&&this.isNotEmpty(d)&&(!0===d.readOnly?(r.setReadOnly(!0),r._readOnly=!0):!1===d.readOnly&&(r.setReadOnly(!1),r._readOnly=!1)),"function"==typeof r.setCanClear&&(!0===this.getOption().canClear&&!1!==l.canClear?r.setCanClear(!0):r.setCanClear(!1),!0!==this.getOption().post&&(C=this,r.onClearValue=function(){C.post()})),this.editObject=r,r.fieldName=t,r.notnull=this.getBooleanValue(l.notnull,!1),"function"==typeof r.beginUpdate&&r.beginUpdate(),!0===l.hint&&"function"==typeof r.setHintData)if(this.hasbind("onHintShow_"+t)){var D=this.trigger("onHintShow_"+t,[t]);r.setHintData(D)}else this.hasbind("onHintShow")?(D=this.trigger("onHintShow",[t]),r.setHintData(D)):this.dataSet.collectFilter(t,function(){var e=this.filterList[t],i=[];for(var n in e){var s=n;"number"==a&&(s=parseFloat(s,10)),i.push({id:s,text:e[n]})}r.setHintData(i),i=null,e=null});if("function"==typeof r.setValue){!1!==l.useTextField&&"string"==typeof l.textField&&""!==l.textField&&(e=this.dataSet.getValue(l.textField)),"string"==typeof l.transKey&&""!==l.transKey&&(e=this.dataSet.getValue(l.transKey)),!0===f&&(e=this._textToTag(e));var I={},B="id",Y="text";null!=l.idkey&&(B=l.idkey),null!=l.capkey&&(Y=l.capkey),I[B]=i,I[Y]=e,r.setValue(I)}if(isNaN(s)){var R=this._getNumberValue(n.style.width);!0===f&&(R-=2),R>0&&"function"==typeof r.setWidth&&r.setWidth(R+5)}else!0===f&&(R-=2),"function"==typeof r.setWidth&&r.setWidth(s-1);if(isNaN(o)){var M=this._getNumberValue(n.style.height);(M-=3)>0&&"function"==typeof r.setHeight&&r.setHeight(M)}else!0===f&&(M-=3),"function"==typeof r.setHeight&&r.setHeight(o);return n.style.display="none",y&&"function"==typeof r.setParent&&(b=n.parentNode,this._setHtml(b,""),r.setParent(b),b.appendChild(n)),r.onEditClick=function(t){this.dg.mouseEdit=!0},"function"==typeof r.setSelectState&&r.setSelectState(!1),null!=d&&!0===d.isChanged||("function"==typeof r.mergeChangeLog?r.mergeChangeLog():this.editObject._isChanged=!0),"function"==typeof r.setComAlign&&r.setComAlign("right"),"function"==typeof r.endUpdate&&r.endUpdate(),!0!==this._hasScroll&&("function"==typeof r.setFocus&&r.setFocus(),r.focus=!0),this.trigger("onAfterEditRender",[l,this.dataSet.getCurNode(),r]),l=null,r}},_moveRight:function(t,e){this.scrollToFocus();for(var i=0,n=this.colIndex-this._colIndexDeff(),s=this.getOption().colModels,o=s.length;n<o&&s[n].hidden;)i++,n++;s=null;var l=this.colCount-1;if(this.colIndex+i<l||t.shiftKey)t.shiftKey&&e==this.keyBoard.RIGHT?(this.colIndex>this.selRect.beginColIndex?this.selRect.beginColIndex+=i+1:this.selRect.endColIndex<l&&(this.selRect.endColIndex+=i+1),this.refresh(null,!0)):(this.post(),this.dataPost?(this.colIndex+=i+1,this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.colIndex,this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.refresh(null,!0),this.showFocusCell(this.curCell)):this.inputFocus&&!0!==this._hasScroll&&("function"==typeof this.editObject.setFocus&&this.editObject.setFocus(),this.editObject.focus=!0,this.mouseEdit=!1));else if(this.colIndex+i==l)if(this.post(),this.dataPost){this.dataSet.getRecNo(),this.next();var r=this.dataSet.isEof();this.refresh(),r||(this.listDiv.scrollLeft=0,this.colIndex=1+this._colIndexDeff(),this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.colIndex,this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.refresh())}else this.inputFocus&&!0!==this._hasScroll&&("function"==typeof this.editObject.setFocus&&this.editObject.setFocus(),this.editObject.focus=!0);return!1},_moveLeft:function(t,e){this.scrollToFocus();for(var i=0,n=this.colIndex-i-2-this._colIndexDeff(),s=this.getOption().colModels;n>=0&&s[n].hidden;)i++,n=this.colIndex-i-2-this._colIndexDeff();if(s=null,this.colIndex>1+i+this._colIndexDeff()||t.shiftKey&&e==this.keyBoard.LEFT)t.shiftKey&&e==this.keyBoard.LEFT?(this.colIndex<this.selRect.endColIndex?this.selRect.endColIndex-=i+1:this.selRect.beginColIndex>1&&(this.selRect.beginColIndex-=i+1),this.refresh(null,!0)):(this.post(),this.dataPost?(this.colIndex-=i+1,this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.colIndex,this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.refresh(null,!0),this.showFocusCell(this.curCell)):this.inputFocus&&!0!==this._hasScroll&&("function"==typeof this.editObject.setFocus&&this.editObject.setFocus(),this.editObject.focus=!0));else if(this.colIndex+i==1+this._colIndexDeff())if(this.post(),this.dataPost){var o=this.dataSet.getRecNo();this.dataSet.prior();var l=this.dataSet.isBof();this.topNode.recNo==o?this.scrollBar.scrollPrior():this.refresh(),l||(this.listDiv.scrollLeft=this.listDiv.scrollWidth,this.colIndex=this.colCount-1,this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.colIndex,this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.refresh(null,!0))}else this.inputFocus&&!0!==this._hasScroll&&("function"==typeof this.editObject.setFocus&&this.editObject.setFocus(),this.editObject.focus=!0);return!1},doKeyDown:function(t,e){if(this.dataSet.getRecordCount()<=0)return!1;if(!0===this.inputFocus&&null!=this.editObject&&!0===this.editObject.getPopState())return!0;if(this.keyBoard.HOME==e)return!!this.mouseEdit||(this.first(),this.refresh(),!0);if(this.keyBoard.END==e)return!!this.mouseEdit||(this.last(),this.refresh(),this.scrollBar.scrollNext(),!0);if(this.keyBoard.ESC==e)null!=this.editObject&&(this.dataPost?"function"==typeof this.editObject.refresh&&this.editObject.refresh():"function"==typeof this.editObject.setValue&&(this.editObject.setValue(this.dataSet.getDisplay(this.getFieldName())),this.dataPost=!0));else{if(t.shiftKey&&this.keyBoard.TAB==e)return this._moveLeft(t,e),!0;if(t.ctrlKey||this.priorKey===this.keyBoard.CTRL)return this.doPaste=!1,e==this.keyBoard.C?(this.hasCopy=!0,!0):e==this.keyBoard.V?(this.mulCellSelect||!this.inputFocus?this.copyInput.focus():this.inputFocus&&this.editObject._readOnly&&this.copyInput.focus(),this.pasteKeyPress=!0,this.doPaste=!0,!0):(e==this.keyBoard.A&&(this.colIndex=1,this.selRect.beginColIndex=1,this.selRect.endColIndex=this.colCount-1,this.dataSet.beginUpdate(),this.dataSet.last(),this.selRect.endRowNode=this.dataSet.getCurNode(),this.dataSet.first(),this.selRect.beginRowNode=this.dataSet.getCurNode(),this.dataSet.endUpdate(!1),this.focus||this.setFocus(),this.refresh()),this.priorKey===this.keyBoard.CTRL);if(e==this.keyBoard.DOWN){if(this.mouseEdit)return!0;if(this.dataSet.getLevel()<0)return this.first(),this.mouseEdit=!1,!1;if(t.shiftKey){var i=this.dataSet.getIndex(),n=this.dataSet.getCurNode();this.dataSet.beginUpdate(),this.dataSet.next(),i>this.selRect.beginRowNode.getIndex()?(this.dataSet.select(this.selRect.beginRowNode),this.dataSet.next(),this.selRect.beginRowNode=this.dataSet.getCurNode()):(this.dataSet.select(this.selRect.endRowNode),this.dataSet.next(),this.selRect.endRowNode=this.dataSet.getCurNode()),this.dataSet.select(n),this.dataSet.endUpdate(!1),n=null,this.refresh(null,!0)}else this.post(),this.dataPost?(this.dataSet.beginUpdate(),n=this.dataSet.getCurNode(),this.dataSet.next(),this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.colIndex,this.dataSet.select(n),this.dataSet.endUpdate(!1),n=null,this.next()):this.inputFocus&&!0!==this._hasScroll&&("function"==typeof this.editObject.setFocus&&this.editObject.setFocus(),this.editObject.focus=!0);return this.mouseEdit=!1,!1}if(e==this.keyBoard.UP)return!!this.mouseEdit||!(this.dataSet.getLevel()<0)&&(t.shiftKey?(this.dataSet.beginUpdate(),i=this.dataSet.getIndex(),n=this.dataSet.getCurNode(),i<this.selRect.endRowNode.getIndex()?(this.dataSet.select(this.selRect.endRowNode),this.dataSet.prior(),this.selRect.endRowNode=this.dataSet.getCurNode()):(this.dataSet.select(this.selRect.beginRowNode),this.dataSet.prior(),this.selRect.beginRowNode=this.dataSet.getCurNode()),this.dataSet.select(n),this.dataSet.endUpdate(!1),this.refresh()):(this.post(),this.dataPost?(this.dataSet.beginUpdate(),n=this.dataSet.getCurNode(),this.dataSet.prior(),this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.colIndex,this.dataSet.select(n),n=null,this.dataSet.endUpdate(!1),this.prior()):this.inputFocus&&!0!==this._hasScroll&&("function"==typeof this.editObject.setFocus&&this.editObject.setFocus(),this.editObject.focus=!0)),this.mouseEdit=!1,!1);if(e==this.keyBoard.RIGHT||e==this.keyBoard.TAB)return!(!this.mouseEdit||e!=this.keyBoard.RIGHT)||!(this.dataSet.getLevel()<0)&&(e==this.keyBoard.TAB&&(this.mouseEdit=!1),this._moveRight(t,e),!1);if(e==this.keyBoard.LEFT)return!!this.mouseEdit||!(this.dataSet.getLevel()<0)&&(this._moveLeft(t,e),!1);e==this.keyBoard.F2?null!=this.editObject&&"ComboBox"!==this.editObject.className&&"BottonEdit"!==this.editObject.className&&(this.mouseEdit=!this.mouseEdit):t.shiftKey&&(this.shiftKeyDown=!0)}},doKeyUp:function(t,e){if(this.overKey)return this.overKey=!1,!1;if(!0===this.inputFocus&&null!=this.editObject&&!0===this.editObject.getPopState())return!0;var i;if(t.ctrlKey||this.hasCopy||this.doPaste)if(e==this.keyBoard.V&&!1!==this.getOption().canPaste)this.mulCellSelect||!this.inputFocus||this.inputFocus&&this.editObject._readOnly?(i=this.copyInput.value||this.copyInput.tmpValue,this.copyInput.tmpValue=void 0):(null!=this.editObject&&"function"==typeof this.editObject.getInputValue&&(i=this.editObject.getInputValue()||this.editObject.tmpValue,"function"==typeof this.editObject.refresh&&this.editObject.refresh(),this.editObject.tmpValue=void 0),this.post()),this.isEmpty(i)&&(i=""),this.doPasteData(i),t.returnValue=!1,this.doPaste=!1;else if(e==this.keyBoard.C)this.clearMark=null,this.post(),this.refresh();else if(e==this.keyBoard.X){if(this.clearMark=this.doClearData(),this.inputFocus&&this.selRect.beginColIndex==this.selRect.endColIndex&&this.selRect.beginRowNode.recNo==this.selRect.endRowNode.recNo&&"function"==typeof this.editObject.setValue){var n={},s="id",o="text";"function"==typeof this.editObject.getOption&&null!=this.editObject.getOption().idkey&&(s=this.editObject.getOption().idkey),"function"==typeof this.editObject.getOption&&null!=this.editObject.getOption().capkey&&(o=this.editObject.getOption().capkey),n[s]="",n[o]="",this.editObject.setValue(n)}this.refresh()}else if(e==this.keyBoard.Z)this.isNotEmpty(this.clearMark)&&(this.selRect.beginColIndex=this.clearMark.selRect.beginColIndex,this.selRect.endColIndex=this.clearMark.selRect.endColIndex,this.selRect.beginRowNode=this.clearMark.selRect.beginRowNode,this.selRect.endRowNode=this.clearMark.selRect.endRowNode,this.dataSet.select(this.selRect.beginRowNode),this.colIndex=this.selRect.beginColIndex,this.doPasteData(this.clearMark.text));else{if(e==this.keyBoard.PgUp){for(var l=0;l<this.rowCount-1;l++)this.scrollBar.scrollPrior();return!0}if(e==this.keyBoard.PgDn){for(l=0;l<this.rowCount-1;l++)this.scrollBar.scrollNext();return!0}}else if(e==this.keyBoard.DEL)this.mulCellSelect&&(this.clearMark=this.doClearData(),this.refresh());else if(e==this.keyBoard.ENTER){if(this.dataSet.getLevel()<0)return!1;if(this.mouseEdit=!1,this.post(),this.getOption().EnterDown){if(this.dataPost)if(t.shiftKey){var r=this.dataSet.getRecNo();this.dataSet.prior();var a=this.dataSet.isBof();this.topNode.recNo==r?this.scrollBar.scrollPrior():this.refresh(),a&&this.colIndex>1&&(this.colIndex=this.colIndex-1,this.last(),this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.selRect.beginColIndex,this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode,this.scrollBar.scrollNext())}else{r=this.dataSet.getRecNo(),this.dataSet.next(),this.selRect.beginRowNode=this.dataSet.getCurNode(),this.selRect.endRowNode=this.selRect.beginRowNode;var h=this.dataSet.isEof();h||this.bottomNode.recNo!=r?this.refresh():this.scrollBar.scrollNext(),h&&this.colIndex<this.colCount-1&&(this.colIndex=this.colIndex+1,this.first(),this.selRect.beginColIndex=this.colIndex,this.selRect.endColIndex=this.selRect.beginColIndex)}else this.inputFocus&&!0!==this._hasScroll&&("function"==typeof this.editObject.setFocus&&this.editObject.setFocus(),this.editObject.focus=!0);return!1}t.shiftKey?this._moveLeft(t,e):this._moveRight(t,e),this.setFocus()}else t.shiftKey||(this.shiftKeyDown=!1);this.pasteKeyPress=!1,this.priorKey=e},getReadOnly:function(){var t=this.getOption().cellEdit;return this.isEmpty(t)?t=!0:"string"==typeof t&&(t=this.getBooleanValue(t,!0)),!t},setReadOnly:function(t){t=!0===t,this.getOption().cellEdit=!t,this.refresh()},setRowReadOnly:function(t,e){t=!0===t,this.dataSet.setReadOnly(t,e)},getCellReadOnly:function(t,e){var i,n=this.getReadOnly(),s=null;if(this.isNotEmpty(e)&&(s=this.dataSet.getCurNode()),e=e||this.dataSet.getCurNode(),this.dataSet.select(e),this.dataSet.getReadOnly(e)&&(n=!0),!n){var o=!0;null!=(i=this.dataSet.getFieldOption(t))&&(o=i.editable,this.isEmpty(o)&&(o=!0)),n=!this.getBooleanValue(o,!0)}n||(o=!0,null!=(i=this.getColModel(t))&&(o=i.editable,this.isEmpty(o)&&(o=!0)),n=!this.getBooleanValue(o,!0));if(!n)try{n=!this.canEditing(t,!n)}catch(t){this.logError("[canEditing]ERROR:"+t.message+t.stack)}return this.isNotEmpty(e)&&null!=s&&this.dataSet.select(s),s=null,n},doCellMouseDown:function(t,e){this.base(t,e),this.focus||this.setFocus()},doMouseDown:function(t){this.base(t),this.scrollMouseDown=!0},doMouseUp:function(t){this.base(t),this.getMouseButton(t)==this.mouseType.mtRight&&this.hasSelect||null!=this.copyInput&&(this.mulCellSelect=!1,this.dataSet.getRecordCount()>0&&(this.mulCellSelect=this.selRect.beginColIndex<this.selRect.endColIndex||this.selRect.beginRowNode.getIndex()<this.selRect.endRowNode.getIndex()),this.mulCellSelect&&(this.copyInput.select(),this.copyInput.focus()))},_setEditObjectWidth:function(t){if(this.inputFocus){var e=t,i=0,n=this.getFieldName(this.colIndex);(null==this.getOption().treeKey&&1==this.colIndex||this.getOption().treeKey==n)&&0!=this.option.treeGrid&&null!=this.selRow&&(i=this._getNumberValue(this.selRow.cells[1].levelTd.style.width,0)+20),(e=e-10-i)<=0&&(e=1),"function"==typeof this.editObject.setWidth&&this.editObject.setWidth(e)}},_refreshCellDivWidth:function(t,e){t===this._colOrder["@INDEX"]&&e<55||(this.colIndex==t&&this._setEditObjectWidth(e),this.base(t,e))},setClipboard:function(t){if(navigator.userAgent.indexOf("MSIE")>0==1)return window.clipboardData.setData("text",t),!0;if(navigator.userAgent.indexOf("Firefox")>0==1){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(t){return void this.logError(this.getI18n("qzz.copyMsg","因当前浏览器的剪贴板无法控制，请在IE上使用该功能。"))}var e=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(!e)return void(e=null);var i=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!i)return i=null,void(e=null);i.addDataFlavor("text/unicode");var n=new Object,s=(new Object,t);(n=Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString)).data=s,i.setTransferData("text/unicode",n,2*s.length);var o=Components.interfaces.nsIClipboard;if(!o)return i=null,e=null,void(o=null);e.setData(i,null,o.kGlobalClipboard),i=null,e=null,o=null,n=null,n=null,s=null}},doClearData:function(){if(this.mulCellSelect){var t=this.dataSet.getCurNode();this.dataSet.beginUpdate(),this.beginUpdate(),this.dataSet.select(this.selRect.beginRowNode);for(var e=[],i=(this.option.colModels,0);!this.dataSet.isEof()&&this.dataSet.getIndex()<=this.selRect.endRowNode.getIndex();){for(var n=[],s=this.selRect.beginColIndex-1,o=0;s<=this.selRect.endColIndex-1;s++){var l=(c=this._getColModel(s+1)).name;if(!c.hidden){var r=this.dataSet.getDisplay(l);if(n[o++]=""===r?" ":r,!this.getCellReadOnly(l)&&!0!==c.notnull&&"true"!==c.notnull){this.dataSet.setValue(l,"");var a=this.dataSet.getCurNode();if(this.dataPost&&"function"==typeof this.onAfterEdit)try{var h=this.dataSet.getDataType(l),c=this.getColModel(l);this.onAfterEdit(h,l,"","",c,a)}catch(t){this.logError("[onAfterEdit] error:"+t.message+t.stack)}this.hasbind("onAfterEdit")&&(h=this.dataSet.getDataType(l),c=this.getColModel(l),this.trigger("onAfterEdit",[h,l,"","",c,a])),this.hasbind("afterEditCell")&&this.trigger("afterEditCell",[this.getPKeyName(),l,""]),this.dataSet.getIndex()!==a.getIndex()&&this.dataSet.select(a),this.trigger("onChanged",[this])}}}e[i++]=n.join("\t"),this.dataSet.next()}return this.dataSet.select(t),this.dataSet.endUpdate(!1),this.endUpdate(),this.trigger("afterClearData",[this]),{text:e.join("\n"),beginColIndex:this.selRect.beginColIndex,endColIndex:this.selRect.endColIndex,beginRowNode:this.selRect.beginRowNode,endRowNode:this.selRect.endRowNode}}if(null!=this.editObject&&"function"==typeof this.editObject.setValue){var u={},d="id",p="text";"function"==typeof this.editObject.getOption&&null!=this.editObject.getOption().idkey&&(d=this.editObject.getOption().idkey),"function"==typeof this.editObject.getOption&&null!=this.editObject.getOption().capkey&&(p=this.editObject.getOption().capkey),u[d]="",u[p]="",this.editObject.setValue(u),this.post()}else this.setValue(this.getFieldName(),"")},doPasteData:function(t){var e=0;"\n"==t.charAt(t.length-1)&&(e=1);var i=(t=(t=t.replace(/""/g,"&quot;")).replace(/"([^"]+)"/gi,function(t,e){return e.replace(/\n/g,"<br/>")})).split("\n");this.dataSet.beginUpdate();var n=this.dataSet.getCurNode(),s=i.length;if(this.hasbind("beforePasteData")){for(var o=0,l=[],r=[],a=this.selRect.beginColIndex,h=0;h<s-e&&!this.dataSet.isEof();h++){var c=i[h].split("\t");if(r[h]=c,0==h)for(var u=c[h].length,d=0;d<u&&d+a+o<this.colCount;d++)(T=this._getColModel(d+a+o)).hidden?(o++,d--):l.push(T)}this.trigger("beforePasteData",[l,i])}this.dataSet.select(n);var p=[],g=[],f=!1;if(!0!==this._isdbclick&&(s>1||-1!==i[0].indexOf("\t")))for(f=!0,h=0;h<s-e&&!this.dataSet.isEof();h++){i[h]=i[h].split("\t"),u=i[h].length;var y=0,m={};m._node=this.dataSet.getCurNode();var v={};for(v._node=m._node,d=0;d<u&&d+this.selRect.beginColIndex+y<this.colCount;d++){var C=(T=this._getColModel(d+this.selRect.beginColIndex+y)).name,S=i[h][d];if(null!=S&&""!==S&&"string"==typeof S&&(S=S.replace(/&quot;/g,'"').replace(/<br\/>/g,"\n")),T.hidden)y++,d--;else if(!this.getCellReadOnly(C)&&!0!==T.disPaste){m[C]=this.dataSet.getValue(C);var b=this.dataSet.getCurNode();if(this.hasbind("onSetText")){var x=this.trigger("onSetText",[S]);this.dataSet.setValue(C,x)}else this.dataSet.setDisplay(C,S,b);var _=this.dataSet.getValue(C);if(v[C]=_,this.dataPost&&"function"==typeof this.onAfterEdit)try{var w=this.dataSet.getDataType(C),T=this.getColModel(C);this.onAfterEdit(w,C,_,S,T,b)}catch(t){this.logError("[onAfterEdit] error:"+t.message+t.stack)}this.hasbind("onAfterEdit")&&(w=this.dataSet.getDataType(C),T=this.getColModel(C),this.trigger("onAfterEdit",[w,C,_,S,T,b])),this.hasbind("afterEditCell")&&this.trigger("afterEditCell",[this.getPKeyName(),C,_]),this.dataSet.getIndex()!==b.getIndex()&&this.dataSet.select(b)}}p.push(m),g.push(v),this.selRect.endRowNode=this.dataSet.getCurNode(),this.selRect.endColIndex!=u+this.selRect.beginColIndex-1+y&&(this.selRect.endColIndex=u+this.selRect.beginColIndex-1+y,this.selRect.endColIndex>this.colCount-1&&(this.selRect.endColIndex=this.colCount-1)),this.dataSet.next()}else null!=this.editObject&&null!=this.editObject.inputBox&&(null!=this.editObject.option&&!0===this.editObject.option.disPaste||(t=t.replace(/<br(\/)>/gi,"\n"),this.editObject.inputBox.value=t,this.editObject._isChanged=!0,this.editObject.setFocus()));this.dataSet.select(n),this.trigger("afterPasteData",[this,p,g]),this.trigger("onChanged",[this]),this.dataSet.endUpdate(!1),f&&this.refresh()},setEditType:function(t,e){this.getColModel(t).editType=e},deleteAll:function(){this.dataSet.empty(!0),this.dataSet.first(),this.refresh()}}),_bindRenderFunc("qzzgrid",t.ui.grid),t.ui.grid}),
/*!
 * 列表视图控件.
 * ecp.qzz.ui.gridview.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.frame","qzz.treedataset","qzz.icheckbox"],function(){var t=window.qzz;return t.space("ui"),t.ui.gridview=t.Class(t.ui.frame,{_create:function(){this.base(),this.className="GridView",this.logInfo("gridview.create"),this.dataSet=new t.treedataset,this.rowIndex=0,this.showCount=this._getNumberValue(this.getOption().showCount,6),this.topNode=null,this.topIndex=0,this.bottomNode=null,this._rowHeight=this._getNumberValue(this.getOption().rowHeight,17),this.scrollHeight=16,this.getOption().height=this._getNumberValue(this.getOption().height,this._rowHeight*this.showCount+this.scrollHeight),this.rendered=!1,this.autoHeight=!1;var e,i=this.getOption().data;if(this.treePidData=this.getBooleanValue(this.getOption().treePidData,!1),null==this.getOption().pidkey&&null==this.getOption().parentKeyId||(this.treePidData=!0),this.dataSet.getOption().fullPath=this.getOption().fullPath,this.treePidData)this.dataSet.setIDPID(this.getOption().treeId||this.getOption().idkey,this.getOption().parentKeyId||this.getOption().pidkey),this.dataSet.initSort=!1;else{var n=this.getOption().treeId;null==n&&(n="bm"),this.dataSet.setItemCode(n)}if(this.isNotEmpty(i)){var s=this;this.dataSet.setItemList(i,function(){s.setLeafOnly(!0===s.getOption().leafOnly)}),this.dataSet.first(),this.topNode=this.dataSet.getCurNode()}i=null,this.isNotEmpty(this.getOption().checkFlag)&&((e=this.getOption().checkFlag).indexOf("p")>=0&&(this.dataSet.autoCheckType.autoCheckAllParent=!0),e.indexOf("s")>=0&&(this.dataSet.autoCheckType.autoCheckAllChild=!0),e.indexOf("b")>=0&&(this.dataSet.autoCheckType.autoCheckBrother=!0),e.indexOf("e")>=0&&(this.dataSet.autoCheckType.autoCheckAllParentExt=!0)),this.isNotEmpty(this.getOption().unCheckFlag)&&((e=this.getOption().unCheckFlag).indexOf("p")>=0&&(this.dataSet.autoCheckType.autoUnCheckAllParent=!0),e.indexOf("s")>=0&&(this.dataSet.autoCheckType.autoUnCheckAllChild=!0),e.indexOf("b")>=0&&(this.dataSet.autoCheckType.autoUnCheckBrother=!0),e.indexOf("e")>=0&&(this.dataSet.autoCheckType.autoUnCheckAllParentExt=!0)),this.multiSelect=this.getBooleanValue(this.getOption().multiselect,this.getOption().multiSelect),this.isEmpty(this.multiSelect)&&(this.multiSelect=!1),this.dataSet.multiSelect=this.multiSelect,this.dataSet.isTree=this.getBooleanValue(this.getOption().isTree,!0),this.getOption().itemCode=this.getOption().itemCode||"bm",this.dataSet.itemCode=this.getOption().itemCode,this.dataSet.getOption().itemCode=this.getOption().itemCode,this.groupFieldName="_groupitem",this.hasSelectState=!1},abcLocate:function(t){var e=this.getOption().capkey,i=0,n=this,s=this.dataSet.getCurNode();"☆"==t?(i=1,n.dataSet.beginUpdate(),n.scrollToIndex(i),n.dataSet.select(s),n.dataSet.endUpdate(!1),n.refresh()):this.dataSet.each(function(n){var s=this.getValue(e,n);if(null!=s&&0==(s+"").toUpperCase().indexOf(t))return i=this.getIndex(),!1},function(){i>0&&(n.dataSet.beginUpdate(),n.scrollToIndex(i),n.dataSet.select(s),n.dataSet.endUpdate(!1),n.refresh())})},_render:function(){this.base(),this.logInfo("gridview.render"),this.infoDiv=this.createElement("div"),this.setStyle(this.infoDiv,"abc_Info"),this.infoDiv.style.display="none",this.thisWindow.appendChild(this.infoDiv),this.listTab=this.createElement("table"),this.setStyle(this.listTab,"component_ui_listview_list_table"),this.listTab.style.width="100%",this.listTab._this=this,this.listDiv.appendChild(this.listTab),this.listDiv.style.paddingRight="16px",this.isSelect=!0,this.maxWidth=0;var t=["☆","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];this.abcTab=this.createElement("table"),this.abcTab.onselectstart=this._onselectstart;var e=this.getHeight()-16;e=parseInt(e/27,10);for(var i=this,n=0;n<27;n++){var s=this.abcTab.insertRow(n).insertCell(0);s.style.lineHeight=e+"px",s.onmousedown=function(){i.mouseDown=!0,i.abcLocate(this.innerHTML),i._setHtml(i.infoDiv,this.innerHTML),setTimeout(function(){if(!0===i.mouseDown){i.infoDiv.style.display="";var t=(i.getWidth()-45)/2;i.infoDiv.style.left=t+"px";var e=(i.getHeight()-45)/2;i.infoDiv.style.top=e+"px"}},100)},s.onmouseover=function(){!0===i.mouseDown&&(i.abcLocate(this.innerHTML),i._setHtml(i.infoDiv,this.innerHTML))},s.onmouseup=function(){i.mouseDown=!1,i.infoDiv.style.display="none"},s.innerHTML=t[n]}this.setStyle(this.abcTab,"abc_list"),this.addStyle(this.abcTab,"noborder"),this.thisWindow.appendChild(this.abcTab),this.refresh()},doMouseUp:function(t){this.base(t),this.mouseDown=!1,this.infoDiv.style.display="none"},_onTreeCheckBoxClick:function(t){var e=this._this,i=this._cNode;if(i.checkState?e.dataSet.setUnSelect(i):e.dataSet.setSelect(i),"function"==typeof e.onCheckChanged)try{e.onCheckChanged(this._cNode,this._cNode.checkState)}catch(t){e.logError("[onCheckChanged] error:"+t.message+t.stack)}e.trigger("onCheckChanged",[this._cNode,this._cNode.checkState]),e.refresh(),e=null},refreash:function(){this.refresh()},refreshTitle:function(t){return null!=t&&(null!=t.colNames&&(this.getOption().colNames=t.colNames),null!=t.colModels&&(this.getOption().colModels=t.colModels),this.refresh(),!0)},refresh:function(){if(!this._update)return!1;this.beginUpdate();var e=this.getHScrollHeight();this.autoHeight||(this.showCount=Math.round((this._getRectHeight()-e)/this._rowHeight)+1);var i,n,s,o=this.listTab.rows.length,l=this.dataSet.getVisibleCount(),r=this.showCount<l?this.showCount:l,a=this.topNode;this.rowIndex=-1;var h=this.dataSet.curNode;this.dataSet.beginUpdate(),this.dataSet.select(a);var c=this.getOption().colNames;"string"==typeof c&&(c=[c]);var u=this.getOption().colModels,d=u.length,p=null!=c&&c.length>0;for(s=0;s<=r&&null!=a;s++){null==(n=this.listTab.rows[s])&&(n=this.listTab.insertRow(s)),this.setStyle(n,"gridview_under_line");for(var g=0;g<d;g++){if(null==(i=n.cells[g]))i=n.insertCell(g),0==g&&(nodeTable=this.createElement("table"),nodeTable.border=0,nodeTable.cellPadding=0,nodeTable.cellSpacing=0,nodeTable.style.width="100%",i.nodeTable=nodeTable,i.nodeR=nodeTable.insertRow(0),i.nodeR.style.height=this._rowHeight+"px",i.pointTd=i.nodeR.insertCell(0),i.pointTd.style.width="16px",i.pointTd._this=this,i.pointDiv=this.createElement("div"),i.pointDiv.style.width="16px",i.pointDiv.style.height=this._rowHeight+"px",i.pointTd.appendChild(i.pointDiv),i.checkTd=i.nodeR.insertCell(1),i.checkTd.style.width="16px",i.checkBox=new t.ui.input.checkbox,i.checkBox._this=this,i.checkBox.bind("onClick",this._onTreeCheckBoxClick,!0),i.checkTd.appendChild(i.checkBox.getContainer()),i.textTd=i.nodeR.insertCell(2),i.textTd._this=this,i.appendChild(nodeTable));else if(0==g)for(var f=i.nodeR.cells.length;f>3;)i.nodeR.deleteCell(0),f--;var y=u[g];if(0==g){var m=0;if(this.multiSelect?(i.checkTd.style.display="",p&&0==s?(i.checkBox.setCheck(this.dataSet.rootNode.checkState),i.checkBox._cNode=this.dataSet.rootNode,this.dataSet.rootNode.enable?i.checkBox.setDisable(!1):i.checkBox.setDisable(!0)):(i.checkBox.setCheck(a.checkState),i.checkBox._cNode=a,m=16,a.enable?i.checkBox.setDisable(!1):i.checkBox.setDisable(!0))):i.checkTd.style.display="none",i.style.paddingLeft="8px",p&&0==s)this._setHtml(i.textTd,c[g]),this.setStyle(i,"gridview_title"),null!=y.width&&""!==y.width&&(i.style.width=y.width+"px"),1==this.getOption().isTree||(i.pointTd.style.display="none");else{var v=a.index>=a.pNode.count-1;i.textTd._node=a;var C;C=v?"_last":"_center",a.recNo==h.recNo?(this.hasSelectState?this.setStyle(i,"gridview_td_over"):this.setStyle(i,"gridview_td"),this.rowIndex=s):this.setStyle(i,"gridview_td"),1==this.getOption().isTree?a.count>0?(a.expanded?this.setStyle(i.pointDiv,"component_ui_treeview_node_expand"+C):this.setStyle(i.pointDiv,"component_ui_treeview_node_collapse"+C),i.pointTd.node=a,i.pointTd.onclick=function(){this.node.expanded?this.node.collapse():this.node.expand(),this._this.isSelect=!1,this._this.refresh()}):(this.setStyle(i.pointDiv,"component_ui_treeview_node"+C),i.pointTd.onclick=null):i.pointTd.style.display="none",!1===a.enable&&this.addStyle(i.textTd,"component_ui_treeview_td_disable"),a.pNode;var S=this.dataSet.getValue(y.name,a);if(this.hasbind("onItemDraw")&&(S=this.trigger("onItemDraw",[this.dataSet,i.textTd,S])),this._setHtml(i.textTd,S),this.setStyle(i.textTd,"gridview_ellipsis"),null!=y.width&&""!==y.width){var b=parseInt(y.width,10)-m;i.textTd.style.width=b+"px";var x=this.getOption().fontSize||12,_=this.getTextWidth(S,x+"px");i.textTd.title=_>b?S:""}i.textTd.style.lineHeight=this._rowHeight+"px",!0!==this.dataSet.getValue(this.groupFieldName)?i.textTd.onclick=this.doSelect:i.textTd.onclick=null}}else null==i.textTd&&(i.textTd=this.createElement("div")),i.appendChild(i.textTd),this.setStyle(i.textTd,"gridview_ellipsis"),p&&0==s?(this._setHtml(i.textTd,c[g]),this.setStyle(i,"gridview_title"),null!=y.width&&""!==y.width&&(i.style.width=y.width+"px")):(S=this.dataSet.getValue(u[g].name,a),this.hasbind("onItemDraw")&&(S=this.trigger("onItemDraw",[this.dataSet,i,S])),this._setHtml(i.textTd,S),a.recNo==h.recNo?(this.hasSelectState?this.setStyle(i,"gridview_td_over"):this.setStyle(i,"gridview_td"),this.rowIndex=s):this.setStyle(i,"gridview_td"),null!=y.width&&""!==y.width&&(i.style.width=y.width+"px",x=this.getOption().fontSize||12,_=this.getTextWidth(S,x+"px"),i.title=_>b?S:""),i.style.lineHeight=this._rowHeight-2+"px",i._this=this,i._node=a,!0!==this.dataSet.getValue(this.groupFieldName)?i.onclick=this.doSelect:i.onclick=null)}for(;g<n.cells.length;)n.deleteCell(g);p&&0==s||(a=this.dataSet.next()?this.dataSet.curNode:null)}for(g=o-1;g>=s;g--)this.listTab.deleteRow(g);this.bottomNode=this.dataSet.curNode,this.dataSet.endUpdate(!1),this.dataSet.select(h),o=null;var w=0;!0===p&&(w=1),this.listTab.offsetWidth>this.listDiv.offsetWidth&&w++,this.showCount-1<l?(this.scrollBar.setScrollCount(l,this.showCount-1-w),this.setVScrollHide(!1),this.abcTab.style.right=this.scrollBar.getWidth()+"px"):(this.scrollBar.setScrollCount(0,0),this.abcTab.style.right="0px",this.setVScrollHide(!0)),this.rendered=!0,this.endUpdate()},doSelect:function(t){var e=this._this;if(e.isSelect){var i=this._node;e.dataSet.curNode.recNo!=i.recNo&&(e.dataSet.select(i),this.tmpClassName="",e.refresh()),!0===e.dataSet.getValue(e.groupFieldName)||!0===e.multiSelect&&!0!==e.dataSet.isEnableCheck()||("function"==typeof e.onSelect&&e.onSelect(e.dataSet.curNode),e.trigger("onSelect",[e.dataSet.curNode]))}e.isSelect=!0},doScroll:function(t,e){if(0!==e){var i=this;i.topIndex=t,i.dataSet.beginUpdate();var n=i.dataSet.curNode;if(i.dataSet.select(i.topNode),e>0)for(var s=0;s<e;s++)i.dataSet.next();else for(s=0;s>e;s--)i.dataSet.prior();i.topNode=i.dataSet.curNode,i.dataSet.select(n),n=null,i.dataSet.endUpdate(),i.refresh(),i=null}},doMouseWheel:function(t){this.base();var e=t,i=this;return(e.wheelDelta?e.wheelDelta:-1*e.detail)>0?i.scrollBar.scrollPrior():i.scrollBar.scrollNext(),i=null,e.returnValue=!1,e=null,!1},doKeyDown:function(t,e){e==this.keyBoard.UP?this.prior():e==this.keyBoard.DOWN&&this.next(),e=null,_this=null},doKeyUp:function(t,e){if(e==this.keyBoard.ENTER&&"function"==typeof this.onSelect){if(!0!==this.dataSet.getValue(this.groupFieldName)&&(!0!==this.multiSelect||!0===this.dataSet.isEnableCheck())){var i=this.dataSet.getCurNode();null!=i&&(this.onSelect(i),this.trigger("onSelect",[i])),i=null}this.logInfo("key up")}},prior:function(){this.dataSet.prior(),this._scrollToFocus()},next:function(){this.dataSet.next(),this._scrollToFocus()},addNode:function(e,i,n){return e instanceof t.treenode?this.dataSet.addNode(e,i,n):"string"==typeof e?((s=new t.treenode).text=e,this.dataSet.addNode(s)):"object"==typeof e?((s=new t.treenode).text=e.text,s.id=e.id,this.dataSet.addNode(s)):void 0;var s},insertNode:function(e,i,n,s){return i instanceof t.treenode?this.dataSet.insertNode(e,i,n,s):"string"==typeof i?((o=new t.treenode).text=i,this.dataSet.insertNode(e,o)):"object"==typeof i?((o=new t.treenode).text=i.text,o.id=i.id,this.dataSet.insertNode(e,o)):void 0;var o},delNode:function(t,e){return this.dataSet.delNode(t,e)},setLeafOnly:function(t,e){this.dataSet.each(function(e){e.count>0&&(e.enable=!0!==t)},e)},value:function(t,e){null!=t&&this.setItemList(t,e)},toPYData:function(t){for(var e=this.getOption().capkey,i=0,n=t.length;i<n;i++){var s=t[i],o=this.hz2py(s[e]);s[e+"_CH"]=o.toUpperCase()}},_getBMCode:function(t){return t<10?"000"+t:t<100?"00"+t:t<1e3?"0"+t:""+t},sortDatas:function(t){for(var e=this.getOption().capkey,i=e+"_CH",n=0,s=t.length;n<s;n++){var o=t[n],l=o[i];for(j=n+1;j<s;j++){var r=t[j],a=r[i];this.compare(a,l)<0&&(t[j]=o,t[n]=r,l=(o=r)[i])}}var h="",c="",u=1,d=1;for(n=0,s=t.length;n<s;n++){var p=t[n],g=(l=p[i]+"")[0];if(h!==g){var f={};f[e]=g,f[i]=g,c=this._getBMCode(u),u++,f[this.dataSet.itemCode]=c,f[this.groupFieldName]=!0,t.splice(n,0,f),s++,n++,d=1,h=g}var y=this._getBMCode(d);p[this.dataSet.itemCode]=c+y,d++}},setItemList:function(t,e){var i=this;this.topNode=null,this.dataSet.initSort=!1,this.toPYData(t),this.sortDatas(t),this.dataSet.setItemList(t,function(){!0===i.dataSet.getValue(i.groupFieldName)&&i.dataSet.next(),i.setLeafOnly(!0===i.getOption().leafOnly,function(){null!=i.topNode&&i.refresh(),"function"==typeof e&&e(),i=null})}),this.dataSet.first(),this.topNode=this.dataSet.curNode,this.topCount=0,this.maxWidth=0,this.refresh()},setItemCode:function(t){this.dataSet.setItemCode(t)},setIDPID:function(t,e){this.dataSet.setIDPID(t,e)},_doResize:function(t){this.base(t),this.rendered&&this._update&&(this.refresh(),this.autoHeight&&(null==this.showCount&&(this.showCount=0),this.getOption().height=this._rowHeight*this.showCount+this.scrollHeight))},doBlur:function(){this.base(),this.refresh()},doFocus:function(){this.base(),this.hasSelectState=!0,this.refresh()},getCurNode:function(){return this.dataSet.getCurNode()},setMultiSelect:function(t){this.getOption().multiselect=t,this.multiSelect=t},getSelectedData:function(){if(this.multiSelect){this.dataSet.getCurNode(),this.dataSet.first();for(var t=[];!this.dataSet.isEof();)this.dataSet.isSelected()&&!0!==this.dataSet.getValue(this.groupFieldName)&&t.push(this.getCurNode().data),this.dataSet.next(!0);return t}return this.dataSet.getCurNode().data},locate:function(t,e,i){return!!this.dataSet.locate(t,e,i)&&(this._scrollToFocus(),!0)},getDisplay:function(t,e){return this.dataSet.getDisplay(t,e)},getValue:function(t,e){return this.dataSet.getValue(t,e)},getAllCount:function(){return this.dataSet.getAllCount()},first:function(){this.dataSet.first(),this.topNode=this.dataSet.getCurNode(),this.topNode.level>=0&&(this.topNode.scrIndex=1),this.beginUpdate(),this.scrollBar.setScrollIndex(0),this.endUpdate(!1),this.refresh()},getScrollIndex:function(){return null!=this.topNode?this.topNode.scrIndex:1},scrollToIndex:function(t){if(t>1){t>this.getAllCount()&&(t=this.getAllCount());var e=!0;if(t>1){this.dataSet.beginUpdate();var i=this.dataSet.getCurNode(),n=0;if(this.dataSet.select(this.topNode),t>this.topNode.scrIndex)for(;!this.dataSet.isEof()&&t!=this.dataSet.getIndex();){if(t<this.dataSet.getIndex()){e=!1;break}n++,this.dataSet.next()}else for(;!this.dataSet.isBof()&&t!=this.dataSet.getIndex();){if(t>this.dataSet.getIndex()){e=!1;break}n--,this.dataSet.prior()}this.dataSet.select(i),this.dataSet.endUpdate(!1),!0===e&&this.scrollBar.setScrollIndex(this.scrollBar.scrollIndex+n),this.refresh()}else this.first()}else this.first()},_scrollToFocus:function(){if(this.dataSet.curNode.scrIndex<this.topNode.scrIndex){var t=this.scrollBar.scrollIndex,e=this.dataSet.curNode;for(this.dataSet.curNode=this.topNode;this.dataSet.curNode.recNo!=e.recNo&&!this.dataSet.isBof();)this.dataSet.prior(),this.dataSet.isBof()||t--;this.scrollBar.setScrollIndex(t)}else if(!this.dataSet.isEof()&&this.dataSet.curNode.scrIndex>=this.bottomNode.scrIndex){for(t=this.scrollBar.scrollIndex,e=this.dataSet.curNode,this.dataSet.curNode=this.bottomNode;this.dataSet.curNode.recNo!=e.recNo&&!this.dataSet.isEof();)this.dataSet.next(),this.dataSet.isEof()||t++;this.scrollBar.setScrollIndex(t+1)}this.refresh()}}),_bindRenderFunc("qzzgridview",t.ui.gridview),t.ui.gridview}),
/*!
 * 列表.
 * ecp.qzz.ui.listgrid.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.panel","qzz.treedataset","qzz.pfilter","qzz.paged","qzz.button","qzz.icheckbox"],function(){var t=window.qzz;return t.space("ui"),t.ui.listgrid=t.Class(t.ui.panel,{_create:function(){this.base(),this.getOption().width=700,this.getOption().autoCollapse=this.getBooleanValue(this.getOption().autoCollapse,!0),this.getOption().autoWidth=this.getBooleanValue(this.getOption().autoWidth,!0),this.getOption().autoHeight=this.getBooleanValue(this.getOption().autoHeight,!0),this.getOption().rowHeight=this.getNumberValue(this.getOption().rowHeight,36),this.getOption().boxRowHeight=this.getNumberValue(this.getOption().boxRowHeight,32),this.getOption().colNames=this.getOption().colNames||[],this.getOption().colModels=this.getOption().colModels||[],this._colModelJson={},this.getOption().defColWidth=this.getNumberValue(this.getOption().defColWidth,100),this.getOption().expandWidth=this.getNumberValue(this.getOption().expandWidth,42),this.getOption().pageSize=this._getNumberValue(this.getOption().pageSize,10),this.getOption().pageIndex=this._getNumberValue(this.getOption().pageIndex,1),null==this.getOption().pageSizeList&&(this.getOption().pageSizeList=[10,25,50,100,200,this.getI18n("qzz.all","全部")]),this.getOption().summary=this.getBooleanValue(this.getOption().summary,this.getBooleanValue(this.getOption().footerrow,!1)),this.getOption().summaryText=this.getOption().summaryText||this.getI18n("qzz.summary","合计："),this.getOption().pageSummaryText=this.getOption().pageSummaryText||this.getI18n("qzz.pageSummary","合计："),this.dataSet=new t.treedataset,this.dataSet.setViewColModels(this.getOption().colModels),this.dataSet.isTree=!1;for(var e=0,i=this.getOption().colModels.length;e<i;e++)!0===this.getOption().colModels[e].sum&&this.dataSet.addSumColumn(this.getOption().colModels[e].name);if(null==this.dataSet.onChanged){var n=this;this.dataSet.onChanged=function(t){if(n.logInfo("row changed event"),n.hasbind("rowChanged")&&n.trigger("rowChanged",[t]),"function"==typeof n.onRowChanged)try{n.onRowChanged(t)}catch(t){n.logError("onRowChanged event fire error!")}n.trigger("onRowChanged",[t])}}this._curSum=new t.treenode,this._curSum.data={},this._hasRender=!1,this.isArray(this.getOption().dataList)&&(n=this,this.dataSet.setItemList(this.getOption().dataList,function(){n.dataSet.caculateSum(!0),n._hasRender&&n.refresh(),n.getOption().totalCount=n.dataSet.length(),null!=n.pageObj&&n.pageObj.setTotalCount(n.getOption().totalCount,!1)}),this.fullCollapse()),this._showExpand=!0,this._isHeightResize=!1,this._parseTitle(),this.colIndex=1,this.selRect={beginRowNode:null,endRowNode:null,beginColIndex:1,endColIndex:1},this._selRect={},this.sortTables={},this._colModelIndex={}},_render:function(){this.base(),this.gridTable=this.createElement("TABLE"),this.thisWindow.appendChild(this.gridTable),this.gridTable.style.tableLayout="fixed",this.setStyle(this.gridTable,"treeListGrid"),this.pageObj=new t.ui.paged({totalCount:this.getOption().totalCount}),this.pageObj.setPageSizeList(this.getOption().pageSizeList),this.pageObj.setPageSize(this.getOption().pageSize);var e=this;this.pageObj.bind("onPageChanged",function(t,i,n){if(e._update)if(e.getOption().pageCount=t,e.getOption().pageSize=i,e.getOption().pageIndex=n,e.hasbind("onPageChanged")){e.trigger("onPageChanged",[t,i,n]),e.refresh();for(var s=[],o=e.getOption().colModels.length,l=0;l<o;l++){var r=e.getOption().colModels[l];"checkBox"!=r.editType&&"onoff"!=r.editType||s.push(r.name)}e._refreshCheckAll(s)}else e.refresh()}),this.gridTable.onselectstart=this._onselectstart,this._initTitleSheet(),this._autoWidth(),this.copyDiv=this.createElement("div"),this.setStyle(this.copyDiv,"fixDiv"),this.copyDiv.style.top="0px",this.copyDiv.style.left="0px",this.copyDiv.style.height="1px",this.copyDiv.style.width="1px",this.copyInput=this.createElement("textarea"),this.setStyle(this.copyInput,"editTextInputer"),this.copyInput.style.width="300px",this.copyInput.style.height="300px",this.pasteKeyPress=!1,this.copyDiv.appendChild(this.copyInput),this.thisWindow.appendChild(this.copyDiv),this.refreshLayout(),this.refresh(),this._hasRender=!0,!1!==this.getOption().filter&&this._asynRun(function(){this._initFilterWindow()},10)},refreshLayout:function(){this._createTitle(),this._createPager(),this._autoHeight()},doResize:function(){!0!==this._isHeightResize&&(this.refreshLayout(),this.refresh(),this._autoWidth())},_autoWidth:function(){this.getOption().autoWidth&&(this.thisWindow.style.width="100%",this.thisWindow.offsetWidth<650&&(this.setWidth(650),this.thisWindow.style.width="650px"))},_autoHeight:function(){this.getOption().autoHeight&&(this._isHeightResize=!0,this.setHeight(this.gridTable.offsetHeight),this._isHeightResize=!1)},setHeight:function(t){t!=this.getOption().height&&(this.base(t),this._autoWidth())},_parseTitle:function(){var t=[],e=1,i=1,n=[];this.getOption().colNames[0]instanceof Array?(e=this.getOption().colNames.length,null!=this.getOption().colNames[e-1]?i=this.getOption().colNames[e-1].length:(i=this.getOption().colNames[e-2].length,e--),n=this.getOption().colNames):(i=this.getOption().colNames.length,n=[this.getOption().colNames]);for(var s=e+1,o=i+1,l=1;l<=e;l++)t[l]=[];var r=this.getOption().colModels;for(l=e-1;l>=0;l--){for(var a=n[l],h=a.length,c=0,u=0;c<i;c++){var d=null,p=a[u];if("string"==typeof p&&(p={caption:p},l<e-1&&(p.startIndex=c,p.colSpan=i)),u<h){var g=p.startIndex;0===g||null!=g?g==c&&((d=p).isBand=!0,u++):(u++,(null==(d=p).caption||""===d.caption)&&l<e-1&&(d=null,this.logInfo(this.getI18n("qzz.mergCell","合并空的单元格"))))}if(this.isEmpty(d))l<e-1&&(t[l+1][c]=t[l+2][c],(f=t[l+1][c]).colIndex==c&&f.rowspan++,f.rowIndex=l+1);else{var f={};t[l+1][c]=f;var y=d.caption;null==r[c].caption&&(r[c].caption=y),f.caption=y,f.rowspan=1,f.rowIndex=l+1,f.colIndex=c,f.isBand=d.isBand||!1;var m=d.colSpan;if(this.isNotEmpty(m)&&parseInt(m,10)>1){f.colspan=parseInt(m,10);var v=f.colspan+c;for(c++;c<i&&c<v;c++)t[l+1][c]=f;c--}f=null}d=null}a=null}this.getOption().titleSheets=t,this.getOption().titleRowCount=s,this.getOption().colCount=o},_initTitleSheet:function(){this._titleSheets=[],this._titleSheets.push([]),this._colModels=[];for(var t=1,e=this.getOption().titleSheets.length;t<e;t++){for(var i=[],n=this.getOption().titleSheets[t],s=null,o=null,l=0,r=0,a=n.length;r<a;r++){var h=n[r];h!=s&&((o=this.extend({},h)).colIndex=l);var c=this.getOption().colModels[r];!0!==c.hidden?(null!=o&&i.push(o),1==t&&this._colModels.push(c),l++):null!=o&&o.colspan--,s=h}this._titleSheets.push(i)}},_cacShowFields:function(){this._colCount=0;var t=this.getWidth(),e=0,i=this.getOption().defColWidth,n=this._colModels,s=0,o=0;this._firstFieldName="",this._hideCount=0;for(var l=n.length,r=0;r<l&&e<t;r++){var a=n[r];""===this._firstFieldName&&(this._firstFieldName=a.name),o=s,null!=(s=a.width)&&0!==s||(s=i,a.width=s),"checkBox"!=a.editType&&"radio"!=a.editType&&"onoff"!=a.editType||(null==a.isCheck&&0!==a.isCheck&&(a.isCheck=!0),null==a.unCheck&&0!==a.unCheck&&(a.unCheck=!1)),e+=s,this._colCount++}e>t&&(e-=s,s=o,this._colCount--),this._colCount==l?this._showExpand=!1:(this._showExpand=!0,e+this.getOption().expandWidth>t&&(this._colCount--,(e-=s)+this.getOption().expandWidth>t&&this._colCount--)),this._ysums=t-e-2,this._showExpand&&(this._ysums-=this.getOption().expandWidth)},doShow:function(){this.refresh(),this._autoHeight()},_createTitle:function(){this._cacShowFields();var e=this._titleSheets,i=this._colModels,n=null,s=null,o=null,l=parseInt(this._ysums/this._colCount,10),r=this;this._pExpandCol=null;var a=null,h=0;(g=(n=this.gridTable.rows.length>0?this.gridTable.rows[0]:this.gridTable.insertRow(0)).cells.length)>(f=0)?o=n.cells[f]:(o=n.insertCell(f),g++),this._setHtml(o,"",!1),o.style.height="1px",o.style.width="1px",o.id="common_td",f++,h++;var c=0,u=0;for(this._hideCount=0,this._colModelIndex={};h<=this._colCount;h++)a=i[h-1],g>f?o=n.cells[f]:(o=n.insertCell(f),g++),o.style.height="1px",o.id="common_td",u=a.width+l,c+=l,o.style.width=u+"px",f++;for(f>1&&(o.style.width=u+this._ysums-c+"px"),this._showExpand&&(g>f?o=n.cells[f]:(o=n.insertCell(f),g++),o.style.height="1px",o.id="common_td",o.style.width=this.getOption().expandWidth+"px",h++,f++);g>f;)n.deleteCell(g-1),g--;for(var d=this.gridTable.rows.length,p=1;p<this.getOption().titleRowCount;p++){var g,f;for(d>p?n=this.gridTable.rows[p]:(n=this.gridTable.insertRow(p),d++),h=0,(g=n.cells.length)>(f=0)?o=n.cells[f]:(o=n.insertCell(f),g++),o.style.width="1px",o.id="common_td",this._setHtml(o,"",!1),o.setAttribute("rowSpan",1),o.setAttribute("colSpan",1),o.style.height=this.getOption().rowHeight+"px",f++,h++;h<=this._colCount;h++)if(a=i[h-1],(s=e[p][h-1]).rowIndex==p&&s.colIndex==h-1){g>f?o=n.cells[f]:(o=n.insertCell(f),g++);var y=this.getNumberValue(s.colspan,1);h+y>=this._colCount+1&&(y=this._colCount+1-h),o.setAttribute("colSpan",y),o.setAttribute("rowSpan",this.getNumberValue(s.rowspan,1)),o.colIndex=s.colIndex,o.rowIndex=s.rowIndex;var m=this.sortTables[a.name];if(!0!==s.isBand&&null!=m&&this.thisWindow.appendChild(m),this._setHtml(o,s.caption),!(!0!==a.checkAll&&!0!==a.selectAll||"checkBox"!=a.editType&&"onoff"!=a.editType)){null==this.allCheckBox&&(this.allCheckBox={}),this.allCheckBox[a.name]=new t.ui.input.checkbox;var v=this.allCheckBox[a.name];if(o.childNodes.length>0?o.insertBefore(v.getContainer(),o.childNodes[0]):o.appendChild(v.getContainer()),v.fieldName=a.name,v.bind("onClick",function(){r._checkAll(this.fieldName,this.getCheck())},!0),"onoff"==a.editType){v.onoff=new t.ui.button({move:!0,width:40,height:22,common:["onoff_off","onoff_on"]}),v.hide();var C=v.onoff.getControl()[0];C.style.margin="auto",o.childNodes.length>0?o.insertBefore(C,o.childNodes[0]):o.appendChild(C),v.onoff.bind("onclick",v,function(t,e){t.click(),this.focus=!1},!0)}this._refreshCheckAll(a.name)}if(o.isBand=s.isBand,null==o.sortDiv&&(o.sortDiv=this.createElement("div"),this.setStyle(o.sortDiv,"sortDiv")),!0!==s.isBand){if(null==m){m=this.createElement("table"),this.setStyle(m,"sortTable");var S=m.insertRow(0).insertCell(0);this.setStyle(S,["sortDefault"]),m.sortIcon=S,m.onmousedown=function(){r.sortClick=!0},m.onmouseup=function(t){t=t||event,r.getMouseButton(t)===r.mouseType.mtLeft&&(this.sortState=this.state,this.sortIndex=this.colIndex,this.colIndex!=r.colIndex&&(r.colIndex=this.colIndex),r.doSortAndFilter(this.sortIndex,this.sortState))},this.sortTables[a.name]=m}m.state="none",m.style.display="none",o.sortDiv.appendChild(m),null!=o.childNodes[0]?o.insertBefore(o.sortDiv,o.childNodes[0]):o.appendChild(o.sortDiv)}this._initTitleEvent(o),this.setStyle(o,"treeListTitle"),f++}for(this._showExpand&&1==p&&(g>f?o=n.cells[f]:(o=n.insertCell(f),g++),o.style.width=this.getOption().expandWidth+"px",this._setHtml(o,"+",!1),o.setAttribute("rowSpan",this.getOption().titleRowCount-1),this.setStyle(o,"treeListTitle"),this.addStyle(o,"listbox_expand"),this._pExpandCol=o,this._clearCellEvent(o),o.onclick=function(){"-"===this.innerHTML?(r.fullCollapse(),r._setHtml(this,"+",!1)):(r.fullExpand(),r._setHtml(this,"-",!1)),r.refresh()},f++);g>f;)n.deleteCell(g-1),g--}},_createPager:function(){var t=this.gridTable.rows.length,e=null,i=null;(i=(e=t>this.getOption().titleRowCount?this.gridTable.rows[t-1]:this.gridTable.insertRow(t)).cells.length>0?e.cells[0]:e.insertCell(0)).style.height=this.getOption().rowHeight+"px",i.style.padding="0px",i.style.border="0px solid green",i=e.cells.length>1?e.cells[1]:e.insertCell(1);var n=this._colCount-this._hideCount;this._showExpand&&n++,i.setAttribute("colSpan",n),this.pageObj.setParent(i),i.style.paddingRight="8px",this.setStyle(i,"gridCell")},_mulSelectStyle:function(t,e){var i=t.parentNode.node,n=t.cellIndex;this.mulCellSelect&&i.scrIndex<=this.selRect.endRowNode.getIndex()&&i.scrIndex>=this.selRect.beginRowNode.getIndex()&&n<=this.selRect.endColIndex&&n>=this.selRect.beginColIndex&&(this.focus?(this.dataSet.getCurNode()===e&&t.colIndex==this.colIndex?"gridCell"!==t.className&&this.setStyle(t,"gridCell"):("gridSelRow"!=t.className&&this.setStyle(t,"gridSelRow"),this.hasCopy&&this.addStyle(t,"cellCopySate")),n==this.selRect.beginColIndex&&this.addStyle(t,"borderLeftFocus"),n==this.selRect.endColIndex&&this.addStyle(t,"borderRightFocus"),n<=this.selRect.endColIndex&&n>=this.selRect.beginColIndex&&(i.getIndex()==this.selRect.beginRowNode.getIndex()&&this.addStyle(t,"borderTopFocus"),i.getIndex()==this.selRect.endRowNode.getIndex()&&this.addStyle(t,"borderBottomFocus"))):"gridNoFocusSelRow"!==t.className&&this.setStyle(t,"gridNoFocusSelRow"))},_refreshRow:function(e,i,n,s,o,l){var r=this._colModels,a=null;i<e-1?a=this.gridTable.rows[i]:(a=this.gridTable.insertRow(i),e++);var h=a.cells.length;a.node=o;var c=null,u="gridReadonly";n%2==0&&(u="gridCell"),s.recNo===o.recNo&&this.focus&&null!=this.selRect.beginRowNode&&null!=this.selRect.endRowNode&&this.selRect.beginRowNode.getIndex()==this.selRect.endRowNode.getIndex()&&(u="gridSelRow");var d=this,p=null,g=0,f=0,y=null;for(h>f?y=a.cells[f]:(y=a.insertCell(f),h++),this._setHtml(y,"",!1),y.style.height=this.getOption().rowHeight+"px",y.style.width="1px",y.id="common_td",y.row=a,this.setStyle(y,""),g++,f++;g<=this._colCount;g++){p=r[g-1];var m=u;if(f==this.colIndex&&"gridSelRow"==m&&(m+=" focus"),!0!==p.hidden){f<h?y=a.cells[f]:(y=a.insertCell(f),h++),y.id="gridborder",p.name===this._firstFieldName&&(c=y);var v=this.dataSet.getValue(p.name,o);!0!==l&&!0===p.sum&&(null==this._curSum.data[p.name]&&(this._curSum.data[p.name]=0),this._curSum.data[p.name]+=parseFloat(v,10));var C=this.dataSet.getDisplay(p.name,v,o);if(this.hasbind("onFormat_"+p.name))"string"==typeof(C=this.trigger("onFormat_"+p.name,[p.name,v,C,o]))?this._setHtml(y,C,!1):C.length>0?y.appendChild(C[0]):y.appendChild(C);else if(!0===l||"checkBox"!==p.editType&&"onoff"!==p.editType)if(!0!==l&&"radio"==p.editType)this._setHtml(y,"",!1),null==y.radio&&(y.radio=new t.ui.input.checkbox({type:"radio"})),y.appendChild(y.radio.getContainer()),v===p.isCheck?y.radio.setCheck(!0):y.radio.setCheck(!1),y.radio._node=o,y.radio._cm=p,y.radio.bind("onClick",function(){var t=this._cm.isCheck;this.getCheck()||(t=this._cm.unCheck),d._doRadioClick(this._cm,t,this._node);var e=this.getContainer().parentElement;d.doSelect(e,e.colIndex)},!0);else if(!0===p.link){var S=y;null==S.al&&(S.al=this.createElement("span"),S.al.onmouseup=function(){var t=d.dataSet.getCurNode();d.dataSet.beginUpdate(),d.dataSet.select(this._node),this._node.option[this._fieldName].linkClick=!0,!1!==d.trigger("onLinkClick",[d,this._fieldName,this._node])&&d.dataSet.select(t),d.dataSet.endUpdate(!1)}),!0===o.option[p.name].linkClick?this.setStyle(S.al,"link_visited"):this.setStyle(S.al,"link"),S.al._node=o,S.al._fieldName=p.name,S.al.id=this.dataSet.getIndex(),"string"==typeof C&&(C=C.replace(/\n/g,"<br/>")),this._setHtml(S.al,C),this._setHtml(S,""),S.appendChild(S.al)}else"string"==typeof C&&(C=C.replace(/\n/g,"<br/>")),this._setHtml(y,C,!1);else if(this._setHtml(y,"",!1),null==y.checkBox&&(y.checkBox=new t.ui.input.checkbox),y.appendChild(y.checkBox.getContainer()),v===p.isCheck?y.checkBox.setCheck(!0):y.checkBox.setCheck(!1),y.checkBox._node=o,y.checkBox._cm=p,y.checkBox.bind("onClick",function(){d._checkBox=!0;var t=d.dataSet.getValue(this._cm.name,this._node);t=t==this._cm.isCheck?this._cm.unCheck:this._cm.isCheck,d._doCheckBoxClick(this._cm,t,this._node);var e=this.getContainer().parentElement;d.doSelect(e,e.colIndex)},!0),"onoff"===p.editType){null==y.checkBox.onoff&&(y.checkBox.onoff=new t.ui.button({move:!0,width:40,height:22,common:["onoff_off","onoff_on"]})),y.checkBox.hide(),y.checkBox.onoff.setParent(y),!0===y.checkBox.getCheck()?y.checkBox.onoff.setState(1):y.checkBox.onoff.setState(0);var b=y.checkBox.onoff.getControl();"center"==p.align?(b.style.marginLeft="",b.style.margin="auto"):"right"==p.align?(b.style.margin="",b.style.marginLeft="auto"):(b.style.margin="",b.style.marginLeft=""),y.checkBox.onoff.bind("onclick",y.checkBox,function(t){d._checkBox=!0;var e=d.dataSet.getValue(t._cm.name,t._node);e=e==t._cm.isCheck?t._cm.unCheck:t._cm.isCheck,d._doCheckBoxClick(t._cm,e,t._node),t.setCheck(1===this._stateValue),this.focus=!1},!0)}y.isBox=!1,y.colIndex=y.cellIndex,y.style.textAlign=this.getColAlign(p.name),this.trigger("onCellDraw",[this.dataSet,p.name,y,o]),this.hasbind("onCellDraw_"+p.name)&&this.trigger("onCellDraw_"+p.name,[this.dataSet,p.name,y,o]),this.setStyle(y,m),y.style.paddingLeft="4px",y.style.paddingRight="4px",this._mulSelectStyle(y,s),this._clearCellEvent(y),!0!==l&&this._initCellEvent(y),f++}}for(this._showExpand?(h>f?y=a.cells[f]:(y=a.insertCell(f),h++),y.id="gridborder",y.style.width=this.getOption().expandWidth+"px",y.style.textAlign="center",!0===o._expanded?this._setHtml(y,"-",!1):this._setHtml(y,"+",!1),this.setStyle(y,u),this.addStyle(y,"listbox_expand"),this._clearCellEvent(y),y.onclick=function(){var t=this.parentNode.node;!0===t._expanded?(d.collapse(this.parentNode,this.parentNode.boxrow),d._setHtml(this,"+",!1),t._expanded=!1):(d.expand(this.parentNode,this.parentNode.boxrow),d._setHtml(this,"-",!1),t._expanded=!0),d._refreshExpandAll()},f++,g++):o._expanded=!1;h>f;)a.deleteCell(h-1),h--;var x=i+1,_=null;x<e-1?_=this.gridTable.rows[x]:(e++,(_=this.gridTable.insertRow(x)).isBox=!0),a.boxrow=_,a.firstCol=c,_.mrow=a;var w=this._colCount+1-this._hideCount;for(h=_.cells.length,f=0,_.cells.length>f?y=_.cells[f]:(y=_.insertCell(f),h++),this._setHtml(y,"",!1),this.setStyle(y,""),y.setAttribute("colSpan",1),y.id="gridborder",f++,!0===this.getOption().firstSpan&&(!0===o._expanded&&c.setAttribute("rowSpan",2),w--),_.cells.length>f?y=_.cells[f]:(y=_.insertCell(f),h++),y.id="gridborder",f++,y.setAttribute("colSpan",w),this.refreshBox(y,c,o,s,l),this.setStyle(y,u),y.onclick=!0!==l?function(){d.doSelect(this.parentNode.mrow.cells[0],d.colIndex)}:null,y.style.height=this.getOption().rowHeight+"px",!0===o._expanded?_.style.display="":(_.style.display="none",c.setAttribute("rowSpan",1));h>f;)a.deleteCell(h-1),h--;r=null},refresh:function(){this.getOption().titleSheets,this._colModels;var t=this.gridTable.rows.length,e=this.getOption().titleRowCount+2*this.getOption().pageSize,i=0,n=this.dataSet.getRecordCount();this.getOption().pageSize===this.getI18n("qzz.all","全部")||this.hasbind("onPageChanged")?i=0:(i=(this.getOption().pageIndex-1)*this.getOption().pageSize,(n=this.getOption().pageSize+i)>this.dataSet.getRecordCount()&&(n=this.dataSet.getRecordCount()));var s=0,o=this.getOption().titleRowCount,l=this.dataSet.getCurNode();this.dataSet.beginUpdate(),this.dataSet.gotoChild(i,this.dataSet.rootNode);var r=!1;for(this._curSum.data={},this.mulCellSelect=this.selRect.beginColIndex<this.selRect.endColIndex||null!=this.selRect.beginRowNode&&this.selRect.beginRowNode.getIndex()<this.selRect.endRowNode.getIndex();o<e&&i<n&&!this.dataSet.isEof();o+=2){var a=this.dataSet.getCurNode();this._refreshRow(t,o,s,l,a),r=r||a._expanded,s++,i++,this.dataSet.next()}var h="";if(!0===this.getOption().pageSummary){for(var c=0,u=this._colModels.length;c<u;c++)if(!0!==(d=this._colModels[c]).hidden){h=d.name;break}""!==h&&(this._curSum.data[h]=this.getOption().pageSummaryText),this._refreshRow(t,o,s,l,this._curSum,!0),r=r||this._curSum._expanded,s++,i++,o+=2}if(!0===this.getOption().summary){if(""==h)for(c=0,u=this._colModels.length;c<u;c++){var d;if(!0!==(d=this._colModels[c]).hidden){h=d.name;break}}""!==h&&this.dataSet.setSummary(h,this.getOption().summaryText),this._refreshRow(t,o,s,l,this.dataSet.rootNode,!0),r=r||this.dataSet.rootNode._expanded,s++,i++,o+=2}for(this.dataSet.select(l),this.dataSet.endUpdate(!1);t-1>o;)this.gridTable.deleteRow(t-2),t--;if(null!=this._pExpandCol&&(r?this._setHtml(this._pExpandCol,"-",!1):this._setHtml(this._pExpandCol,"+",!1)),this.refreshSortState(),this._autoHeight(),this.thisWindow.style.overflow="visible",null!=this.copyInput&&this.dataSet.getRecordCount()>0&&this.focus){this.copyInput.value=this.getCopyData();var p=this.copyInput;this._asynRun(function(){0==this.cellMouseDown&&p.offsetHeight>0&&(p.select(),p.focus()),p=null,that=null},10)}},getFieldName:function(t){null==t&&(t=this.colIndex);var e=this._colModels[t-1];return null!=e?e.name:""},refreshSortState:function(t){null==t&&(t=this.getFieldName());var e=this.sortTables[t];if((!1!==this.getOption().filter||!1!==this.getOption().sort)&&null!=e&&0!=this.getColModel(t).filter){e.colIndex=this.colIndex,e.style.display="";var i=this.dataSet.getFilterState(t);e.filtered=i,this._sortFieldName==t?("none"==e.sortState?this.dataSet.filtered&&i?this.setStyle(e.sortIcon,"filter"):this.setStyle(e.sortIcon,"sortDefault"):"up"==e.sortState?this.dataSet.filtered&&i?this.setStyle(e.sortIcon,"filterUp"):this.setStyle(e.sortIcon,"sortUp"):"down"==e.sortState&&(this.dataSet.filtered&&i?this.setStyle(e.sortIcon,"filterDown"):this.setStyle(e.sortIcon,"sortDown")),e.state=e.sortState):(this.dataSet.filtered&&i?this.setStyle(e.sortIcon,"filter"):this.setStyle(e.sortIcon,"sortDefault"),e.state="none")}for(var n in this.sortTables){var s=this.sortTables[n];n!==t&&(1!=s.filtered&&(s.style.display="none"),n!=this._sortFieldName&&null!=s&&"none"!=s.sortState&&(s.sortState="none")),s=null}},getColModel:function(t){if(null==this._colModelJson&&(this._colModelJson={}),null==this._colModelJson[t])for(var e=0,i=this._colModels.length;e<i;e++){var n=this._colModels[e];if(n.name===t){this._colModelJson[t]=n;break}}return this._colModelJson[t]},getColAlign:function(t){var e="",i=this.getColModel(t),n="";return null!=i&&(null!=i.align&&(e=i.align),n=i.dataType),(null==e||""===e)&&(null!=n&&""!==n||(n="string"),e="number"===n||"int"===n||"float"===n?"right":"string"!=n?"center":"left"),e},collapse:function(t,e){e.style.display="none",!0===this.getOption().firstSpan&&null!=t.firstCol&&t.firstCol.setAttribute("rowSpan",1),this._autoHeight()},expand:function(t,e){e.style.display="",!0===this.getOption().firstSpan&&null!=t.firstCol&&t.firstCol.setAttribute("rowSpan",2),this._autoHeight()},fullExpand:function(){this.beginUpdate();var t=this.dataSet.getCurNode();for(this.dataSet.first();!this.dataSet.isEof();)this.dataSet.getCurNode()._expanded=!0,this.dataSet.next();!0===this.getOption().pageSummary&&(this._curSum._expanded=!0),!0===this.getOption().summary&&(this.dataSet.rootNode._expanded=!0),this.dataSet.select(t),this.endUpdate(!1)},fullCollapse:function(){this.beginUpdate();var t=this.dataSet.getCurNode();for(this.dataSet.first();!this.dataSet.isEof();)this.dataSet.getCurNode()._expanded=!1,this.dataSet.next();!0===this.getOption().pageSummary&&(this._curSum._expanded=!1),!0===this.getOption().summary&&(this.dataSet.rootNode._expanded=!1),this.dataSet.select(t),this.endUpdate(!1)},_refreshExpandAll:function(){this.beginUpdate();var t=this.dataSet.getCurNode(),e=!1;for(this.dataSet.first();!this.dataSet.isEof();)e=e||this.dataSet.getCurNode()._expanded,this.dataSet.next();!0===this.getOption().pageSummary&&(e=e||this._curSum._expanded),!0===this.getOption().summary&&(e=e||this.dataSet.rootNode._expanded),e?this._setHtml(this._pExpandCol,"-",!1):this._setHtml(this._pExpandCol,"+",!1),this.dataSet.select(t),this.endUpdate(!1)},_checkAll:function(t,e){this.beginUpdate();var i=this.dataSet.getCurNode();this.dataSet.first();for(var n=this.getColModel(t);!this.dataSet.isEof();)!0===e?this.dataSet.setValue(t,n.isCheck):this.dataSet.setValue(t,n.unCheck),this.dataSet.next();this.dataSet.select(i),this.endUpdate(!1),this.refresh()},_refreshCheckAll:function(t){"string"==typeof t&&(t=[t]),this.beginUpdate();for(var e=this.dataSet.getCurNode(),i={},n=0,s=t.length;n<s;n++)i[t[n]]=!1;for(this.dataSet.first();!this.dataSet.isEof();){var o=!0;for(n=0,s=t.length;n<s;n++){var l=t[n],r=this.getColModel(l);i[l]=i[l]||this.dataSet.getValue(l)==r.unCheck,o=o&&i[l]}if(o)break;this.dataSet.next()}for(n=0,s=t.length;n<s;n++){var a=this.allCheckBox[t[n]];null!=a&&(1==i[t[n]]||0==this.dataSet.getRecordCount()?a.setCheck(!1):a.setCheck(!0))}this.dataSet.select(e),this.endUpdate(!1)},doBlur:function(){this.refresh()},doFocus:function(){!0!==this.cellMouseDown&&this.refresh()},_onselectstart:function(t){var e=t||window.event,i=e.target||e.srcElement,n=!1;return this.shiftKeyDown||(n="INPUT"==i.tagName||"TEXTAREA"==i.tagName),e.returnValue=n,n},doSelect:function(t,e){var i=t.parentNode.node;if(this.colIndex=e||t.cellIndex,this.dataSet.select(i),null==this.selRect.beginRowNode&&(this.selRect.beginRowNode=i,this.selRect.endRowNode=i),this.refresh(),this.trigger("onSelect",[i]),"function"==typeof this.onClick)try{this.onClick(i,this.getFieldName())}catch(t){this.logError("[onClick]ERR:"+t.message)}this.trigger("onClick",[i,this.getFieldName()])},doCellDBClick:function(t,e){if("function"==typeof this.onDBClick)try{this.onDBClick(this)}catch(t){this.logError("[onDBClick] error:"+t.message+t.stack)}this.trigger("onDBClick",[this])},refreshBox:function(e,i,n,s,o){n._expanded;var l=e.boxTable,r=this._getRectWidth();null==l&&(l=this.createElement("TABLE"),this.setStyle(l,"treeListGrid"),e.appendChild(l),e.boxTable=l,l.style.margin="8px",l.onselectstart=this._onselectstart);var a=this.getNumberValue(this.gridTable.rows[0].cells[i.cellIndex].style.width,0);l.style.width=r-18-8-a+"px";for(var h=this,c=parseInt((r-16)/250,10),u=this._colModels.length,d=this._colCount,p=0,g=l.rows.length,f=null,y=(e=null,(r-150*c-18)/c),m=this.getOption().titleSheets;d<u;){p<g?f=l.rows[p]:(f=l.insertRow(p),g++);for(var v=f.cells.length,C=0;C<c;C++){var S=2*C;for(S<v?e=f.cells[S]:(e=f.insertCell(S),v++),e.style.height=this.getOption().boxRowHeight+"px",e.style.width="150px",e.style.textAlign="right",e.style.fontWeight="bold",cm=this._colModels[d];d<u&&null!=cm&&!0===cm.hidden;)d++,cm=this._colModels[d];if(d<u){var b=this.getOption().titleRowCount-1,x=m[b][d],_=x.caption;for(b--;b>=1;)x.rowIndex!=m[b][d].rowIndex&&(_=m[b][d].caption+"/"+_,x=m[b][d]),b--;this._setHtml(e,_+":",!1)}else this._setHtml(e,"",!1),e.colIndex=-1,this.setStyle(e,"");if(++S<v?e=f.cells[S]:(e=f.insertCell(S),v++),e.style.height=this.getOption().boxRowHeight+"px",e.style.width=y+"px",e.isBox=!0,e.node=n,d<u){if(this._setHtml(e,"",!1),!0===o||"checkBox"!==cm.editType&&"onoff"!==cm.editType)if(!0!==o&&"radio"==cm.editType)this._setHtml(e,"",!1),null==e.radio&&(e.radio=new t.ui.input.checkbox({type:"radio"})),e.appendChild(e.radio.getContainer()),this.dataSet.getValue(cm.name)===cm.isCheck?e.radio.setCheck(!0):e.radio.setCheck(!1),e.radio._node=n,e.radio._cm=cm,e.radio.bind("onClick",function(){var t=this._cm.isCheck;this.getCheck()||(t=this._cm.unCheck),h._doRadioClick(this._cm,t,this._node);var e=this.getContainer().parentElement;h.doSelect(e,e.colIndex)},!0);else{var w=this.dataSet.getDisplay(cm.name,null,n);if(!0===cm.link){var T=e;null==T.al&&(T.al=this.createElement("span"),T.al.onmouseup=function(){var t=h.dataSet.getCurNode();h.dataSet.beginUpdate(),h.dataSet.select(this._node),this._node.option[this._fieldName].linkClick=!0,!1!==h.trigger("onLinkClick",[h,this._fieldName,this._node])&&h.dataSet.select(t),h.dataSet.endUpdate(!1)}),!0===n.option[cm.name].linkClick?this.setStyle(T.al,"link_visited"):this.setStyle(T.al,"link"),T.al._node=n,T.al._fieldName=cm.name,T.al.id=this.dataSet.getIndex(),this._setHtml(T.al,w),this._setHtml(T,""),T.appendChild(T.al)}else this._setHtml(e,w,!1)}else if(null==e.checkBox&&(e.checkBox=new t.ui.input.checkbox),e.appendChild(e.checkBox.getContainer()),this.dataSet.getValue(cm.name)===cm.isCheck?e.checkBox.setCheck(!0):e.checkBox.setCheck(!1),e.checkBox._node=n,e.checkBox._cm=cm,e.checkBox.bind("onClick",function(){h._checkBox=!0;var t=h.dataSet.getValue(this._cm.name,this._node);t=t==this._cm.isCheck?this._cm.unCheck:this._cm.isCheck,h._doCheckBoxClick(this._cm,t,this._node);var e=this.getContainer().parentElement;h.doSelect(e,e.colIndex)},!0),"onoff"===cm.editType){null==e.checkBox.onoff&&(e.checkBox.onoff=new t.ui.button({move:!0,width:40,height:22,common:["onoff_off","onoff_on"]})),e.checkBox.hide(),e.checkBox.onoff.setParent(e),!0===e.checkBox.getCheck()?e.checkBox.onoff.setState(1):e.checkBox.onoff.setState(0);var N=e.checkBox.onoff.getControl();"center"==cm.align?(N.style.marginLeft="",N.style.margin="auto"):"right"==cm.align?(N.style.margin="",N.style.marginLeft="auto"):(N.style.margin="",N.style.marginLeft=""),e.checkBox.onoff.bind("onclick",e.checkBox,function(t){h._checkBox=!0;var e=h.dataSet.getValue(t._cm.name,t._node);e=e==t._cm.isCheck?t._cm.unCheck:t._cm.isCheck,h._doCheckBoxClick(t._cm,e,t._node),t.setCheck(1===this._stateValue),this.focus=!1},!0)}e.style.paddingLeft="8px",e.colIndex=d+1,this.colIndex==d+1&&n.recNo==s.recNo||d+1>=this.selRect.beginColIndex&&d+1<=this.selRect.endColIndex&&null!=this.selRect.beginRowNode&&n.getIndex()>=this.selRect.beginRowNode.getIndex()&&n.getIndex()<=this.selRect.endRowNode.getIndex()?this.focus?this.setStyle(e,"gridSelRow focus"):this.setStyle(e,"gridNoFocusSelRow"):this.setStyle(e,""),!0!==o?this._initCellEvent(e):this._clearCellEvent(e)}else this._setHtml(e,"",!1),e.colIndex=-1,this.setStyle(e,"");d++}for(;v>2*C;)f.deleteCell(v-1),v--;p++}for(;g>p;)l.deleteRow(g-1),g--},_doRadioClick:function(t,e,i){var n=t.name;if(null==this._radios&&(this._radios={}),e==t.isCheck){if(this.dataSet.getValue(n,i)!==e){if(this.dataSet.setValue(n,e,i),null==this._radios[n]){for(this.dataSet.beginUpdate(),this.dataSet.first();!this.dataSet.isEof();){if(this.dataSet.getValue(n)===t.isCheck){this._radios[n]=this.dataSet.getCurNode();break}this.dataSet.next(!0)}this.dataSet.select(i),this.dataSet.endUpdate()}null!=this._radios[n]&&this.dataSet.setValue(n,t.unCheck,this._radios[n]),this._radios[n]=i}if("function"==typeof this.onCheckChanged)try{this.onCheckChanged(i,e,n)}catch(t){this.logError("[onCheckChanged] error:"+t.message+t.stack)}this.trigger("onCheckChanged",[i,e,n,"@MUL"]),this.trigger("onSelectRow",[i,e,n,"@MUL"])}},_doCheckBoxClick:function(t,e,i){var n=t.name;if(this.dataSet.getValue(n,i)!=e&&this.dataSet.setValue(n,e,i),!0===t.checkAll&&(e==t.unCheck?this.allCheckBox[n].setCheck(!1):this._refreshCheckAll(n)),"function"==typeof this.onCheckChanged)try{this.onCheckChanged(i,e,n)}catch(t){this.logError("[onCheckChanged] error:"+t.message+t.stack)}this.trigger("onCheckChanged",[i,e,n,"@MUL"]),this.trigger("onSelectRow",[i,e,n,"@MUL"])},value:function(t,e){if(null==t)return this.getOption().dataList;if(1!=this._lockValue){if(this.getOption().dataList=t,this.isArray(this.getOption().dataList)){var i=this;this.dataSet.setItemList(this.getOption().dataList,function(){if(i.dataSet.first(),i.fullCollapse(),!1===i.hasbind("onPageChanged")&&(i.getOption().totalCount=i.dataSet.getRecordCount(),i.pageObj.setTotalCount(i.getOption().totalCount)),i.refresh(),"function"==typeof i.onAfterLoad)try{i.onAfterLoad()}catch(t){i.logError("[onAfterLoad] error:"+t.message+t.stack)}i.trigger("gridComplete",[]),"function"==typeof e&&e.apply(i)})}}else"function"==typeof this._icpData&&this._icpData(t)},getWidth:function(){var t=0;return this.getOption().autoWidth&&(t=this.thisWindow.offsetWidth),0===t&&(t=this.base()),t},_initTitleEvent:function(t){var e=this;t.onmouseover=function(t){t=t||window.event,e.doTitleMouseOver(this,t)},t.onmousemove=function(t){t=t||window.event,e.doTitleMouseMove(this,t)},t.onmousedown=function(t){t=t||window.event,e.doTitleMouseDown(this,t)},t.onmouseup=function(t){t=t||window.event,e.doTitleMouseUp(this,t)},t.ondblclick=function(t){t=t||window.event,e.doTitleDBClick(this,t)}},_clearCellEvent:function(t){t.onclick=null,t.ondblclick=null,t.onmouseup=null,t.onmousedown=null,t.onmouseover=null,t.onmousemove=null},_initCellEvent:function(t){var e=this;t.onmouseover=function(t){t=t||window.event,e.doCellMouseOver(this,t)},t.onmousedown=function(t){t=t||window.event,e.doCellMouseDown(this,t)},t.onmouseup=function(t){t=t||window.event,e.doCellMouseUp(this,t)},t.ondblclick=function(t){t=t||window.event,e.doCellDBClick(this,t)}},doTitleDBClick:function(t,e){},_getColWidth:function(t){var e=[],i=parseInt(t.getAttribute("colSpan"),10);if(i>0)for(var n=0,s=0;s<i;s++){for(var o=this.gridTable.rows[0].cells[t.colIndex+s+n+1];"none"==o.style.display;)n++,o=this.gridTable.rows[0].cells[t.colIndex+s+n+1];e[s]=this._getNumberValue(o.style.width,0)}return e},doTitleMouseDown:function(t,e){if(this.getMouseButton(e)==this.mouseType.mtLeft&&!this.sortClick){this.titleMouseDown=!0,this.curTitleCell=t,this.curTitleCellWidth=this._getColWidth(t);var i=this._getNumberValue(t.getAttribute("colspan"),1);this.curOptionWidth=[];for(var n=t.colIndex;n<t.colIndex+i;n++)this.curOptionWidth.push(this._colModels[n].width);t.colIndex+i+1<=this._colCount?(this.nextTitleCell=this.gridTable.rows[0].cells[t.colIndex+i+1],this.nextTitleCellWidth=this._getNumberValue(this.nextTitleCell.style.width),this.nextOptionWidth=this._colModels[this.nextTitleCell.cellIndex-1].width):(this.nextTitleCell=null,this.nextTitleCellWidth=0,this.nextOptionWidth=0),this.curMouseLeft=this.mouseLeft,this.selMulCol=!1}this.focus||this.setFocus()},doTitleMouseUp:function(t,e){this.getMouseButton(e)!=this.mouseType.mtLeft||this.sortClick||this.resizeState||this.titleDragState||this.selMulCol||(e.ctrlKey&&1==t.cellIndex?(this.colIndex=1,this.selRect.beginColIndex=1,this.selRect.endColIndex=this._colModels.length):(this.selRect.beginColIndex=t.colIndex+1,this.selRect.endColIndex=t.colIndex+parseInt(t.getAttribute("colSpan"),10),this.colIndex=t.colIndex+1),this.dataSet.getRecordCount()>0&&(this.dataSet.beginUpdate(),this.dataSet.last(),this.selRect.endRowNode=this.dataSet.getCurNode(),this.dataSet.first(),this.selRect.beginRowNode=this.dataSet.getCurNode(),this.dataSet.endUpdate(!1)),this.focus||this.setFocus(),this.refresh()),this.trigger("onHeaderClick",!0),this.selMulCol=!1},doTitleMouseMove:function(t,e){if(!this.titleMouseDown){var i=t.getBoundingClientRect(),n=(e.clientX,t.offsetWidth),s=n-(e.clientX-i.left),o=this.getNumberValue(t.getAttribute("colspan"),1),l=t.colIndex;s<10&&l+o<this._colCount?(this.resizeState=!0,this.titleDragState=!0,this.getBrowser("safari")?this.thisWindow.style.cursor="e-resize":this.thisWindow.style.cursor="col-resize"):(this.titleDragState=!1,this.resizeState=!1,this.thisWindow.style.cursor=""),this.mouseLeft=e.clientX,null,i=null,n=null,s=null}},doTitleMouseOver:function(t,e){this.titleMouseDown&&!this.titleDragState&&(this.selMulCol=!0,this.curTitleCell.colIndex<=t.colIndex?(this.selRect.beginColIndex=this.curTitleCell.colIndex+1,this.selRect.endColIndex=t.colIndex+this.getNumberValue(t.getAttribute("colSpan"),1)):(this.selRect.beginColIndex=t.colIndex+1,this.selRect.endColIndex=this.curTitleCell.colIndex+1),this.selRect.beginColIndex<1&&(this.selRect.beginColIndex=1),this.colIndex=this.curTitleCell.colIndex+1,this.dataSet.getRecordCount()>0&&(this.dataSet.beginUpdate(),this.dataSet.last(),this.selRect.endRowNode=this.dataSet.getCurNode(),this.dataSet.first(),this.selRect.beginRowNode=this.dataSet.getCurNode(),this.dataSet.endUpdate(!1)),this.refresh())},doCellMouseDown:function(t,e){if(this.getMouseButton(e)==this.mouseType.mtLeft&&!0!==this._checkBox){this.cellMouseDown=!0,!1===this.focus&&this.setFocus();var i=t.parentNode.node;!0===t.isBox&&(i=t.node);var n=null;null!=this.curCell&&null!=this.curCell.parentNode&&(n=this.curCell.parentNode.node,!0===this.curCell.isBox&&(n=this.curCell.node)),e.shiftKey?(t.cellIndex>=this.curCell.cellIndex?(this.selRect.beginColIndex=this.curCell.colIndex,this.selRect.endColIndex=t.colIndex):t.cellIndex<this.curCell.colIndex&&(this.selRect.endColIndex=this.curCell.colIndex,this.selRect.beginColIndex=t.colIndex),n=this.dataSet.getCurNode(),i.getIndex()>=n.getIndex()?(this.selRect.beginRowNode=n,this.selRect.endRowNode=i):i.getIndex()<n.getIndex()&&(this.selRect.beginRowNode=i,this.selRect.endRowNode=n),this.refresh()):(this.curCell=t,0==this.curCell.colIndex?this.selARow=!0:this.curColIndex=t.colIndex,this._selRect=this.selRect,this.selRect={beginColIndex:t.colIndex,endColIndex:t.colIndex,beginRowNode:i,endRowNode:i},this.doSelect(t,t.colIndex))}},doCellMouseUp:function(t,e){this.getMouseButton(e),this.mouseType.mtLeft},doCellMouseOver:function(t,e){if(0!=this._enabled&&!0===this.cellMouseDown&&null!=this.curCell){this.selARow||e.ctrlKey?(this.selRect.beginColIndex=1,this.selRect.endColIndex=this._colModels.length,this.colIndex=1):t.colIndex>0&&(this.curCell.colIndex<=t.colIndex?(this.selRect.beginColIndex=this.curCell.colIndex,this.selRect.endColIndex=t.colIndex):(this.selRect.beginColIndex=t.colIndex,this.selRect.endColIndex=this.curCell.colIndex),this.selRect.beginColIndex<=0&&(this.selRect.beginColIndex=1),this.colIndex=this.curCell.colIndex);var i=null;null!=this.curCell&&(i=this.curCell.parentNode.node,!0===this.curCell.isBox&&(i=this.curCell.node));var n=t.parentNode.node;!0===t.isBox&&(n=t.node),null!=i&&null!=n&&(i.getIndex()<=n.getIndex()?(this.selRect.beginRowNode=i,this.selRect.endRowNode=n):(this.selRect.beginRowNode=n,this.selRect.endRowNode=i)),this.isCellMouseOver=!0,this.refresh()}},doMouseDown:function(t){},doMouseUp:function(t){if(this.titleMouseDown=!1,this.sortClick=!1,this.cellMouseDown=!1,this._checkBox=!1,null!=this.copyInput&&this.dataSet.getRecordCount()>0&&this.focus){var e=this.copyInput;this._asynRun(function(){0==this.cellMouseDown&&e.offsetHeight>0&&(e.select(),e.focus()),e=null,that=null},10)}},_setColWidth:function(t,e,i,n,s){var o=parseInt(t.getAttribute("colSpan")||1,10),l=parseInt(s/o,10),r=0,a=0,h=0,c=null;if(n-s>0){for(this._setNumberValue(i,"width",n-s),this._colModels[i.cellIndex-1].width=this.nextOptionWidth-s;r<o-1;r++){for(c=this.gridTable.rows[0].cells[t.colIndex+r+h+1];"none"==c.style.display;)h++,c=this.gridTable.rows[0].cells[t.colIndex+r+h+1];c=null,a+=l;var u=e[r]+l,d=t.colIndex+r+h+1;u>0&&(this._setNumberValue(this.gridTable.rows[0].cells[d],"width",u),this._colModels[d-1].width=this.curOptionWidth[r]+l),e[r]}for(c=this.gridTable.rows[0].cells[t.colIndex+r+h+1];"none"==c.style.display;)h++,c=this.gridTable.rows[0].cells[t.colIndex+r+h+1];c=null,(u=e[r]+(s-a))<0||(e[r],d=t.colIndex+r+h+1,u>0&&(this._setNumberValue(this.gridTable.rows[0].cells[d],"width",u),this._colModels[d-1].width=this.curOptionWidth[r]+u-e[r]),this._autoHeight())}},doMouseMove:function(t){if(this.mouseLeft=t.clientX,this.titleMouseDown&&this.titleDragState){var e=this.mouseLeft-this.curMouseLeft;this._setColWidth(this.curTitleCell,this.curTitleCellWidth,this.nextTitleCell,this.nextTitleCellWidth,e)}return!1},_initFilterWindow:function(){var e=this;this.pfilter=new t.ui.drop.popfilter,this.pfilter.setParent(e.getBody()),this.pfilter.bind("onSort",function(t,i){e.setFocus(),e.setSort(t,i)}),this.pfilter.bind("onClearFilter",function(t){e.setFocus(),e.setSort(t,"none",!1,function(){e.dataSet.clearFilterText(function(){for(var t in e.sortTables){var i=e.sortTables[t];null!=i&&(i.filtered=!1),i=null}e.getOption().totalCount=e.dataSet.getRecordCount(),e.pageObj.setTotalCount(e.getOption().totalCount),e.refresh(),e.trigger("onFiltered",[e.dataSet])})})}),this.pfilter.bind("onFilter",function(t,i,n){e.setFocus(),e.setSort(t,"none",!1,function(){null!=n&&n.length<i&&"all"==n[0].id&&n.splice(0,1),e.dataSet.addFilterText(t,n,function(){e.getOption().totalCount=e.dataSet.getRecordCount(),e.pageObj.setTotalCount(e.getOption().totalCount),e.refresh(),e.trigger("onFiltered",[e.dataSet])})})}),this.pfilter.bind("onCancel",function(){e.setFocus()})},doSortAndFilter:function(t,e){var i=this.getFieldName(t);if(this.getColModel(i),!1!==this.getOption().filter){var n=this;this.inputFocus&&this.editObject.doBlur();var s=this.dataSet.topFilterItem;null==s||s.fieldName!==i?this.dataSet.collectFilter(i,function(){n._initFilterListBox(i,n.dataSet.filterList[i],n.dataSet.selectFilterList)}):n._initFilterListBox(i,s.all,s.sel)}else if(!1!==this.getOption().sort){n=this;var o;o="none"==e?"up":"up"==e?"down":"none",this.setSort(i,o)}},_initFilterListBox:function(t,e,i){this.pfilter.getFilterName()!==t&&(this.pfilter.setFilterName(t),this.pfilter.clearFilter());var n=this.sortTables[t].getBoundingClientRect(),s=n.left-230;s<0&&(s=0);var o=this.getScrollXY();this.pfilter.execute(o.top+n.top+13,o.left+s+16,e,i)},hideCol:function(t){"string"==typeof t&&(t=[t]);for(var e=!1,i=0,n=t.length;i<n;i++){var s=this.getColModel(t[i]);null!=s&&!1===s.hidden&&(s.hidden=!0,e=!0)}return e&&(this._initTitleSheet(),this.refreshLayout()),e},showCol:function(t){"string"==typeof t&&(t=[t]);for(var e=!1,i=0,n=t.length;i<n;i++){var s=this.getColModel(t[i]);null!=s&&!1!==s.hidden&&(s.hidden=!1,e=!0)}return e&&(this._initTitleSheet(),this.refreshLayout()),e},setSort:function(t,e,i,n){"function"==typeof i&&(n=i,i=!1);var s=this,o=s.sortTables[t];null==o||o.sortState==e?"function"==typeof n&&n.apply(s,arguments):(o.sortState=e,s.hasbind("onSort")?(s._sortFieldName=t,s.trigger("onSort",[t,e])):(s.dataSet.doSort(t,e,function(){s._sortFieldName=t,0!=i?s.refresh():s.dataSet.first(),"function"==typeof n&&n.apply(s,arguments)}),s.trigger("onSortCol",[s.colIndex-1,s.colIndex,s.state])))},getCopyData:function(){if(this.mulCellSelect){var t=this.dataSet.getCurNode();this.dataSet.beginUpdate(),this.dataSet.select(this.selRect.beginRowNode);for(var e=[],i=(this.option.colModels,0);!this.dataSet.isEof()&&this.dataSet.getIndex()<=this.selRect.endRowNode.getIndex();){for(var n=[],s=this.selRect.beginColIndex,o=0;s<=this.selRect.endColIndex;s++){var l=this._colModels[s-1];if(null!=l.name&&1!=l.hidden){var r=this.dataSet.getDisplay(l.name);"string"==typeof r&&(r=r.replace(/&gt;|&lt;/g,function(t){return"&gt;"===t?">":"<"})),n[o++]=""===r?" ":r}}e[i++]=n.join("\t"),this.dataSet.next()}return this.dataSet.select(t),this.dataSet.endUpdate(!1),e.join("\n")}return this.dataSet.getDisplay(this.getFieldName())},beginUpdate:function(){this.base(),this.dataSet.beginUpdate()},endUpdate:function(t){this.dataSet.endUpdate(t),this.base()},setTotalCount:function(t){this.getOption().totalCount=parseInt(t,10),this.pageObj.setTotalCount(this.getOption().totalCount)},getRangeData:function(t,e,i,n){if("function"==typeof e?(n=e,e=!1,i=!1):"function"==typeof i&&(n=i,i=!1),null==e&&(e=!1),this.isNotEmpty(t)&&"function"==typeof n){var s,o,l,r=isAll=!1,a=this;a.option,"object"==typeof t?!(r=(o=+t.begin)>(l=+t.end))&&(isAll=l+1-o===a.getOption().pageCount):"string"==typeof t?"current"===t?r=!0:"all"===t&&(isAll=!0):r=!0,!r&&(a._lockValue=!0),a._icpData=function(t){if(a._lockValue=!1,e){var s=[],o=a.dataSet,l=o.getCurNode();for(var r in a.dataSet._tmpData=t,a.dataSet.transState)a.dataSet.transState[r].transed=!1;for(var h=l.data,c=0,u=t.length;c<u;c++){var d=t[c],p={};if(null!=d)for(var r in l.data=d,d){var g=d[r];if("object"==typeof g){var f={};for(var y in p[r]=f,g){var m=g[y];"string"==typeof(m=o.getDisplay(r+"."+y,m,l,null,i))&&m.indexOf("<")>=0&&(m=m.replace(/<(\/)?[^<>]+>/g,"")),f[y]=m}}else"string"==typeof(g=o.getDisplay(r,g,l,null,i))&&g.indexOf("<")>=0&&(g=g.replace(/<(\/)?[^<>]+>/g,"")),p[r]=g}d=null,s.push(p)}a.dataSet._tmpData=null,l.data=h,o=null,l=null,h=null,n.call({},s)}else n.call({},t);a._icpData=null},r||isAll?r?a._icpData(a.getPageData()):isAll&&(s=a._crPrms(),a._loadSerData(a.getOption().pageCount,s.ps,s.idx)):(s=a._crPrms(o,l),a._loadSerData(a.getOption().pageCount,s.ps,s.idx))}},_crPrms:function(){var t={ps:0,idx:1};if(0===arguments.length)t.ps=this.pageObj.getTotalCount();else if(2===arguments.length){var e=arguments[0],i=arguments[1]-e+1;for(e+="";e.length<5;)e=0+e;t.ps=this.pageObj.getOption().pageSize,t.idx=-+(i+e)}return t},getPageData:function(){var t=[];if(this.dataSet.getRecordCount()>0){var e=this.dataSet.getCurNode();for(this.dataSet.beginUpdate(),this.dataSet.first();!this.dataSet.isEof();)t.push(this.extend({},this.dataSet.getCurNode().data)),this.dataSet.next(!0);this.dataSet.select(e),this.dataSet.endUpdate(!1)}return t},_loadSerData:function(t,e,i){var n=this,s=this.dataSet.getRecordChanged();if(0!==s){var o=this.pageObj.getTotalCount();this.pageObj.setTotalCount(o-s,!1)}if("function"==typeof n.onPageChanged)try{n.onPageChanged(t,e,i)}catch(t){n.logError("[onPageChanged] event error!"+t.message+t.stack)}else n.hasbind("onPageChanged")&&n.trigger("onPageChanged",[t,e,i])},getPrintData:function(t,e){"function"==typeof t&&(e=t,t="all");var i={},n=this;this.getRangeData(t,!0,function(t){i[n.getName()]=t;for(var s={rn:n.summaryText},o=n.getOption().colModels,l=0,r=o.length;l<r;l++){var a=o[l];s[a.name]=n.dataSet.getDisplay(a.name,n.dataSet.getSummary(a.name))}i[n.getName()+"_sum"]=[s],"function"==typeof e&&e(i)})}}),_bindRenderFunc("qzzlistgrid",t.ui.listgrid),t.ui.listgrid}),
/*!
 * 面板控件.
 * ecp.qzz.ui.design.base.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.panel"],function(){var t=window.qzz;return t.space("ui.design"),t.ui.design.base=t.Class(t.ui.panel,{_create:function(){this.base(),this.className="Base",this._selected=!1,this.getOption().scale=this._getNumberValue(this.getOption().scale,1)},_render:function(){null==this.getOption().borderStyle&&(this.getOption().borderStyle="dashed"),null==this.getOption().borderColor&&(this.getOption().borderColor="#AAAAAA"),this.base(),"absolute"==this.getOption().lock&&(this.thisWindow.style.position="absolute"),this.getOption().top=this._getNumberValue(this.getOption().top,this.getOption().top),this.getOption().left=this._getNumberValue(this.getOption().left,this.getOption().left),!1===this.isPecent(this.getOption().width)&&(this.getOption().width=this._getNumberValue(this.getOption().width,this.getOption().width)),this.getOption().height=this._getNumberValue(this.getOption().height,this.getOption().height)},refreshTop:function(){if(null!=this.parent&&"absolute"!=this.getOption().lock){var t=this.parent.childComponent;if(null!=t&&t.length>0){for(var e=-1,i=0,n=t.length;i<n;i++)if("Panel"!=t[i].className&&t[i].index==this.index){e=i;break}e<0&&(e=t.length-1);var s=0;e>0&&(s=this._getNumberValue(t[e-1].getControl().style.top,0)),this.thisWindow.style.top=s+parseInt(this.getOption().top*this.getOption().scale,10)+"px"}}},refresh:function(){this._setNumberValue(this.thisWindow,"margin",parseInt(this._margin*this.getOption().scale,10)),this._setNumberValue(this.thisWindow,"marginLeft",parseInt(this._marginLeft*this.getOption().scale,10)),this._setNumberValue(this.thisWindow,"marginRight",parseInt(this._marginRight*this.getOption().scale,10)),this._setNumberValue(this.thisWindow,"marginTop",parseInt(this._marginTop*this.getOption().scale,10)),this._setNumberValue(this.thisWindow,"marginBottom",parseInt(this._marginBottom*this.getOption().scale,10)),this._setNumberValue(this.thisWindow,"padding",parseInt(this._padding*this.getOption().scale,10)),this._setNumberValue(this.thisWindow,"paddingLeft",parseInt(this._paddingLeft*this.getOption().scale,10)),this._setNumberValue(this.thisWindow,"paddingRight",parseInt(this._paddingRight*this.getOption().scale,10)),this._setNumberValue(this.thisWindow,"paddingTop",parseInt(this._paddingTop*this.getOption().scale,10)),this._setNumberValue(this.thisWindow,"paddingBottom",parseInt(this._paddingBottom*this.getOption().scale,10)),this._setNumberValue(this.thisWindow,"border",this._border),this._setNumberValue(this.thisWindow,"borderLeft",this._borderLeft),this._setNumberValue(this.thisWindow,"borderRight",this._borderRight),this._setNumberValue(this.thisWindow,"borderTop",this._borderTop),this._setNumberValue(this.thisWindow,"borderBottom",this._borderBottom),this._setNumberValue(this.thisWindow,"top",parseInt(this.getOption().top*this.getOption().scale,10)),this._setNumberValue(this.thisWindow,"left",parseInt(this.getOption().left*this.getOption().scale,10)),null!=this.getOption().borderStyle&&(this.thisWindow.style.borderStyle=this.getOption().borderStyle),null!=this.getOption().borderColor&&(this.thisWindow.style.borderColor=this.getOption().borderColor),!1===this.isPecent(this.getOption().width)&&this._setNumberValue(this.thisWindow,"width",parseInt(this.getOption().width*this.getOption().scale,10)),this._setNumberValue(this.thisWindow,"height",parseInt(this.getOption().height*this.getOption().scale,10)),null!=this.getOption().fontFamily&&""!==this.getOption().fontFamily&&(this.thisWindow.style.fontFamily=this.getOption().fontFamily),null!=this.getOption().fontWeight&&""!==this.getOption().fontWeight&&(this.thisWindow.style.fontWeight=this.getOption().fontWeight),null!=this.getOption().fontStyle&&""!==this.getOption().fontStyle&&(this.thisWindow.style.fontStyle=this.getOption().fontStyle),null!=this.getOption().textDecoration&&""!==this.getOption().textDecoration&&(this.thisWindow.style.textDecoration=this.getOption().textDecoration),null!=this.getOption().fontSize&&""!==this.getOption().fontSize&&this._setNumberValue(this.thisWindow,"fontSize",parseInt(this.getOption().fontSize*this.getOption().scale,10)),null!=this.getOption().textAlign&&""!==this.getOption().textAlign&&(this.thisWindow.style.textAlign=this.getOption().textAlign),this.refreshTop()},_afterRender:function(){this.base(),"function"==typeof this.refresh&&this.refresh(),this.hasbind("onAfterRender")&&this.trigger("onAfterRender",[])},setScale:function(t){"string"==typeof t&&(t=t.replace("%",""),t=parseInt(t,10)),t<=0&&(t=1),t>50&&(t/=100),this.getOption().scale=t,this.refresh(),this._scale=t},setOption:function(t,e,i){i!=e&&(this.getOption()[t]=e,this.trigger("onAttribChanged",[this,t,i,e]))},setAttribute:function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e],s=null,o=n.name;"left"==n.name?(s=this.getOption().left,this.getOption().left=n.value):"top"==n.name?(s=this.getOption().top,this.getOption().top=n.value):"width"==n.name?(s=this.getOption().width,this.getOption().width=n.value):"height"==n.name?(s=this.getOption().height,this.getOption().height=n.value):s=this.getOption()[n.name],this.setOption(n.name,n.value,s),"lineStyle"==o&&(n.name=o)}this.setFocus(),this.refresh()},getAttribute:function(){return[{name:"top",value:this.getOption().top},{name:"left",value:this.getOption().left},{name:"width",value:this.getOption().width},{name:"height",value:this.getOption().height},{name:"lock",value:this._lock||"center"}]},doFocus:function(){var t=this.getOption().selectBorder||"#888888 dashed 3px";this.thisWindow.style.outline=t,this._selected=!0,this.hasbind("onFocus")&&this.trigger("onFocus",[])},_doBlur:function(){this.thisWindow.style.outline="",this.focus=!1,this._selected=!1},setHeight:function(t){this.base(t,!1)},setWidth:function(t){this.base(t,!1)},isPecent:function(t){return/^[0-9]+%/.test(t)}}),t.ui.design.base}),
/*!
 * 面板控件.
 * ecp.qzz.ui.design.image.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.dbase"],function(){var t=window.qzz;return t.space("ui.design"),t.ui.design.image=t.Class(t.ui.design.base,{_create:function(){this.base(),this.className="Image",null==this.getOption().src&&(this.getOption().src="")},_render:function(){this.base(),this._image=this.createElement("IMG"),this._image.style.width="100%",this._image.style.height="100%",this.thisWindow.appendChild(this._image)},getAttribute:function(){var t=this.base();return("TD"==this.parent.tagName||null!=this.parent&&this.parent.tagName)&&t.splice(t.length-1,1),t.push({name:"src",value:this.getOption().src}),t.push({name:"dataField",value:this.getOption().dataField}),t},refresh:function(){this.base(),this._image.src=this.getOption().src,!1===this.getOption().transparent?this.thisWindow.style.backgroundColor="#FFFFFF":this.thisWindow.style.backgroundColor=""},setScr:function(t){this.getOption().src=t,this.refresh()}}),_bindRenderFunc("qzzimage",t.ui.design.image),t.ui.design.image}),
/*!
 * 面板控件.
 * ecp.qzz.ui.design.line.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.dbase"],function(){var t=window.qzz;return t.space("ui.design"),t.ui.design.line=t.Class(t.ui.design.base,{_create:function(){this.base(),this.className="Line",this.getOption().vertical=this.getBooleanValue(this.getOption().vertical,!1),this.getOption().length=this._getNumberValue(this.getOption().length,100),this.getOption().border=this._getNumberValue(this.getOption().border,1),this.getOption().vertical?(this.getOption().width=16,this.getOption().height=this.getOption().length):(this.getOption().width=this.getOption().length,this.getOption().height=16),this._textAry=[]},refresh:function(){this.base();var t=parseInt(this.getOption().length*this.getOption().scale),e=this.getBooleanValue(this.getOption().vertical,!1);e?(this._setNumberValue(this.thisWindow,"borderTopWidth",0),this._setNumberValue(this.thisWindow,"borderBottomWidth",0),this._setNumberValue(this.thisWindow,"borderLeftWidth",0),this._setNumberValue(this.thisWindow,"borderRightWidth",this.getOption().border),this._setNumberValue(this.thisWindow,"height",parseInt(this.getOption().length*this.getOption().scale,10)),this._setNumberValue(this.thisWindow,"width",16),this._setNumberValue(this.thisWindow,"left",this.getOption().left-16)):(this._setNumberValue(this.thisWindow,"borderTopWidth",0),this._setNumberValue(this.thisWindow,"borderBottomWidth",this.getOption().border),this._setNumberValue(this.thisWindow,"borderLeftWidth",0),this._setNumberValue(this.thisWindow,"borderRightWidth",0),this._setNumberValue(this.thisWindow,"width",parseInt(this.getOption().length*this.getOption().scale,10)),this._setNumberValue(this.thisWindow,"height",16),this.refreshTop());var i=this.getOption().text;if(this._setHtml(this.thisWindow,"",!1),null!=i){for(var n=i.length,s=parseInt(t/(n+1),10),o=this._textAry.length,l=0;l<n;l++){cstr=i.charAt(l);var r=s*(l+1)+"px",a=null;l>=o?((a=this.createElement("SPAN")).style.position="absolute",this._textAry.push(a)):a=this._textAry[l],e?(a.style.top=r,a.style.right="2px",a.style.left=""):(a.style.top="1px",a.style.left=r,a.style.right=""),this._setHtml(a,cstr),this.thisWindow.appendChild(a)}this.thisWindow.style.color=this.getOption().borderColor}},getHeight:function(){var t=this.base();return this.getOption().vertical?this.getOption().length:t+16},getAttribute:function(){var t=this.base();return t.push({name:"length",value:this.getOption().length}),t.push({name:"text",value:this.getOption().text}),t.push({name:"borderStyle",value:this.getOption().borderStyle}),t.push({name:"vertical",value:this.getOption().vertical}),t.splice(2,2),t},refreshTop:function(){this.base(),this.getOption().vertical=this.getBooleanValue(this.getOption().vertical,!1);var t=this._getNumberValue(this.thisWindow.style.top,this.getOption().top);this.getOption().vertical||this._setNumberValue(this.thisWindow,"top",t-16)}}),_bindRenderFunc("qzzline",t.ui.design.line),t.ui.design.line}),
/*!
 * 面板控件.
 * ecp.qzz.ui.design.table.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.dbase"],function(){var t=window.qzz;return t.space("ui.design"),t.ui.design.table=t.Class(t.ui.design.base,{_create:function(){this.base(),this.className="Table",this.getOption().rows=this._getNumberValue(this.getOption().rows,1),this.getOption().cols=this._getNumberValue(this.getOption().cols,1),this.getOption().heads=this._getNumberValue(this.getOption().heads,1),this._rowHeight=this._getNumberValue(this.getOption().rowHeight,24),(null==this.getOption().height||""===this.getOption().height||this.getOption().height<=10)&&(this.getOption().height=this._rowHeight*this.getOption().rows),this._headRows=1,this._fixCols=0,this._table=null,this._cellMouseDown=!1,this._selRect={brow:1,erow:1,bcol:1,ecol:1},this._sheet=[],this._selectType="td"},_render:function(){this.base(),this._table=this.createElement("TABLE"),this._table.onselectstart=this._onselectstart,this.setStyle(this._table,"noborder"),this._reset(),this._table.style.width="100%",this._table.style.height="100%",this._table.style.tableLayout="fixed",null!=this.getOption().border&&""!==this.getOption().border?this.thisWindow.style.borderWidth=this.getOption().border+"px ":this.thisWindow.style.borderWidth="1px",this.thisWindow.style.borderStyle=this.getOption().borderStyle||"solid",this._setHtml(this.thisWindow,"",!1),this.thisWindow.appendChild(this._table),this._tool=this.createElement("TABLE"),this.setStyle(this._tool,"print_table_tool");var t=this;this._tool_merg=this.createElement("DIV"),this._tool_merg.title=this.getI18n("qzz.merg","合并/拆分单元格"),this.setStyle(this._tool_merg,"print_table_tool_merg");var e=0,i=this._tool.insertRow(0).insertCell(e++);i.style.padding="1px",i.appendChild(this._tool_merg),this._tool_merg.onclick=function(e){t._mergCell()},this.thisWindow.appendChild(this._tool)},_changeCol:function(){var t=this._table.rows[0].cells.length-1,e=this.getOption().cols;if(e<t){for(var i=this.getOption().rows;i>=0;i--){for(var n=this._table.rows[i],s=t;s>e;s--){var o=null;if(o=i>0?this._sheet[i][s]:this._table.rows[0].cells[s],0==i)n.deleteCell(s);else if(null!=o&&o.parentNode.rowIndex==i)if(null==o.colSpan||1==o.colSpan){var l=o.cellIndex;n.deleteCell(l)}else o.colSpan=parseInt(o.colSpan,10)-1;o=null}n=null}for(var r=1,a=(s=1,(n=this._table.rows[0]).cells.length);s<a;s++)r+=this._getNumberValue(n.cells[s].style.width,1);n=null,this._oldWidth=r,this.setWidth(parseInt(r/this.getOption().scale,10))}else{var h=1;for(r=1,n=this._table.rows[0],i=1;i<=t;i++)o=n.cells[i],r+=this._getNumberValue(o.style.width,1),1==i&&(h=this._getNumberValue(o.style.width,1)),o=null;for(n=null,i=0;i<=this.getOption().rows;i++){n=this._table.rows[i];var c=e-t;for(s=0;s<c;s++){var u=n.cells.length;o=n.insertCell(u),0==i?(o.style.height="1px",o.style.width=h+"px",r+=h):(this._initCellEvent(o),this._setCellStyle(o)),o=null}n=null}this._oldWidth=r,this.setWidth(parseInt(r/this.getOption().scale,10))}this._refreshSheet()},_changeRow:function(){var t=this._table.rows.length-1,e=this.getOption().rows;if(this.getOption().heads>e&&(this.getOption().heads=e),e<t){var i=1,n=1;for(i=1;i<=e;i++){for(var s=(h=this._table.rows[i]).cells.length-1,o=0;o<=s;o++){var l=(a=h.cells[o]).rowSpan;null!=l&&l>e-i+1&&(a.rowSpan=e-i+1)}n+=this._getNumberValue(this._table.rows[i].cells[0].style.height,1)}for(i=t;i>e;i--)this._table.deleteRow(i);this._oldHeight=n,this.setHeight(parseInt(n/this.getOption().scale,10))}else{n=1;var r=1;for(i=1;i<=t;i++){var a=(h=this._table.rows[i]).cells[0];n+=this._getNumberValue(a.style.height,1),1==i&&(r=this._getNumberValue(a.style.height,1))}for(i=t+1;i<=e;i++){var h=this._table.insertRow(i);for(o=0;o<=this.getOption().cols;o++)a=h.insertCell(o),0==o?(a.style.width="1px",a.style.height=r+"px",n+=r):(this._initCellEvent(a),this._setCellStyle(a))}this._oldHeight=n,this.setHeight(parseInt(n/this.getOption().scale,10))}this._refreshSheet()},_reset:function(){var t=parseInt(this.getOption().width*this.getOption().scale/this.getOption().cols,10),e=parseInt(this.getOption().height*this.getOption().scale/this.getOption().rows,10),i=1,n=2;null!=this.getOption().border&&""!==this.getOption().border&&(n=parseInt(this.getOption().border,10)+2,i=parseInt(this.getOption().border,10));for(var s=this._table.rows.length-1;s>=0;s--)this._table.deleteRow(s);for(s=0;s<=this.getOption().rows;s++)for(var o=this._table.insertRow(s),l=0;l<=this.getOption().cols;l++){var r=o.insertCell(l);0==s?(r.style.height="1px",0==l?r.style.width="1px":l<this.getOption().cols?(r.style.width=t+"px",i+=t):r.style.width=parseInt(this.getOption().width*this.getOption().scale,10)-i+"px"):0==l?(r.style.width="1px",s<this.getOption().rows?(r.style.height=e+"px",n+=e):r.style.height=parseInt(this.getOption().height*this.getOption().scale,10)-n+"px"):(this._initCellEvent(r),this._setCellStyle(r))}this._refreshSheet()},_setCellStyle:function(t){this.setStyle(t,"print_table_cell"),t.style.borderStyle=this.getOption().borderStyle,t.style.borderColor=this.getOption().borderColor,null!=this.getOption().border&&""!==this.getOption().border&&(this._setNumberValue(t,"borderRightWidth",this.getOption().border),this._setNumberValue(t,"borderBottomWidth",this.getOption().border),this._setNumberValue(t,"borderTopWidth",0),this._setNumberValue(t,"borderLeftWidth",0))},_mergCell:function(){var t=this._selRect.ecol-this._selRect.bcol+1,e=this._selRect.erow-this._selRect.brow+1,i=this._sheet[this._selRect.brow][this._selRect.bcol];if(null!=i){var n=this._getNumberValue(i.colSpan,1);if(this._getNumberValue(i.rowSpan,1)==e&&n==t){i.rowSpan=1,i.colSpan=1;for(var s=this._selRect.brow;s<=this._selRect.erow;s++){for(var o=this._table.rows[s],l=this._selRect.bcol;l<=this._selRect.ecol;l++)if(s!=this._selRect.brow||l!=this._selRect.bcol){for(var r=0,a=1,h=this._sheet[s][l-a];null!=h&&h.parentNode.rowIndex!=s&&l-a>0;)a++,h=this._sheet[s][l-a];null!=h&&(r=h.cellIndex),h=o.insertCell(r+1),this._initCellEvent(h),this._setCellStyle(h),h=null}o=null}}else for(s=this._selRect.erow;s>=this._selRect.brow;s--)for(l=this._selRect.ecol;l>=this._selRect.bcol;l--)null!=(h=this._getCellObj(s,l))&&(s>this._selRect.brow||l>this._selRect.bcol?this._table.rows[s].deleteCell(h.cellIndex):(h.colSpan=t,h.rowSpan=e));i=null,this._refreshSheet()}},_getCellObj:function(t,e){for(var i=this._table.rows[t],n=null,s=1,o=i.cells.length;s<o;s++)if(this._getCellIndex(i.cells[s])==e){n=i.cells[s];break}return n},_doBlur:function(){0!=this._selected&&(this.base(),this.refresh())},doFocus:function(){this._selected&&!this._cellMouseDown||(this.base(),this.refresh())},_refreshSheet:function(){this._sheet=[];for(var t=1;t<=this.getOption().rows;t++){this._sheet[t]=[];for(var e=1;e<=this.getOption().cols;e++)this._sheet[t][e]=null}for(t=1;t<=this.getOption().rows;t++){for(var i=this._table.rows[t],n=1,s=this._sheet[t],o=(e=1,i.cells.length);e<o;e++){for(;null!=s[n];)n++;var l=this._table.rows[t].cells[e],r=this._getNumberValue(l.rowSpan,1),a=this._getNumberValue(l.colSpan,1);if(r>1||a>1)for(var h=t;h<t+r;h++)for(var c=n;c<n+a;c++)this._sheet[h][c]=l;else s[n]=l;l=null}s=null,i=null}},_refreshTdStyle:function(){for(var t=1;t<=this.getOption().rows;t++)for(var e=this._table.rows[t],i=1,n=e.cells.length;i<n;i++){var s=!1,o=e.cells[i],l=this._getCellIndex(o);this._selRect.brow<=t&&this._selRect.erow>=t&&this._selRect.bcol<=l&&this._selRect.ecol>=l&&(s=!0),s&&this._selected?this.setStyle(o,"print_table_sel"):null!=e.dataFields&&""!==e.dataFields?this.setStyle(o,"print_table_row_circle"):this.setStyle(o,"print_table_cell"),o.style.borderStyle=this.getOption().borderStyle,null==o._option&&(o._option={}),1==this.getOption().scale&&(o._option.fontSize=this._getNumberValue(o.style.fontSize,12)),1!=this.getOption().scale&&null!=o._option.fontSize&&(o.style.fontSize=parseInt(o._option.fontSize*this.getOption().scale,10)+"px"),o=null}},_refreshTdWidth:function(){if(this.isPecent(this.getOption().width));else{if(this.getOption().width=parseInt(this.getOption().width,10),null!=this._oldWidth&&this._oldWidth!=parseInt(this.getOption().width*this.getOption().scale,10)){for(var t=parseInt(this.getOption().width*this.getOption().scale,10)-this._oldWidth,e=parseInt(t/this.getOption().cols,10),i=0,n=1;n<this.getOption().cols;n++){var s=this._getNumberValue(this._table.rows[0].cells[n].style.width,1);this._setNumberValue(this._table.rows[0].cells[n],"width",s+e),i+=e}s=this._getNumberValue(this._table.rows[0].cells[this.getOption().cols].style.width,1),this._setNumberValue(this._table.rows[0].cells[this.getOption().cols],"width",s+t-i)}this._oldWidth=parseInt(this.getOption().width*this.getOption().scale,10)}},_refreshTdHeight:function(){if(this.getOption().height=parseInt(this.getOption().height,10),null!=this._oldHeight&&this._oldHeight!=parseInt(this.getOption().height*this.getOption().scale,10)){for(var t=parseInt(this.getOption().height*this.getOption().scale,10)-this._oldHeight,e=parseInt(t/this.getOption().rows,10),i=0,n=1;n<this.getOption().rows;n++){var s=this._getNumberValue(this._table.rows[n].cells[0].style.height,1);this._setNumberValue(this._table.rows[n].cells[0],"height",s+e),i+=e}s=this._getNumberValue(this._table.rows[this.getOption().rows].cells[0].style.height,1),this._setNumberValue(this._table.rows[this.getOption().rows].cells[0],"height",s+t-i)}this._oldHeight=parseInt(this.getOption().height*this.getOption().scale,10)},refresh:function(){if(this.base(),this._refreshTdWidth(),this._refreshTdHeight(),this._refreshTdStyle(),"td"==this._selectType&&!this._cellMouseDown&&this._selected)for(var t=this._selRect.brow;t<=this._selRect.erow;t++)for(var e=this._selRect.bcol;e<=this._selRect.ecol;e++){var i=this._getCellObj(t,e);if(null!=i){var n=this.getOption().fontSize||12,s=this._getNumberValue(i.colSpan,1),o=this._getNumberValue(i.rowSpan,1);if(i._option.fontSize=n,n=parseInt(n*this.getOption().scale,10),this._selRect.erow-this._selRect.brow==o-1&&this._selRect.ecol-this._selRect.bcol==s-1&&((null==i.childComponent||this.isArray(i.childComponent)&&0==i.childComponent.length)&&this._setHtml(i,this.getOption().text||"",!1),i.dataField=this.getOption().dataField,i.parentNode.dataFields!=this.getOption().dataFields&&(i.parentNode.dataFields=this.getOption().dataFields)),this._selRect.brow==this._selRect.erow&&null!=this.getOption().rowHeight&&""!==this.getOption().rowHeight){var l=this._table.rows[t].cells[0],r=this._getNumberValue(l.style.height),a=parseInt(parseInt(this.getOption().rowHeight,10)*this.getOption().scale,10),h=a-r;this._setNumberValue(l,"height",a),this._oldHeight=this.getOption().height+h,this.setHeight(this._oldHeight),l=null}i.style.textAlign=this.getOption().textAlign||"",i.style.fontSize=n+"px",i.style.fontWeight=this.getOption().fontWeight||"normal",i.style.fontFamily=this.getOption().fontFamily||this.getI18n("qzz.defFontFamily","宋体"),i.style.fontStyle=this.getOption().fontStyle||"normal",i.style.textDecoration=this.getOption().textDecoration||"none",i.style.color=this.getOption().color||"",i.style.backgroundColor=this.getOption().backgroundColor||""}}this.focus?this.thisWindow.style.overflow="visible":this.thisWindow.style.overflow="hidden"},_initCellEvent:function(t){var e=this;t.onmouseover=function(t){t=t||window.event,e.doCellMouseOver(this,t)},t.onmousemove=function(t){t=t||window.event,e.doCellMouseMove(this,t)},t.onmousedown=function(t){t=t||window.event,e.doCellMouseDown(this,t)},t.onmouseup=function(t){t=t||window.event,e.doCellMouseUp(this,t)}},_getCellIndex:function(t){if(null==t)return-1;var e=t.parentNode.rowIndex;if(0==e)return t.cellIndex;for(var i=1,n=1;n<=this.getOption().cols;n++)if(this._sheet[e][n]===t){i=n;break}return i},_getTopCell:function(t){var e=t;return"object"==typeof e&&(e=this._getCellIndex(t)),this._table.rows[0].cells[e]},doCellMouseDown:function(t,e){if(this.getMouseButton(e)==this.mouseType.mtLeft){this.hasbind("onBeforeSelCell")&&this.trigger("onBeforeSelCell",[]),this._cellMouseDown=!0,this._selected=!0,this.curCell=t,this.curCellWidth=this._getColWidth(t);var i=this._getCellIndex(t);i>0&&i<this.getOption().cols&&(this.nextCellWidth=this._getColWidth(this._table.rows[0].cells[i+1],1)),this.curTableWidth=this.getOption().width,this.curMouseLeft=this.mouseLeft;var n=this._getNumberValue(t.colSpan,1),s=this._getNumberValue(t.rowSpan,1);this._selRect={brow:t.parentNode.rowIndex,erow:t.parentNode.rowIndex+s-1,bcol:i,ecol:i+n-1},null!=t&&this.isArray(t.childComponent)&&t.childComponent.length>0?(t.childComponent[0].setFocus(),this._cellMouseDown=!1):1!=this.focus&&this.setFocus()}},_getColWidth:function(t){return this._getNumberValue(this._table.rows[0].cells[this._getCellIndex(t)].style.width,1)},_setColWidth:function(t,e){var i=this._getNumberValue(this.getOption().border,1),n=this._getCellIndex(t);(n=n+this._getNumberValue(t.colSpan,1)-1)>0&&n<this.getOption().cols?this.nextCellWidth-e>=i&&this.curCellWidth+e>=i&&(this._setNumberValue(this._table.rows[0].cells[n],"width",this.curCellWidth+e),this._setNumberValue(this._table.rows[0].cells[n+1],"width",this.nextCellWidth-e)):n==this.getOption().cols&&(this._setNumberValue(this._table.rows[0].cells[n],"width",this.curCellWidth+e),this.getOption().width=this.curTableWidth+parseInt(e/this.getOption().scale,10),this._oldWidth=parseInt(this.getOption().width*this.getOption().scale,10),this._setNumberValue(this.thisWindow,"width",this._oldWidth),this.hasbind("onFocus")&&this.trigger("onFocus",[]))},doCellMouseUp:function(t,e){if(this.getMouseButton(e)==this.mouseType.mtLeft&&!this.resizeState&&(this.refresh(),this.hasbind("onFocus")&&"td"==this._selectType&&null!=(t=this._getCellObj(this._selRect.brow,this._selRect.bcol)))){this.getOption().text=t.innerHTML,this.getOption().textAlign=t.style.textAlign||"left",this.getOption().fontWeight=t.style.fontWeight||"normal",this.getOption().fontStyle=t.style.fontStyle||"normal",this.getOption().fontFamily=t.style.fontFamily||this.getI18n("qzz.defFontFamily","宋体"),this.getOption().textDecoration=t.style.textDecoration||"none";var i=t.style.color||"";this.getOption().color=""!==i?this.rgbToColor(i):"";var n=t.style.backgroundColor||"";if(this.getOption().backgroundColor=""!==n?this.rgbToColor(n):"",this.getOption().dataField=t.dataField||"",this.getOption().dataFields=t.parentNode.dataFields||"",this._selRect.brow==this._selRect.erow){var s=this._table.rows[this._selRect.brow].cells[0],o=this._getNumberValue(s.style.height,24);this.getOption().rowHeight=parseInt(o/this.getOption().scale,10),s=null}else this.getOption().rowHeight="";this.getOption().fontSize=t._option.fontSize,t=null,this.trigger("onFocus",[!0])}},doCellMouseMove:function(t,e){if(!this._cellMouseDown){var i=t.getBoundingClientRect(),n=(e.clientX,t.offsetWidth),s=e.clientX-i.left,o=n-s;o<5?(this.resizeState=!0,this.titleDragState=!0,this.getBrowser("safari")?t.style.cursor="e-resize":t.style.cursor="col-resize"):0==t.cellIndex&&s<5?(t.style.cursor="move",this.titleDragState=!1,this.resizeState=!1):(this.titleDragState=!1,this.resizeState=!1,t.style.cursor=""),this.mouseLeft=e.clientX,null,i=null,n=null,o=null}},doCellMouseOver:function(t,e){if(this._cellMouseDown&&this.getMouseButton(e)==this.mouseType.mtLeft&&!this.resizeState){var i=this._getCellIndex(t),n=this._getNumberValue(t.colSpan,1),s=this._getNumberValue(t.rowSpan,1),o=!1;i+n-1>this._selRect.ecol?(this._selRect.ecol=i+n-1,o=!0):i<this._selRect.bcol&&(this._selRect.bcol=i,o=!0);var l=t.parentNode.rowIndex;if(l+s-1>this._selRect.erow?(this._selRect.erow=l+s-1,o=!0):l<this._selRect.brow&&(this._selRect.brow=l,o=!0),o)for(var r=this._selRect.brow;r<=this._selRect.erow;r++)for(var a=this._sheet[r],h=this._selRect.bcol;h<=this._selRect.ecol;h++){var c=a[h];n=this._getNumberValue(c.colSpan,1),s=this._getNumberValue(c.rowSpan,1),(n>1||s>1)&&this.doCellMouseOver(c,e)}}},doMouseUp:function(){this._cellMouseDown=!1},doMouseMove:function(t){this._cellMouseDown&&this.resizeState&&t.clientX!=this.curMouseLeft&&this._setColWidth(this.curCell,t.clientX-this.curMouseLeft)},_onselectstart:function(t){var e=t||window.event;return e.target||e.srcElement,e.returnValue=!1,!1},getAttribute:function(){var t=this.base();if(t.push({name:"cols",value:this.getOption().cols}),t.push({name:"rows",value:this.getOption().rows}),t.push({name:"heads",value:this.getOption().heads}),t.push({name:"borderStyle",value:this.getOption().borderStyle}),"td"==this._selectType){t.push({name:"rowHeight",value:this.getOption().rowHeight}),t.push({name:"dataFields",value:this.getOption().dataFields});var e=this._sheet[this._selRect.brow][this._selRect.bcol];null!=e&&this.isArray(e.childComponent)&&e.childComponent.length>0||(t.push({name:"dataField",value:this.getOption().dataField}),t.push({name:"text",value:this.getOption().text})),t.push({name:"textAlign",value:this.getOption().textAlign||"left"}),t.push({name:"fontFamily",value:this.getOption().fontFamily}),t.push({name:"fontSize",value:this._getNumberValue(this.getOption().fontSize,12)}),t.push({name:"fontWeight",value:this.getOption().fontWeight||"normal"}),t.push({name:"fontStyle",value:this.getOption().fontStyle||"normal"}),t.push({name:"textDecoration",value:this.getOption().textDecoration||"none"}),t.push({name:"color",value:this.getOption().color||""}),t.push({name:"backgroundColor",value:this.getOption().backgroundColor||""})}return t},setOption:function(t,e,i){e!=i&&(this.getOption()[t]=e,"cols"==t?this._changeCol():"rows"==t&&this._changeRow(),this.trigger("onAttribChanged",[this,t,i,e]))},setColWidths:function(t){if(null!=t){"string"==typeof t&&(t=t.split(","));for(var e=t.length,i=this._table.rows[0],n=0;n<e;n++)i.cells[n+1].style.width=parseInt(parseInt(t[n],10)*this.getOption().scale,10)+"px"}},getColWidths:function(){for(var t=[],e=this._table.rows[0],i=e.cells.length-1,n=0;n<i;n++){var s=this._getNumberValue(e.cells[n+1].style.width);s=parseInt(s/this.getOption().scale,10),t.push(s)}return e=null,t},setAttribute:function(t){this._oldWidth=parseInt(this.getOption().width*this.getOption().scale,10),this._oldHeight=parseInt(this.getOption().height*this.getOption().scale,10),this.base(t)},getRow:function(t){return this._table.rows[t]},getCell:function(t,e){var i=null;return null!=t.cells?i=t.cells:"number"==typeof t&&(i=this._table.rows[t].cells),i.length>e?i[e]:null}}),_bindRenderFunc("qzztable",t.ui.design.table),t.ui.design.table}),
/*!
 * 面板控件.
 * ecp.qzz.ui.design.text.js
 * 创建：QZZ
 * 日期：2014-03-01
 */
null==window.qdefine&&(window.qdefine=define),qdefine(["qzz.dbase"],function(){var t=window.qzz;return t.space("ui.design"),t.ui.design.text=t.Class(t.ui.design.base,{_create:function(){this.base(),this.className="Text"},_setText:function(t){t!=this.getOption().text&&(this.getOption().text=t,this.refresh())},getAttribute:function(){var t=this.base();return t.push({name:"text",value:this.getOption().text}),t.push({name:"fontFamily",value:this.getOption().fontFamily}),t.push({name:"fontWeight",value:this.getOption().fontWeight||"normal"}),t.push({name:"fontStyle",value:this.getOption().fontStyle||"normal"}),t.push({name:"textDecoration",value:this.getOption().textDecoration||"none"}),t.push({name:"textAlign",value:this.getOption().textAlign||"left"}),t.push({name:"fontSize",value:this._getNumberValue(this.getOption().fontSize,12)}),t.push({name:"color",value:this.getOption().color||""}),t},refresh:function(){this.base(),null!=this.getOption().color&&""!=this.getOption().color&&(this.thisWindow.style.color=this.getOption().color),null!=this.getOption().backgroundColor&&""!=this.getOption().backgroundColor&&(this.thisWindow.style.backgroundColor=this.getOption().backgroundColor),this._setHtml(this.thisWindow,this.getOption().text),this.thisWindow.style.lineHeight=parseInt(this.getOption().height*this.getOption().scale,10)+"px"}}),_bindRenderFunc("qzztext",t.ui.design.text),t.ui.design.text}),null==window.qdefine&&(window.qdefine=define),null==window.qzz&&(window.qzz={}),qdefine(["qzz.querygrid","ecp.utils","bootstrap"],function(t,e){var i=window.qzz;return null==i.pertain&&(i.pertain={}),i.pertain.gridcoldesign=function(t,e){var n="#colDesignDlg"+t.index,s=document.querySelector(n);null!=s&&s.parentNode.removeChild(s);var o=document.createElement("div");o.id="colDesignDlg"+t.index,document.body.appendChild(o);var l='<div id="colDesignSelect" class="modal show" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">\n    <div class="modal-dialog" style="width:568px;">\n        <div class="modal-content">\n            <div class="modal-header modal_header_bgblue">\n                <button type="button" class="close" id="ptClose" data-dismiss="modal" aria-hidden="true">&times;</button>\n                <h4 class="modal-title" style="color:#428bca;">'+t.getI18n("colset","列设置")+'</h4>\n            </div>\n            <div class="modal-body">\n              <table border="0px" cellpadding="0px" cellspacing="0px" height="">                 <tr style=\'height:30px;vertical-align: top;\'><td>                  <span id="upRow" style="margin-right:8px;cursor:pointer;"><li class="fa fa-arrow-circle-o-up"></li>'+t.getI18n("moveUp","上移")+'</span>                   <span id="downRow" style="margin-right:8px;cursor:pointer;"><li class="fa fa-arrow-circle-o-down"></li>'+t.getI18n("moveDown","下移")+'</span>                   <span id="firstRow" style="margin-right:8px;cursor:pointer;"><li class="fa fa-arrow-up" style="border-top: 2px solid black;position: relative;top: 2px;"></li>'+t.getI18n("moveFirst","最上")+'</span>                   <span id="lastRow" style="margin-right:8px;cursor:pointer;"><li class="fa fa-arrow-down" style="border-bottom: 2px solid black;position: relative;top: -2px;"></li>'+t.getI18n("moveLast","最下")+'</span>                   <span id="restoreDefault" style="margin-right:8px;cursor:pointer;"><li class="fa fa-refresh"></li>'+t.getI18n("reset","重置")+'</span>                 </td></tr>                <tr><td>                   <table id="gridFormat'+t.index+'"><tr><td></td></tr></table>                 </td></tr>               </table>             </div>\n            <div class="modal-footer">\n               <button type="button" class="btn btn-default" id="ptCansel" data-dismiss="modal">'+t.getI18n("cancel","取消")+'</button>\n               <button type="button" class="btn btn-primary" id="ptOk" data-dismiss="modal">'+t.getI18n("ok","确定")+"</button>\n            </div>\n        </div>\n    </div>\n</div>";o.innerHTML=l;var r={treeGrid:!1,filter:!1,sort:!1,hidePopMenu:!0,height:"254",width:"538",suitToFit:!0,autoEcpWidth:!1,colNames:[t.getI18n("colName","列名"),t.getI18n("display","显示"),t.getI18n("frozen","固定")],colModels:[{name:"rowName",width:172,outputEscape:!1},{name:"display",editType:"onoff",align:"center",width:78},{name:"frozen",editType:"onoff",align:"center",width:78}]};!0===t.getOption().groups&&(r.colNames.push(t.getI18n("groups","自动合并")),r.colModels.push({name:"groups",editType:"onoff",align:"center",width:78}));var a=o.querySelector("#gridFormat"+t.index),h=new i.ui.grid(a,r),c=t.priorColNames||t.getOption().colNames,u=t.priorColModels||t.getOption().colModels,d=t.priorColNamesValue;null==d&&(d=t.colNamesToColDatas(u,c)),h.value(d,function(){h.each(function(t){var e=t.data.colModel;null==e||!0!==e.disGroup&&"radio"!==e.editType||(this.getCellOption("groups").disabled=!0)})}),o.querySelector("#upRow").onclick=function(){h.moveRecord(-1)},o.querySelector("#downRow").onclick=function(){h.moveRecord(1)},o.querySelector("#firstRow").onclick=function(){var t=h.dataSet.getIndex()+1;h.moveRecord(-1*t)},o.querySelector("#lastRow").onclick=function(){var t=h.getRecordCount()-h.dataSet.getIndex()+1;h.moveRecord(t)},o.querySelector("#ptOk").onclick=function(){var e=h.value();t.priorColNamesValue=e;var i=t.colDatasToColNames(e);t.refreshTitle(i),t.saveColumnSetup(JSON.stringify(i)),t.first(),t.trigger("onRefreshTitle",[i])},o.querySelector("#restoreDefault").onclick=function(){var e=t.extend([],t.getOption().defColNames),i=t.extend([],t.getOption().defColModels),n=t.colNamesToColDatas(i,e);t.priorColNamesValue=null,h.value(n)},h.bind("onAfterEdit",function(t,e,i,n,s,o){var l=this.getValue("frozen",o),r=this.getValue("display",o);"frozen"==e?!0===l&&!0!==r&&this.setValue("display",!0,o):"display"==e&&!0!==r&&!0===l&&this.setValue("frozen",!1,o)}),t.focus=!1,window.$&&window.$(n).modal()},i.pertain.gridcoldesign}),qzz.ui.grid}(null),__webpack_exports__.default=qzz.ui.grid}})},"c/Tr":function(t,e,i){t.exports={default:i("5zde"),__esModule:!0}},dY0y:function(t,e,i){var n=i("dSzd")("iterator"),s=!1;try{var o=[7][n]();o.return=function(){s=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!s)return!1;var i=!1;try{var o=[7],l=o[n]();l.next=function(){return{done:i=!0}},o[n]=function(){return l},t(o)}catch(t){}return i}},"e2q+":function(t,e,i){"use strict";i("vX3g"),e.a=window._ecp_remote_service},f6Yr:function(t,e){!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e,i){"use strict";var n=i(5),s=i(11),o=Object.prototype.toString;function l(t){return"[object Array]"===o.call(t)}function r(t){return null!==t&&"object"==typeof t}function a(t){return"[object Function]"===o.call(t)}function h(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),l(t))for(var i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)}t.exports={isArray:l,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:s,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:r,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:a,isStream:function(t){return r(t)&&a(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:h,merge:function t(){var e={};function i(i,n){"object"==typeof e[n]&&"object"==typeof i?e[n]=t(e[n],i):e[n]=i}for(var n=0,s=arguments.length;n<s;n++)h(arguments[n],i);return e},extend:function(t,e,i){return h(e,function(e,s){t[s]=i&&"function"==typeof e?n(e,i):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},,function(t,e,i){t.exports=i(10)},function(t,e,i){"use strict";i.r(e);var n=i(2),s=i.n(n),o=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];function l(t){for(var e="",i=document.cookie.split(";"),n=0;n<i.length;n++)if(i[n]&&-1!=i[n].indexOf(t+"=")){(e=i[n].split("="))instanceof Array&&e.length>0&&(e=e[1]);break}return e}function r(t,e,i,n){var s="";if(null!=i&&""!==i&&!isNaN(i)){var o=new Date;o.setTime(o.getTime()+i),s=";expires="+o.toGMTString()}null==n&&(n=""),document.cookie=t+"="+e+";path=/"+n+s}var a={doReplace:function(t,e){return this.util(t,e)},util:function(t,e){function i(){this._strings=new Array}i.prototype.Append=function(t){this._strings.push(t)},i.prototype.ToString=function(){return this._strings.join("")},i.prototype.Clear=function(){this._strings=[]};var n=function(t,e){this.groupedSource=null,this.text=t,this.encryKey=e,this.secretMatrix=this.getTheMatrix()};return n.prototype.getTheMatrix=function(){var t=new Array(this.encryKey.length),e=(new Array).concat(this.encryKey.split(""));e.sort();for(var i=0;i<this.encryKey.length;i++)for(var n=0;n<this.encryKey.length;n++)this.encryKey.split("")[i]==e[n]&&(t[i]=n);return t},n.prototype.groupSourceString=function(){var t=this.text.length,e=new i;e.Append(this.text);var n=this.encryKey.length;if(this.groupedSource=null,this.groupedSource=t%n!=0?new Array(parseInt(t/n)+1):new Array(parseInt(t/n)),t%n!=0)for(var s=0;s<n-t%n;s++)e.Append("#");t=e.ToString().length,s=6;for(var o=0;s<=t;s+=n,o++)this.groupedSource[o]=(new Array).concat(e.ToString().substring(s-n,s).split(""))},n.prototype.changeSourceMatix=function(){for(var t=new Array(this.groupedSource.length),e=0;e<this.groupedSource.length;e++){t[e]=new Array(this.encryKey.length);for(var i=0;i<this.encryKey.length;i++)t[e][i]=this.groupedSource[e][i]}for(e=0;e<this.groupedSource.length;e++)for(i=0;i<this.encryKey.length;i++)this.groupedSource[e][i]=t[e][this.secretMatrix[i]]},n.prototype.encry=function(){this.groupSourceString(),this.changeSourceMatix(),this.changeSourceMatix();for(var t=new i,e=0;e<this.encryKey.length;e++)for(var n=0;n<this.groupedSource.length;n++)t.Append(this.groupedSource[n][e]);return t.Append("@"),t.Append(this.text.length),t.ToString()},new n(t,e).encry()}},h={md5:function(t){return this.utils(t)},utils:function(t){var e=function(t,e){return t<<e|t>>>32-e},i=function(t,e){var i,n,s,o,l;return s=2147483648&t,o=2147483648&e,l=(1073741823&t)+(1073741823&e),(i=1073741824&t)&(n=1073741824&e)?2147483648^l^s^o:i|n?1073741824&l?3221225472^l^s^o:1073741824^l^s^o:l^s^o},n=function(t,n,s,o,l,r,a){return t=i(t,i(i(n&s|~n&o,l),a)),i(e(t,r),n)},s=function(t,n,s,o,l,r,a){return t=i(t,i(i(n&o|s&~o,l),a)),i(e(t,r),n)},o=function(t,n,s,o,l,r,a){return t=i(t,i(i(n^s^o,l),a)),i(e(t,r),n)},l=function(t,n,s,o,l,r,a){return t=i(t,i(i(s^(n|~o),l),a)),i(e(t,r),n)},r=function(t){var e,i="",n="";for(e=0;e<=3;e++)i+=(n="0"+(t>>>8*e&255).toString(16)).substr(n.length-2,2);return i},a=function(t){t=t||32;for(var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",i=e.length,n="",s=0;s<t;s++)n+=e.charAt(Math.floor(Math.random()*i));return n};return function(t){var e,h,c,u,d,p,g,f,y,m=Array();for(m=function(t){for(var e,i=t.length,n=i+8,s=16*((n-n%64)/64+1),o=Array(s-1),l=0,r=0;r<i;)l=r%4*8,o[e=(r-r%4)/4]=o[e]|t.charCodeAt(r)<<l,r++;return l=r%4*8,o[e=(r-r%4)/4]=o[e]|128<<l,o[s-2]=i<<3,o[s-1]=i>>>29,o}(t=function(t){t=t.replace(/\x0d\x0a/g,"\n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e+=String.fromCharCode(n):n>127&&n<2048?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e}(t)),p=1732584193,g=4023233417,f=2562383102,y=271733878,e=0;e<m.length;e+=16)h=p,c=g,u=f,d=y,p=n(p,g,f,y,m[e+0],7,3614090360),y=n(y,p,g,f,m[e+1],12,3905402710),f=n(f,y,p,g,m[e+2],17,606105819),g=n(g,f,y,p,m[e+3],22,3250441966),p=n(p,g,f,y,m[e+4],7,4118548399),y=n(y,p,g,f,m[e+5],12,1200080426),f=n(f,y,p,g,m[e+6],17,2821735955),g=n(g,f,y,p,m[e+7],22,4249261313),p=n(p,g,f,y,m[e+8],7,1770035416),y=n(y,p,g,f,m[e+9],12,2336552879),f=n(f,y,p,g,m[e+10],17,4294925233),g=n(g,f,y,p,m[e+11],22,2304563134),p=n(p,g,f,y,m[e+12],7,1804603682),y=n(y,p,g,f,m[e+13],12,4254626195),f=n(f,y,p,g,m[e+14],17,2792965006),g=n(g,f,y,p,m[e+15],22,1236535329),p=s(p,g,f,y,m[e+1],5,4129170786),y=s(y,p,g,f,m[e+6],9,3225465664),f=s(f,y,p,g,m[e+11],14,643717713),g=s(g,f,y,p,m[e+0],20,3921069994),p=s(p,g,f,y,m[e+5],5,3593408605),y=s(y,p,g,f,m[e+10],9,38016083),f=s(f,y,p,g,m[e+15],14,3634488961),g=s(g,f,y,p,m[e+4],20,3889429448),p=s(p,g,f,y,m[e+9],5,568446438),y=s(y,p,g,f,m[e+14],9,3275163606),f=s(f,y,p,g,m[e+3],14,4107603335),g=s(g,f,y,p,m[e+8],20,1163531501),p=s(p,g,f,y,m[e+13],5,2850285829),y=s(y,p,g,f,m[e+2],9,4243563512),f=s(f,y,p,g,m[e+7],14,1735328473),g=s(g,f,y,p,m[e+12],20,2368359562),p=o(p,g,f,y,m[e+5],4,4294588738),y=o(y,p,g,f,m[e+8],11,2272392833),f=o(f,y,p,g,m[e+11],16,1839030562),g=o(g,f,y,p,m[e+14],23,4259657740),p=o(p,g,f,y,m[e+1],4,2763975236),y=o(y,p,g,f,m[e+4],11,1272893353),f=o(f,y,p,g,m[e+7],16,4139469664),g=o(g,f,y,p,m[e+10],23,3200236656),p=o(p,g,f,y,m[e+13],4,681279174),y=o(y,p,g,f,m[e+0],11,3936430074),f=o(f,y,p,g,m[e+3],16,3572445317),g=o(g,f,y,p,m[e+6],23,76029189),p=o(p,g,f,y,m[e+9],4,3654602809),y=o(y,p,g,f,m[e+12],11,3873151461),f=o(f,y,p,g,m[e+15],16,530742520),g=o(g,f,y,p,m[e+2],23,3299628645),p=l(p,g,f,y,m[e+0],6,4096336452),y=l(y,p,g,f,m[e+7],10,1126891415),f=l(f,y,p,g,m[e+14],15,2878612391),g=l(g,f,y,p,m[e+5],21,4237533241),p=l(p,g,f,y,m[e+12],6,1700485571),y=l(y,p,g,f,m[e+3],10,2399980690),f=l(f,y,p,g,m[e+10],15,4293915773),g=l(g,f,y,p,m[e+1],21,2240044497),p=l(p,g,f,y,m[e+8],6,1873313359),y=l(y,p,g,f,m[e+15],10,4264355552),f=l(f,y,p,g,m[e+6],15,2734768916),g=l(g,f,y,p,m[e+13],21,1309151649),p=l(p,g,f,y,m[e+4],6,4149444226),y=l(y,p,g,f,m[e+11],10,3174756917),f=l(f,y,p,g,m[e+2],15,718787259),g=l(g,f,y,p,m[e+9],21,3951481745),p=i(p,h),g=i(g,c),f=i(f,u),y=i(y,d);var v=r(p)+r(g)+r(f)+r(y);return(v=(v=a(4)+v+a(4)).split("").reverse().join("")).toLowerCase()}(t)}},c={getEncryKey:function(){var t=l("ecpDataContext.tokenId");t||(t=l("ecp_token"));var e="cipher";if(t&&t.length>0){for(var i="",n=0;n<t.length;n++)-1==i.indexOf(t[n])&&(i+=t[n]);i.length>=6&&(e=i.substring(0,6))}return e},dealwithRequestContent:function(t,e,i,n){var s,o,r={},c=t.split("?"),u=c[0],d="",p=this.getEncryKey();if(c.length>1)for(var g=c[1].split("&"),f=0;f<g.length;f++)if(-1!==g[f].indexOf("=")){s=g[f].split("=");try{o=decodeURIComponent(s[1])}catch(t){o=s[1]}n?(o&&o.length<=4e3?r[s[0]]=a.doReplace(o,p):r[s[0]]=o,0!==d.length&&(d+="&"),d=d+s[0]+"="+encodeURIComponent(r[s[0]])):r[s[0]]=o}if(i){var y={};for(var m in i)if(y[m]=i[m],void 0!==i[m]){if(null!=i[m]&&null!=e&&"GET"==e.toUpperCase())try{o=decodeURIComponent(i[m])}catch(t){o=i[m]}else o=i[m];n?(null==o&&(o=""),(o+="")&&o.length<=4e3?r[m]=a.doReplace(o,p):r[m]=o,y[m]=r[m]):r[m]=o}}var v=new Array;for(var C in r)v.push(C);v.sort();var S="";v.each(function(t,e){null!=r[t]&&"undefined"!==r[t]&&(0!==S.length&&(S+="&"),S=S+t+"="+r[t])}),u.indexOf("?")>-1?u+="&":u+="?",d.length>0?u=d=u+d:d=t;var b=l("ecpDataContext.tokenId")||"",x=e.toUpperCase()+b+S;return x.length>5e3&&(x=x.substr(0,5e3)),x=x.replace(/\n|\r/gi,""),window.console&&console.info(x),{AZ:h.md5(x),RequestURI:d,encryptedParam:y}},getCmSign:function(){var t=parseInt(1e6*Math.random(),10)+"";if(t.length<6)for(var e=t.length;e<6;e++)t+="0";var i=t+","+(new Date).getTime(),n=this.getEncryKey();if(n)return a.doReplace(i,n)}},u={secCheck:null,signCheck:null,cmCheck:null,encCheck:null,getAllSecurityProp:function(){var t=l("SYS_SECS");if(!t)try{s.a.get("/grm/ecp/RemoteParamServlet?p0=SYS_SECS").then(function(e){t=e,r("SYS_SECS",e,{path:"/"})})}catch(t){window.console&&window.console.log(t+"系统参数加载失败。")}return t},getSysProp:function(t){var e={SECURITY_CHECK:1,CODE_CHECK:2,WEB_CHECK:4,SIGN_CHECK:8,REPLAY_CHECK:16,ENCRYPT_CHECK:32,VERIFIER_CHECK:64,WS_CHECK:128},i=this.getAllSecurityProp();if(null!=e[t])return"ENCRYPT_CHECK"===t&&"true"===l("closeEncry")?"false":(e[t]&parseInt(i))>0?"true":"false";var n=l(t);if(""===n)return n;if(!n)try{s.a.get("/grm/ecp/RemoteParamServlet?p0="+t).then(function(e){r(t,n=e)})}catch(e){window.console&&window.console.log(t+"：系统参数加载失败。")}return n},isSec:function(){return null===this.secCheck&&(this.secCheck="false"!=this.getSysProp("SECURITY_CHECK")),this.secCheck},isSign:function(){return!!this.isSec()&&(null===this.signCheck&&(this.signCheck="true"==this.getSysProp("SIGN_CHECK")),this.signCheck)},isCm:function(){return!!this.isSec()&&(null===this.cmCheck&&(this.cmCheck="false"!=this.getSysProp("REPLAY_CHECK")),this.cmCheck)},isEnc:function(){return!!this.isSec()&&(null===this.encCheck&&(this.encCheck="true"==this.getSysProp("ENCRYPT_CHECK")),this.encCheck)}},d={ENCRYSTRING_HEAD:"ISENCRYSTRING",ENCRY_KEYS:["1a8.jf65;j^f2v-0","1a8.jf65;j^f2v-1","1a8.jf65;j^f2v-2"],signData:function(t,e,i){var n=u.isEnc();return(u.isSign()||n)&&c.dealwithRequestContent(t,e,i,n)},getCmSign:function(){return u.isCm()&&c.getCmSign()},signDatawithoutCheck:function(t,e,i){return c.dealwithRequestContent(t,e,i,!0)},getCmSignwithoutCheck:function(){return c.getCmSign()},md5:function(t){return t&&"string"==typeof t?h.md5(t):null},doReplace:function(t,e){return a.doReplace(t,e)},doEncrypt:function(t){var e=arguments[1];"array"!=typeof e&&(e=void 0);for(var i,n,s,o=k(e),l=o.length>3?3:o.length,r=0;r<l;r++)switch(r){case 0:i=o[r];break;case 1:n=o[r];break;case 2:s=o[r]}var a,h,c,u,d,f,y=t.length,m="";if(null!=i&&""!==i&&(u=(a=p(i)).length),null!=n&&""!==n&&(d=(h=p(n)).length),null!=s&&""!==s&&(f=(c=p(s)).length),y>0)if(y<4){var C=g(t);if(null!=i&&""!==i&&null!=n&&""!==n&&null!=s&&""!=s){for(L=C,b=0;b<u;b++)L=S(L,a[b]);for(O=0;O<d;O++)L=S(L,h[O]);for(N=0;N<f;N++)L=S(L,c[N]);T=L}else if(null!=i&&""!==i&&null!=n&&""!==n){for(L=C,b=0;b<u;b++)L=S(L,a[b]);for(O=0;O<d;O++)L=S(L,h[O]);T=L}else if(null!=i&&""!==i){var b=0;for(L=C,b=0;b<u;b++)L=S(L,a[b]);T=L}m=v(T)}else{var x=parseInt(y/4),_=y%4;for(r=0,r=0;r<x;r++){var w=g(t.substring(4*r+0,4*r+4));if(null!=i&&""!==i&&null!=n&&""!==n&&null!=s&&""!=s){for(L=w,b=0;b<u;b++)L=S(L,a[b]);for(O=0;O<d;O++)L=S(L,h[O]);for(N=0;N<f;N++)L=S(L,c[N]);T=L}else if(null!=i&&""!==i&&null!=n&&""!==n){for(L=w,b=0;b<u;b++)L=S(L,a[b]);for(O=0;O<d;O++)L=S(L,h[O]);T=L}else if(null!=i&&""!==i){for(L=w,b=0;b<u;b++)L=S(L,a[b]);T=L}m+=v(T)}if(_>0){var T;if(w=g(t.substring(4*x+0,y)),null!=i&&""!==i&&null!=n&&""!==n&&null!=s&&""!=s){var N;for(L=w,b=0;b<u;b++)L=S(L,a[b]);for(O=0;O<d;O++)L=S(L,h[O]);for(N=0;N<f;N++)L=S(L,c[N]);T=L}else if(null!=i&&""!==i&&null!=n&&""!==n){var O;for(L=w,b=0;b<u;b++)L=S(L,a[b]);for(O=0;O<d;O++)L=S(L,h[O]);T=L}else if(null!=i&&""!==i){var L;for(L=w,b=0;b<u;b++)L=S(L,a[b]);T=L}m+=v(T)}}return m},doDecrypt:function(t){var e=arguments[1];"array"!=typeof e&&(e=void 0);for(var i,n,s,o=k(e),l=o.length>3?3:o.length,r=0;r<l;r++)switch(r){case 0:i=o[r];break;case 1:n=o[r];break;case 2:s=o[r]}var a,h,c,u,d,g,f=t.length,y="";null!=i&&""!==i&&(u=(a=p(i)).length),null!=n&&""!==n&&(d=(h=p(n)).length),null!=s&&""!==s&&(g=(c=p(s)).length);var v=parseInt(f/16);for(r=0,r=0;r<v;r++){var S,x=C(t.substring(16*r+0,16*r+16)),_=new Array(64),w=0;for(w=0;w<64;w++)_[w]=parseInt(x.substring(w,w+1));if(null!=i&&""!==i&&null!=n&&""!==n&&null!=s&&""!==s){for(T=_,N=g-1;N>=0;N--)T=b(T,c[N]);for(O=d-1;O>=0;O--)T=b(T,h[O]);for(L=u-1;L>=0;L--)T=b(T,a[L]);S=T}else if(null!=i&&""!==i&&null!=n&&""!==n){for(T=_,N=d-1;N>=0;N--)T=b(T,h[N]);for(O=u-1;O>=0;O--)T=b(T,a[O]);S=T}else if(null!=i&&""!==i){var T,N,O,L;for(T=_,N=u-1;N>=0;N--)T=b(T,a[N]);S=T}y+=m(S)}return y},encodeBase64:function(t,e){var i,n,s,o,l="",r=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(!1!==e&&(t=this.utf16to8(t)),i=t.length;r<i;){if(n=255&t.charCodeAt(r++),r==i){l+=a.charAt(n>>2),l+=a.charAt((3&n)<<4),l+="==";break}if(s=t.charCodeAt(r++),r===i){l+=a.charAt(n>>2),l+=a.charAt((3&n)<<4|(240&s)>>4),l+=a.charAt((15&s)<<2),l+="=";break}o=t.charCodeAt(r++),l+=a.charAt(n>>2),l+=a.charAt((3&n)<<4|(240&s)>>4),l+=a.charAt((15&s)<<2|(192&o)>>6),l+=a.charAt(63&o)}return l},decodeBase64:function(t,e){var i=function(t){for(var e,i,n,s,l=0,r="",a=o,h=t.length;l<h;){do{e=a[255&t.charCodeAt(l++)]}while(l<h&&-1===e);if(-1===e)break;do{i=a[255&t.charCodeAt(l++)]}while(l<h&&-1===i);if(-1===i)break;r+=String.fromCharCode(e<<2|(48&i)>>4);do{if(61==(n=255&t.charCodeAt(l++)))return r;n=a[n]}while(l<h&&-1===n);if(-1===n)break;r+=String.fromCharCode((15&i)<<4|(60&n)>>2);do{if(61==(s=255&t.charCodeAt(l++)))return r;s=a[s]}while(l<h&&-1===s);if(-1===s)break;r+=String.fromCharCode((3&n)<<6|s)}return r}(t);return!1!==e&&(i=this.utf8to16(i)),i},utf16to8:function(t){var e,i,n,s;for(e="",n=t.length,i=0;i<n;i++)(s=t.charCodeAt(i))>=1&&s<=127?e+=t.charAt(i):s>2047?(e+=String.fromCharCode(224|s>>12&15),e+=String.fromCharCode(128|s>>6&63),e+=String.fromCharCode(128|s>>0&63)):(e+=String.fromCharCode(192|s>>6&31),e+=String.fromCharCode(128|s>>0&63));return e},utf8to16:function(t){var e,i,n,s,o,l;for(e="",n=t.length,i=0;i<n;)switch((s=t.charCodeAt(i++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=t.charAt(i-1);break;case 12:case 13:o=t.charCodeAt(i++),e+=String.fromCharCode((31&s)<<6|63&o);break;case 14:o=t.charCodeAt(i++),l=t.charCodeAt(i++),e+=String.fromCharCode((15&s)<<12|(63&o)<<6|(63&l)<<0)}return e},hashCode:function(t){for(var e=0,i=(t+="").length,n=0;n<i;n++)((e=31*e+t.charCodeAt(n))>2147483647||e<2147483648)&&(e&=4294967295);return e},decodeSearch:function(t){if(!/^\s*_d\s*=|[?&]\s*_d\s*=/.test(t))return t;var e=t.indexOf("?"),i=e>=0?t.substring(e+1):t,n=i.indexOf("_d"),s=i.indexOf("=",n+2),o=i.indexOf("&",s+1),l=i;return o<0&&(o=i.indexOf("#",s+1)),n>-1&&s>-1&&(l=(l=o<0?i.substring(s+1):i.substring(s+1,o)).replace(/%3D/g,"=").replace(/%2B/g,"+").replace(/%2F/g,"/"),l=this.decodeBase64(l)),e>=0&&(l=t.substring(0,e+1)+l),o>0&&(l+=i.substring(o)),l},encodeSearch:function(t){var e,i,n=t.indexOf("?");return e=(e=n>=0?t.substring(n+1):t)+"&_h="+this.hashCode(e),i="_d="+(i=(i=this.encodeBase64(e)).replace(/\=/g,"%3D").replace(/\+/g,"%2B").replace(/\//g,"%2F")),n>=0&&(i=t.substring(0,n+1)+i),i},getCookie:function(t){return l(t)},setCookie:function(t,e,i,n){r(t,e,i,n)}};function p(t){var e=new Array,i=t.length,n=parseInt(i/4),s=i%4,o=0;for(o=0;o<n;o++)e[o]=g(t.substring(4*o+0,4*o+4));return s>0&&(e[o]=g(t.substring(4*o+0,i))),e}function g(t){var e=t.length,i=new Array(64);if(e<4){var n=0,s=0,o=0,l=0;for(n=0;n<e;n++){var r=t.charCodeAt(n);for(s=0;s<16;s++){var a=1,h=0;for(h=15;h>s;h--)a*=2;i[16*n+s]=parseInt(r/a)%2}}for(o=e;o<4;o++)for(r=0,l=0;l<16;l++){for(a=1,h=0,h=15;h>l;h--)a*=2;i[16*o+l]=parseInt(r/a)%2}}else for(n=0;n<4;n++)for(r=t.charCodeAt(n),s=0;s<16;s++){for(a=1,h=15;h>s;h--)a*=2;i[16*n+s]=parseInt(r/a)%2}return i}function f(t){var e;switch(t){case"0000":e="0";break;case"0001":e="1";break;case"0010":e="2";break;case"0011":e="3";break;case"0100":e="4";break;case"0101":e="5";break;case"0110":e="6";break;case"0111":e="7";break;case"1000":e="8";break;case"1001":e="9";break;case"1010":e="A";break;case"1011":e="B";break;case"1100":e="C";break;case"1101":e="D";break;case"1110":e="E";break;case"1111":e="F"}return e}function y(t){var e;switch(t){case"0":e="0000";break;case"1":e="0001";break;case"2":e="0010";break;case"3":e="0011";break;case"4":e="0100";break;case"5":e="0101";break;case"6":e="0110";break;case"7":e="0111";break;case"8":e="1000";break;case"9":e="1001";break;case"A":e="1010";break;case"B":e="1011";break;case"C":e="1100";break;case"D":e="1101";break;case"E":e="1110";break;case"F":e="1111"}return e}function m(t){for(var e="",i=0;i<4;i++){for(var n=0,s=0;s<16;s++){for(var o=1,l=15;l>s;l--)o*=2;n+=t[16*i+s]*o}0!==n&&(e+=String.fromCharCode(n))}return e}function v(t){for(var e="",i=0;i<16;i++){for(var n="",s=0;s<4;s++)n+=t[4*i+s];e+=f(n)}return e}function C(t){for(var e="",i=0;i<16;i++)e+=y(t.substring(i,i+1));return e}function S(t,e){var i=D(e),n=x(t),s=new Array(32),o=new Array(32),l=new Array(32),r=0,a=0,h=0,c=0,u=0;for(h=0;h<32;h++)s[h]=n[h],o[h]=n[32+h];for(r=0;r<16;r++){for(a=0;a<32;a++)l[a]=s[a],s[a]=o[a];var d=new Array(48);for(c=0;c<48;c++)d[c]=i[r][c];var p=w(N(T(w(_(o),d))),l);for(u=0;u<32;u++)o[u]=p[u]}var g=new Array(64);for(r=0;r<32;r++)g[r]=o[r],g[32+r]=s[r];return O(g)}function b(t,e){var i=D(e),n=x(t),s=new Array(32),o=new Array(32),l=new Array(32),r=0,a=0,h=0,c=0,u=0;for(h=0;h<32;h++)s[h]=n[h],o[h]=n[32+h];for(r=15;r>=0;r--){for(a=0;a<32;a++)l[a]=s[a],s[a]=o[a];var d=new Array(48);for(c=0;c<48;c++)d[c]=i[r][c];var p=w(N(T(w(_(o),d))),l);for(u=0;u<32;u++)o[u]=p[u]}var g=new Array(64);for(r=0;r<32;r++)g[r]=o[r],g[32+r]=s[r];return O(g)}function x(t){for(var e=new Array(64),i=0,n=1,s=0;i<4;i++,n+=2,s+=2)for(var o=7,l=0;o>=0;o--,l++)e[8*i+l]=t[8*o+n],e[8*i+l+32]=t[8*o+s];return e}function _(t){for(var e=new Array(48),i=0;i<8;i++)e[6*i+0]=0===i?t[31]:t[4*i-1],e[6*i+1]=t[4*i+0],e[6*i+2]=t[4*i+1],e[6*i+3]=t[4*i+2],e[6*i+4]=t[4*i+3],e[6*i+5]=7===i?t[0]:t[4*i+4];return e}function w(t,e){for(var i=new Array(t.length),n=0;n<t.length;n++)i[n]=t[n]^e[n];return i}function T(t){for(var e=new Array(32),i="",n=[[14,4,13,1,2,15,11,8,3,10,6,12,5,9,0,7],[0,15,7,4,14,2,13,1,10,6,12,11,9,5,3,8],[4,1,14,8,13,6,2,11,15,12,9,7,3,10,5,0],[15,12,8,2,4,9,1,7,5,11,3,14,10,0,6,13]],s=[[15,1,8,14,6,11,3,4,9,7,2,13,12,0,5,10],[3,13,4,7,15,2,8,14,12,0,1,10,6,9,11,5],[0,14,7,11,10,4,13,1,5,8,12,6,9,3,2,15],[13,8,10,1,3,15,4,2,11,6,7,12,0,5,14,9]],o=[[10,0,9,14,6,3,15,5,1,13,12,7,11,4,2,8],[13,7,0,9,3,4,6,10,2,8,5,14,12,11,15,1],[13,6,4,9,8,15,3,0,11,1,2,12,5,10,14,7],[1,10,13,0,6,9,8,7,4,15,14,3,11,5,2,12]],l=[[7,13,14,3,0,6,9,10,1,2,8,5,11,12,4,15],[13,8,11,5,6,15,0,3,4,7,2,12,1,10,14,9],[10,6,9,0,12,11,7,13,15,1,3,14,5,2,8,4],[3,15,0,6,10,1,13,8,9,4,5,11,12,7,2,14]],r=[[2,12,4,1,7,10,11,6,8,5,3,15,13,0,14,9],[14,11,2,12,4,7,13,1,5,0,15,10,3,9,8,6],[4,2,1,11,10,13,7,8,15,9,12,5,6,3,0,14],[11,8,12,7,1,14,2,13,6,15,0,9,10,4,5,3]],a=[[12,1,10,15,9,2,6,8,0,13,3,4,14,7,5,11],[10,15,4,2,7,12,9,5,6,1,13,14,0,11,3,8],[9,14,15,5,2,8,12,3,7,0,4,10,1,13,11,6],[4,3,2,12,9,5,15,10,11,14,1,7,6,0,8,13]],h=[[4,11,2,14,15,0,8,13,3,12,9,7,5,10,6,1],[13,0,11,7,4,9,1,10,14,3,5,12,2,15,8,6],[1,4,11,13,12,3,7,14,10,15,6,8,0,5,9,2],[6,11,13,8,1,4,10,7,9,5,0,15,14,2,3,12]],c=[[13,2,8,4,6,15,11,1,10,9,3,14,5,0,12,7],[1,15,13,8,10,3,7,4,12,5,6,11,0,14,9,2],[7,11,4,1,9,12,14,2,0,6,10,13,15,3,5,8],[2,1,14,7,4,10,8,13,15,12,9,0,3,5,6,11]],u=0;u<8;u++){var d,p;switch(d=2*t[6*u+0]+t[6*u+5],p=2*t[6*u+1]*2*2+2*t[6*u+2]*2+2*t[6*u+3]+t[6*u+4],u){case 0:i=L(n[d][p]);break;case 1:i=L(s[d][p]);break;case 2:i=L(o[d][p]);break;case 3:i=L(l[d][p]);break;case 4:i=L(r[d][p]);break;case 5:i=L(a[d][p]);break;case 6:i=L(h[d][p]);break;case 7:i=L(c[d][p])}e[4*u+0]=parseInt(i.substring(0,1)),e[4*u+1]=parseInt(i.substring(1,2)),e[4*u+2]=parseInt(i.substring(2,3)),e[4*u+3]=parseInt(i.substring(3,4))}return e}function N(t){var e=new Array(32);return e[0]=t[15],e[1]=t[6],e[2]=t[19],e[3]=t[20],e[4]=t[28],e[5]=t[11],e[6]=t[27],e[7]=t[16],e[8]=t[0],e[9]=t[14],e[10]=t[22],e[11]=t[25],e[12]=t[4],e[13]=t[17],e[14]=t[30],e[15]=t[9],e[16]=t[1],e[17]=t[7],e[18]=t[23],e[19]=t[13],e[20]=t[31],e[21]=t[26],e[22]=t[2],e[23]=t[8],e[24]=t[18],e[25]=t[12],e[26]=t[29],e[27]=t[5],e[28]=t[21],e[29]=t[10],e[30]=t[3],e[31]=t[24],e}function O(t){var e=new Array(64);return e[0]=t[39],e[1]=t[7],e[2]=t[47],e[3]=t[15],e[4]=t[55],e[5]=t[23],e[6]=t[63],e[7]=t[31],e[8]=t[38],e[9]=t[6],e[10]=t[46],e[11]=t[14],e[12]=t[54],e[13]=t[22],e[14]=t[62],e[15]=t[30],e[16]=t[37],e[17]=t[5],e[18]=t[45],e[19]=t[13],e[20]=t[53],e[21]=t[21],e[22]=t[61],e[23]=t[29],e[24]=t[36],e[25]=t[4],e[26]=t[44],e[27]=t[12],e[28]=t[52],e[29]=t[20],e[30]=t[60],e[31]=t[28],e[32]=t[35],e[33]=t[3],e[34]=t[43],e[35]=t[11],e[36]=t[51],e[37]=t[19],e[38]=t[59],e[39]=t[27],e[40]=t[34],e[41]=t[2],e[42]=t[42],e[43]=t[10],e[44]=t[50],e[45]=t[18],e[46]=t[58],e[47]=t[26],e[48]=t[33],e[49]=t[1],e[50]=t[41],e[51]=t[9],e[52]=t[49],e[53]=t[17],e[54]=t[57],e[55]=t[25],e[56]=t[32],e[57]=t[0],e[58]=t[40],e[59]=t[8],e[60]=t[48],e[61]=t[16],e[62]=t[56],e[63]=t[24],e}function L(t){var e="";switch(t){case 0:e="0000";break;case 1:e="0001";break;case 2:e="0010";break;case 3:e="0011";break;case 4:e="0100";break;case 5:e="0101";break;case 6:e="0110";break;case 7:e="0111";break;case 8:e="1000";break;case 9:e="1001";break;case 10:e="1010";break;case 11:e="1011";break;case 12:e="1100";break;case 13:e="1101";break;case 14:e="1110";break;case 15:e="1111"}return e}function k(t){var e=[];if(t)for(n=0;n<t.length;n++)e.push(t[n]);else for(var i=d.ENCRY_KEYS,n=0;n<i.length;n++)e.push(i[n]);return e}function D(t){var e=new Array(56),i=new Array;i[0]=new Array,i[1]=new Array,i[2]=new Array,i[3]=new Array,i[4]=new Array,i[5]=new Array,i[6]=new Array,i[7]=new Array,i[8]=new Array,i[9]=new Array,i[10]=new Array,i[11]=new Array,i[12]=new Array,i[13]=new Array,i[14]=new Array,i[15]=new Array;for(var n=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1],s=0;s<7;s++)for(var o=0,l=7;o<8;o++,l--)e[8*s+o]=t[8*l+s];for(s=0,s=0;s<16;s++){var r=0,a=0;for(o=0;o<n[s];o++){for(r=e[0],a=e[28],l=0;l<27;l++)e[l]=e[l+1],e[28+l]=e[29+l];e[27]=r,e[55]=a}var h=new Array(48);h[0]=e[13],h[1]=e[16],h[2]=e[10],h[3]=e[23],h[4]=e[0],h[5]=e[4],h[6]=e[2],h[7]=e[27],h[8]=e[14],h[9]=e[5],h[10]=e[20],h[11]=e[9],h[12]=e[22],h[13]=e[18],h[14]=e[11],h[15]=e[3],h[16]=e[25],h[17]=e[7],h[18]=e[15],h[19]=e[6],h[20]=e[26],h[21]=e[19],h[22]=e[12],h[23]=e[1],h[24]=e[40],h[25]=e[51],h[26]=e[30],h[27]=e[36],h[28]=e[46],h[29]=e[54],h[30]=e[29],h[31]=e[39],h[32]=e[50],h[33]=e[44],h[34]=e[32],h[35]=e[47],h[36]=e[43],h[37]=e[48],h[38]=e[38],h[39]=e[55],h[40]=e[33],h[41]=e[52],h[42]=e[45],h[43]=e[41],h[44]=e[49],h[45]=e[35],h[46]=e[28],h[47]=e[31];var c=0;switch(s){case 0:for(c=0;c<48;c++)i[0][c]=h[c];break;case 1:for(c=0;c<48;c++)i[1][c]=h[c];break;case 2:for(c=0;c<48;c++)i[2][c]=h[c];break;case 3:for(c=0;c<48;c++)i[3][c]=h[c];break;case 4:for(c=0;c<48;c++)i[4][c]=h[c];break;case 5:for(c=0;c<48;c++)i[5][c]=h[c];break;case 6:for(c=0;c<48;c++)i[6][c]=h[c];break;case 7:for(c=0;c<48;c++)i[7][c]=h[c];break;case 8:for(c=0;c<48;c++)i[8][c]=h[c];break;case 9:for(c=0;c<48;c++)i[9][c]=h[c];break;case 10:for(c=0;c<48;c++)i[10][c]=h[c];break;case 11:for(c=0;c<48;c++)i[11][c]=h[c];break;case 12:for(c=0;c<48;c++)i[12][c]=h[c];break;case 13:for(c=0;c<48;c++)i[13][c]=h[c];break;case 14:for(c=0;c<48;c++)i[14][c]=h[c];break;case 15:for(c=0;c<48;c++)i[15][c]=h[c]}}return i}null==window._ecp_remote_des&&(window._ecp_remote_des=d),e.default=window._ecp_remote_des},function(t,e,i){"use strict";(function(e){var n=i(0),s=i(14),o={"Content-Type":"application/x-www-form-urlencoded"};function l(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var r,a={adapter:("undefined"!=typeof XMLHttpRequest?r=i(6):void 0!==e&&(r=i(6)),r),transformRequest:[function(t,e){return s(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(l(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(l(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(t){a.headers[t]={}}),n.forEach(["post","put","patch"],function(t){a.headers[t]=n.merge(o)}),t.exports=a}).call(this,i(13))},function(t,e,i){"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return t.apply(e,i)}}},function(t,e,i){"use strict";var n=i(0),s=i(15),o=i(17),l=i(18),r=i(19),a=i(7),h="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||i(20);t.exports=function(t){return new Promise(function(e,c){var u=t.data,d=t.headers;n.isFormData(u)&&delete d["Content-Type"];var p=new XMLHttpRequest,g="onreadystatechange",f=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||r(t.url)||(p=new window.XDomainRequest,g="onload",f=!0,p.onprogress=function(){},p.ontimeout=function(){}),t.auth){var y=t.auth.username||"",m=t.auth.password||"";d.Authorization="Basic "+h(y+":"+m)}if(p.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p[g]=function(){if(p&&(4===p.readyState||f)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:i,config:t,request:p};s(e,c,n),p=null}},p.onerror=function(){c(a("Network Error",t,null,p)),p=null},p.ontimeout=function(){c(a("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var v=i(21),C=(t.withCredentials||r(t.url))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;C&&(d[t.xsrfHeaderName]=C)}if("setRequestHeader"in p&&n.forEach(d,function(t,e){void 0===u&&"content-type"===e.toLowerCase()?delete d[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),c(t),p=null)}),void 0===u&&(u=null),p.send(u)})}},function(t,e,i){"use strict";var n=i(16);t.exports=function(t,e,i,s,o){var l=new Error(t);return n(l,e,i,s,o)}},function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,i){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,i){"use strict";var n=i(0),s=i(5),o=i(12),l=i(4);function r(t){var e=new o(t),i=s(o.prototype.request,e);return n.extend(i,o.prototype,e),n.extend(i,e),i}var a=r(l);a.Axios=o,a.create=function(t){return r(n.merge(l,t))},a.Cancel=i(9),a.CancelToken=i(27),a.isCancel=i(8),a.all=function(t){return Promise.all(t)},a.spread=i(28),t.exports=a,t.exports.default=a},function(t,e){function i(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */t.exports=function(t){return null!=t&&(i(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&i(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,i){"use strict";var n=i(4),s=i(0),o=i(22),l=i(23);function r(t){this.defaults=t,this.interceptors={request:new o,response:new o}}r.prototype.request=function(t){"string"==typeof t&&(t=s.merge({url:arguments[0]},arguments[1])),(t=s.merge(n,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[l,void 0],i=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)i=i.then(e.shift(),e.shift());return i},s.forEach(["delete","get","head","options"],function(t){r.prototype[t]=function(e,i){return this.request(s.merge(i||{},{method:t,url:e}))}}),s.forEach(["post","put","patch"],function(t){r.prototype[t]=function(e,i,n){return this.request(s.merge(n||{},{method:t,url:e,data:i}))}}),t.exports=r},function(t,e){var i,n,s=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function r(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{n="function"==typeof clearTimeout?clearTimeout:l}catch(t){n=l}}();var a,h=[],c=!1,u=-1;function d(){c&&a&&(c=!1,a.length?h=a.concat(h):u=-1,h.length&&p())}function p(){if(!c){var t=r(d);c=!0;for(var e=h.length;e;){for(a=h,h=[];++u<e;)a&&a[u].run();u=-1,e=h.length}a=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===l||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function f(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new g(t,e)),1!==h.length||c||r(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=f,s.addListener=f,s.once=f,s.off=f,s.removeListener=f,s.removeAllListeners=f,s.emit=f,s.prependListener=f,s.prependOnceListener=f,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,i){"use strict";var n=i(0);t.exports=function(t,e){n.forEach(t,function(i,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[n])})}},function(t,e,i){"use strict";var n=i(7);t.exports=function(t,e,i){var s=i.config.validateStatus;i.status&&s&&!s(i.status)?e(n("Request failed with status code "+i.status,i.config,null,i.request,i)):t(i)}},function(t,e,i){"use strict";t.exports=function(t,e,i,n,s){return t.config=e,i&&(t.code=i),t.request=n,t.response=s,t}},function(t,e,i){"use strict";var n=i(0);function s(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var o;if(i)o=i(e);else if(n.isURLSearchParams(e))o=e.toString();else{var l=[];n.forEach(e,function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),l.push(s(e)+"="+s(t))}))}),o=l.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,i){"use strict";var n=i(0),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,o,l={};return t?(n.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),i=n.trim(t.substr(o+1)),e){if(l[e]&&s.indexOf(e)>=0)return;l[e]="set-cookie"===e?(l[e]?l[e]:[]).concat([i]):l[e]?l[e]+", "+i:i}}),l):l}},function(t,e,i){"use strict";var n=i(0);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function s(t){var n=t;return e&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=s(window.location.href),function(e){var i=n.isString(e)?s(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0}},function(t,e,i){"use strict";function n(){this.message="String contains an invalid character"}n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,i,s=String(t),o="",l=0,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.charAt(0|l)||(r="=",l%1);o+=r.charAt(63&e>>8-l%1*8)){if((i=s.charCodeAt(l+=.75))>255)throw new n;e=e<<8|i}return o}},function(t,e,i){"use strict";var n=i(0);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,i,s,o,l){var r=[];r.push(t+"="+encodeURIComponent(e)),n.isNumber(i)&&r.push("expires="+new Date(i).toGMTString()),n.isString(s)&&r.push("path="+s),n.isString(o)&&r.push("domain="+o),!0===l&&r.push("secure"),document.cookie=r.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,i){"use strict";var n=i(0);function s(){this.handlers=[]}s.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},s.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},s.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=s},function(t,e,i){"use strict";var n=i(0),s=i(24),o=i(8),l=i(4),r=i(25),a=i(26);function h(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return h(t),t.baseURL&&!r(t.url)&&(t.url=a(t.baseURL,t.url)),t.headers=t.headers||{},t.data=s(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||l.adapter)(t).then(function(e){return h(t),e.data=s(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(h(t),e&&e.response&&(e.response.data=s(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,i){"use strict";var n=i(0);t.exports=function(t,e,i){return n.forEach(i,function(i){t=i(t,e)}),t}},function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,i){"use strict";var n=i(9);function s(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var i=this;t(function(t){i.reason||(i.reason=new n(t),e(i.reason))})}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var t;return{token:new s(function(e){t=e}),cancel:t}},t.exports=s},function(t,e,i){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}}])},fBQ2:function(t,e,i){"use strict";var n=i("evD5"),s=i("X8DO");t.exports=function(t,e,i){e in t?n.f(t,e,s(0,i)):t[e]=i}},fC4T:function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},kAJ6:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"create",function(){return c});var n=i("wVMr"),s=i("1olR"),o=i("Nkn0"),l=i("vzCy"),r=i("3Gyv"),a=i("X361");i("/Luh");function h(){this.option,this.view,this.emitter,this.baseController,this.entityVueUtil}function c(t){var e=new h;return e.init(t),e}h.prototype={init:function(t){this.option=t,this.emitter=new l,this.createView(),this.createEntityVueUtil(),this.initExtend()},initExtend:function(){var t=this;a.initRequireConfig(this.option).then(function(){t.requireBaseController()})},requireBaseController:function(){var t=this;this.option.platform={getController:function(){return t},getView:function(){return t.getView()},getPlatformUtil:function(){return t.getPlatformUtil()},getFlowService:function(){return t.getFlowService()}},this.getRequireUtil().requirejs(["ndm.core.single.controller"],function(e){var i=e.create(t.option);i.getModel().setMetaModel(t.metaModel),t.baseController=i})},addRow:function(t,e){this.baseController.addRow(t,e)},deleteRow:function(t,e){this.baseController.deleteRow(t,e)},save:function(t,e){this.baseController.save(t,e)},createVueMinxin:function(){var t=this;return{methods:{addRow:function(e){t.baseController.addRow(e)},deleteRow:function(e){t.baseController.deleteRow(e)},save:function(){t.baseController.save()},getText:function(e,i){return null==i?"":t.getBaseController()?t.getBaseController().getView().getIdNameByPath(e,i):""},checkShow:function(t){var e=this.stateModel;return!e[t]||e[t].show},checkDisabled:function(t){if(!0===this.disabled)return!0;var e=this.stateModel;return!!e[t]&&e[t].disabled},checkReadonly:function(t){if(!0===this.readonly)return!0;var e=this.stateModel;return!!e[t]&&e[t].readonly}},created:function(){t.getView().createVue(this)},mounted:function(){!1!==t.getOption().autoShow&&t.show()},components:{"qzz-grid":n.a,"enum-select":s.a,"ecp-genentityselect":o.a}}},createView:function(){var t={};return t.controller=this,this.view=r.create(t),this.view},createEntityVueUtil:function(){var t=this;this.entityVueUtil=a.create({showNotify:function(e){t.getView().showNotify(e)}})},createFlowService:function(){var t={};return t.controller=this,this.flowService=FlowService.create(t),this.flowService},getFlowService:function(){return this.flowService},getRequireUtil:function(){return a.RequireUtil},getOption:function(){return this.option},getBaseController:function(){return this.baseController},getGenEntityService:function(){return this.getBaseController().getGenEntityService()},getView:function(){return this.view},getEmitter:function(){return this.emitter},bind:function(t,e){this.emitter.on(t,e)},emit:function(t,e,i){this.emitter.emit(t,e,i)},emitHandler:function(t,e){var i=this.emitter.listeners(t);if(!i||i.lenght)return!0;for(var n=0;n<i.lenght;n++){if(!1===i[n].apply(this,e))return!1}return!0},unbind:function(t,e){this.emitter.removeListener(t,e)},getVueDataModel:function(){return this.getView().getVueDataModel()},getPageModel:function(){return this.getView().getPageModel()},doGet:function(t,e){this.entityVueUtil.doGet(t,e)},doPost:function(t,e,i){this.entityVueUtil.doPost(t,e,i)},refresh:function(t){this.displayModel=t._DISPLAYMODEL,this.getView().refresh(t)},getDataModel:function(){return this.getView().getVueDataModel()},getMetaModel:function(){if(!this.metaModel){var t="necp/mapp/dem/query/service/pageMetaModel/getPageMetaModel";t+="?classId="+this.option.classId,t+="&typeId="+this.option.typeId,t+="&sceneId="+this.option.sceneId;var e=this.entityVueUtil.doPostSync(t,{});this.metaModel=e,this.pageMetaModel=e,e.metaModelExtItem&&(this.option.vipAddress=e.metaModelExtItem.vipAddress)}return this.metaModel},showNotify:function(t){this.getView().showNotify(t)},showConfirm:function(t,e,i){this.getView().showConfirm(t,e,i)},createWatch:function(){this.getView().createWatch()},getConfig:function(){return this.getView().getConfig()},getPlatformUtil:function(){return this.entityVueUtil},show:function(t){var e=this;a.waitFinished({checkFinished:function(){return e.baseController},finishedDo:function(){e.baseController.show(t)}})},createVueModel:function(){var t={metaModel:{},dataModel:{},displayModel:{},stateModel:{},pageConfig:{}},e=this.getMetaModel().items;return e&&(!function t(e,i){for(var n=0,s=i.length;n<s;n++){var o=i[n];e[o.name]=null,"object"===o.dataType&&(0===o.entityRelationTableType?(e[o.name]={},o.items&&o.items.length>0&&t(e,o.items)):e[o.name]=[])}}(t.dataModel,e),function t(e,i,n){for(var s=0,o=n.length;s<o;s++){var l=n[s];e[l.name]={caption:l.caption,dataType:l.dataType,length:l.length},i[l.name]={show:!0,disabled:!1,readonly:!1},l.items&&l.items.length>0&&t(e[l.name],i[l.name],l.items)}}(t.metaModel,t.stateModel,e)),t}}},m8It:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_require__.d(__webpack_exports__,"requirejs",function(){return requirejs});var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__=__webpack_require__("pFYg"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__),require,require,requirejs,require,define;!function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(t,e){return e||""}function isFunction(t){return"[object Function]"===ostring.call(t)}function isArray(t){return"[object Array]"===ostring.call(t)}function each(t,e){var i;if(t)for(i=0;i<t.length&&(!t[i]||!e(t[i],i,t));i+=1);}function eachReverse(t,e){var i;if(t)for(i=t.length-1;i>-1&&(!t[i]||!e(t[i],i,t));i-=1);}function hasProp(t,e){return hasOwn.call(t,e)}function getOwn(t,e){return hasProp(t,e)&&t[e]}function eachProp(t,e){var i;for(i in t)if(hasProp(t,i)&&e(t[i],i))break}function mixin(t,e,i,n){return e&&eachProp(e,function(e,s){!i&&hasProp(t,s)||(!n||"object"!==(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(e))||!e||isArray(e)||isFunction(e)||e instanceof RegExp?t[s]=e:(t[s]||(t[s]={}),mixin(t[s],e,i,n)))}),t}function bind(t,e){return function(){return e.apply(t,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(t){throw t}function getGlobal(t){if(!t)return t;var e=global;return each(t.split("."),function(t){e=e[t]}),e}function makeError(t,e,i,n){var s=new Error(e+"\nhttps://requirejs.org/docs/errors.html#"+t);return s.requireType=t,s.requireModules=n,i&&(s.originalError=i),s}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(t,e,i,n){var s,o,l=defContextName;return isArray(t)||"string"==typeof t||(o=t,isArray(e)?(t=e,e=i,i=n):t=[]),o&&o.context&&(l=o.context),(s=getOwn(contexts,l))||(s=contexts[l]=req.s.newContext(l)),o&&s.configure(o),s.require(t,e,i)},req.config=function(t){return req(t)},req.nextTick=void 0!==setTimeout?function(t){setTimeout(t,4)}:function(t){t()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(t,e,i){var n=t.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return n.type=t.scriptType||"text/javascript",n.charset="utf-8",n.async=!0,n},req.load=function(t,e,i){var n,s=t&&t.config||{};if(isBrowser)return(n=req.createNode(s,e,i)).setAttribute("data-requirecontext",t.contextName),n.setAttribute("data-requiremodule",e),!n.attachEvent||n.attachEvent.toString&&n.attachEvent.toString().indexOf("[native code")<0||isOpera?(n.addEventListener("load",t.onScriptLoad,!1),n.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,n.attachEvent("onreadystatechange",t.onScriptLoad)),n.src=i,s.onNodeCreated&&s.onNodeCreated(n,s,e,i),currentlyAddingScript=n,baseElement?head.insertBefore(n,baseElement):head.appendChild(n),currentlyAddingScript=null,n;if(isWebWorker)try{setTimeout(function(){},0),importScripts(i),t.completeLoad(e)}catch(n){t.onError(makeError("importscripts","importScripts failed for "+e+" at "+i,n,[e]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(t){if(head||(head=t.parentNode),dataMain=t.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(t,e,i){var n,s;"string"!=typeof t&&(i=e,e=t,t=null),isArray(e)||(i=e,e=null),!e&&isFunction(i)&&(e=[],i.length&&(i.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(t,i){e.push(i)}),e=(1===i.length?["require"]:["require","exports","module"]).concat(e))),useInteractive&&(n=currentlyAddingScript||getInteractiveScript())&&(t||(t=n.getAttribute("data-requiremodule")),s=contexts[n.getAttribute("data-requirecontext")]),s?(s.defQueue.push([t,e,i]),s.defQueueMap[t]=!0):globalDefQueue.push([t,e,i])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(t){var e,i,n,s,o,l={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},r={},a={},h={},c=[],u={},d={},p={},g=1,f=1;function y(t,e,i){var n,s,o,r,a,h,c,u,d,p,g=e&&e.split("/"),f=l.map,y=f&&f["*"];if(t&&(h=(t=t.split("/")).length-1,l.nodeIdCompat&&jsSuffixRegExp.test(t[h])&&(t[h]=t[h].replace(jsSuffixRegExp,"")),"."===t[0].charAt(0)&&g&&(t=g.slice(0,g.length-1).concat(t)),function(t){var e,i;for(e=0;e<t.length;e++)if("."===(i=t[e]))t.splice(e,1),e-=1;else if(".."===i){if(0===e||1===e&&".."===t[2]||".."===t[e-1])continue;e>0&&(t.splice(e-1,2),e-=2)}}(t),t=t.join("/")),i&&f&&(g||y)){s=t.split("/");t:for(o=s.length;o>0;o-=1){if(a=s.slice(0,o).join("/"),g)for(r=g.length;r>0;r-=1)if((n=getOwn(f,g.slice(0,r).join("/")))&&(n=getOwn(n,a))){c=n,u=o;break t}!d&&y&&getOwn(y,a)&&(d=getOwn(y,a),p=o)}!c&&d&&(c=d,u=p),c&&(s.splice(0,u,c),t=s.join("/"))}return getOwn(l.pkgs,t)||t}function m(t){isBrowser&&each(scripts(),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===n.contextName)return e.parentNode.removeChild(e),!0})}function v(t){var e=getOwn(l.paths,t);if(e&&isArray(e)&&e.length>1)return e.shift(),n.require.undef(t),n.makeRequire(null,{skipMap:!0})([t]),!0}function C(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function S(t,e,i,s){var o,l,r,a,h=null,c=e?e.name:null,d=t,p=!0,m="";return t||(p=!1,t="_@r"+(g+=1)),h=(a=C(t))[0],t=a[1],h&&(h=y(h,c,s),l=getOwn(u,h)),t&&(h?m=i?t:l&&l.normalize?l.normalize(t,function(t){return y(t,c,s)}):-1===t.indexOf("!")?y(t,c,s):t:(h=(a=C(m=y(t,c,s)))[0],m=a[1],i=!0,o=n.nameToUrl(m))),{prefix:h,name:m,parentMap:e,unnormalized:!!(r=!h||l||i?"":"_unnormalized"+(f+=1)),url:o,originalName:d,isDefine:p,id:(h?h+"!"+m:m)+r}}function b(t){var e=t.id,i=getOwn(r,e);return i||(i=r[e]=new n.Module(t)),i}function x(t,e,i){var n=t.id,s=getOwn(r,n);!hasProp(u,n)||s&&!s.defineEmitComplete?(s=b(t)).error&&"error"===e?i(s.error):s.on(e,i):"defined"===e&&i(u[n])}function _(t,e){var i=t.requireModules,n=!1;e?e(t):(each(i,function(e){var i=getOwn(r,e);i&&(i.error=t,i.events.error&&(n=!0,i.emit("error",t)))}),n||req.onError(t))}function w(){globalDefQueue.length&&(each(globalDefQueue,function(t){var e=t[0];"string"==typeof e&&(n.defQueueMap[e]=!0),c.push(t)}),globalDefQueue=[])}function T(t){delete r[t],delete a[t]}function N(){var t,i,s=1e3*l.waitSeconds,h=s&&n.startTime+s<(new Date).getTime(),c=[],d=[],p=!1,g=!0;if(!e){if(e=!0,eachProp(a,function(t){var e=t.map,n=e.id;if(t.enabled&&(e.isDefine||d.push(t),!t.error))if(!t.inited&&h)v(n)?(i=!0,p=!0):(c.push(n),m(n));else if(!t.inited&&t.fetched&&e.isDefine&&(p=!0,!e.prefix))return g=!1}),h&&c.length)return(t=makeError("timeout","Load timeout for modules: "+c,null,c)).contextName=n.contextName,_(t);g&&each(d,function(t){!function t(e,i,n){var s=e.map.id;e.error?e.emit("error",e.error):(i[s]=!0,each(e.depMaps,function(s,o){var l=s.id,a=getOwn(r,l);!a||e.depMatched[o]||n[l]||(getOwn(i,l)?(e.defineDep(o,u[l]),e.check()):t(a,i,n))}),n[s]=!0)}(t,{},{})}),h&&!i||!p||!isBrowser&&!isWebWorker||o||(o=setTimeout(function(){o=0,N()},50)),e=!1}}function O(t){hasProp(u,t[0])||b(S(t[0],null,!0)).init(t[1],t[2])}function L(t,e,i,n){t.detachEvent&&!isOpera?n&&t.detachEvent(n,e):t.removeEventListener(i,e,!1)}function k(t){var e=t.currentTarget||t.srcElement;return L(e,n.onScriptLoad,"load","onreadystatechange"),L(e,n.onScriptError,"error"),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function D(){var t;for(w();c.length;){if(null===(t=c.shift())[0])return _(makeError("mismatch","Mismatched anonymous define() module: "+t[t.length-1]));O(t)}n.defQueueMap={}}return s={require:function(t){return t.require?t.require:t.require=n.makeRequire(t.map)},exports:function(t){if(t.usingExports=!0,t.map.isDefine)return t.exports?u[t.map.id]=t.exports:t.exports=u[t.map.id]={}},module:function(t){return t.module?t.module:t.module={id:t.map.id,uri:t.map.url,config:function(){return getOwn(l.config,t.map.id)||{}},exports:t.exports||(t.exports={})}}},(i=function(t){this.events=getOwn(h,t.id)||{},this.map=t,this.shim=getOwn(l.shim,t.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(t,e,i,n){n=n||{},this.inited||(this.factory=e,i?this.on("error",i):this.events.error&&(i=bind(this,function(t){this.emit("error",t)})),this.depMaps=t&&t.slice(0),this.errback=i,this.inited=!0,this.ignore=n.ignore,n.enabled||this.enabled?this.enable():this.check())},defineDep:function(t,e){this.depMatched[t]||(this.depMatched[t]=!0,this.depCount-=1,this.depExports[t]=e)},fetch:function(){if(!this.fetched){this.fetched=!0,n.startTime=(new Date).getTime();var t=this.map;if(!this.shim)return t.prefix?this.callPlugin():this.load();n.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return t.prefix?this.callPlugin():this.load()}))}},load:function(){var t=this.map.url;d[t]||(d[t]=!0,n.load(this.map.id,t))},check:function(){if(this.enabled&&!this.enabling){var t,e,i=this.map.id,s=this.depExports,o=this.exports,l=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(l)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{o=n.execCb(i,l,s,o)}catch(e){t=e}else o=n.execCb(i,l,s,o);if(this.map.isDefine&&void 0===o&&((e=this.module)?o=e.exports:this.usingExports&&(o=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",_(this.error=t)}else o=l;if(this.exports=o,this.map.isDefine&&!this.ignore&&(u[i]=o,req.onResourceLoad)){var r=[];each(this.depMaps,function(t){r.push(t.normalizedMap||t)}),req.onResourceLoad(n,this.map,r)}T(i),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(n.defQueueMap,i)||this.fetch()}},callPlugin:function(){var t=this.map,e=t.id,i=S(t.prefix);this.depMaps.push(i),x(i,"defined",bind(this,function(i){var s,o,a,h=getOwn(p,this.map.id),c=this.map.name,u=this.map.parentMap?this.map.parentMap.name:null,d=n.makeRequire(t.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(c=i.normalize(c,function(t){return y(t,u,!0)})||""),x(o=S(t.prefix+"!"+c,this.map.parentMap,!0),"defined",bind(this,function(t){this.map.normalizedMap=o,this.init([],function(){return t},null,{enabled:!0,ignore:!0})})),void((a=getOwn(r,o.id))&&(this.depMaps.push(o),this.events.error&&a.on("error",bind(this,function(t){this.emit("error",t)})),a.enable()))):h?(this.map.url=n.nameToUrl(h),void this.load()):((s=bind(this,function(t){this.init([],function(){return t},null,{enabled:!0})})).error=bind(this,function(t){this.inited=!0,this.error=t,t.requireModules=[e],eachProp(r,function(t){0===t.map.id.indexOf(e+"_unnormalized")&&T(t.map.id)}),_(t)}),s.fromText=bind(this,function(i,o){var r=t.name,a=S(r),h=useInteractive;o&&(i=o),h&&(useInteractive=!1),b(a),hasProp(l.config,e)&&(l.config[r]=l.config[e]);try{req.exec(i)}catch(t){return _(makeError("fromtexteval","fromText eval for "+e+" failed: "+t,t,[e]))}h&&(useInteractive=!0),this.depMaps.push(a),n.completeLoad(r),d([r],s)}),void i.load(t.name,d,s,l))})),n.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){a[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(t,e){var i,o,l;if("string"==typeof t){if(t=S(t,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[e]=t,l=getOwn(s,t.id))return void(this.depExports[e]=l(this));this.depCount+=1,x(t,"defined",bind(this,function(t){this.undefed||(this.defineDep(e,t),this.check())})),this.errback?x(t,"error",bind(this,this.errback)):this.events.error&&x(t,"error",bind(this,function(t){this.emit("error",t)}))}i=t.id,o=r[i],hasProp(s,i)||!o||o.enabled||n.enable(t,this)})),eachProp(this.pluginMaps,bind(this,function(t){var e=getOwn(r,t.id);e&&!e.enabled&&n.enable(t,this)})),this.enabling=!1,this.check()},on:function(t,e){var i=this.events[t];i||(i=this.events[t]=[]),i.push(e)},emit:function(t,e){each(this.events[t],function(t){t(e)}),"error"===t&&delete this.events[t]}},(n={config:l,contextName:t,registry:r,defined:u,urlFetched:d,defQueue:c,defQueueMap:{},Module:i,makeModuleMap:S,nextTick:req.nextTick,onError:_,configure:function(t){if(t.baseUrl&&"/"!==t.baseUrl.charAt(t.baseUrl.length-1)&&(t.baseUrl+="/"),"string"==typeof t.urlArgs){var e=t.urlArgs;t.urlArgs=function(t,i){return(-1===i.indexOf("?")?"?":"&")+e}}var i=l.shim,s={paths:!0,bundles:!0,config:!0,map:!0};eachProp(t,function(t,e){s[e]?(l[e]||(l[e]={}),mixin(l[e],t,!0,!0)):l[e]=t}),t.bundles&&eachProp(t.bundles,function(t,e){each(t,function(t){t!==e&&(p[t]=e)})}),t.shim&&(eachProp(t.shim,function(t,e){isArray(t)&&(t={deps:t}),!t.exports&&!t.init||t.exportsFn||(t.exportsFn=n.makeShimExports(t)),i[e]=t}),l.shim=i),t.packages&&each(t.packages,function(t){var e;e=(t="string"==typeof t?{name:t}:t).name,t.location&&(l.paths[e]=t.location),l.pkgs[e]=t.name+"/"+(t.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(r,function(t,e){t.inited||t.map.unnormalized||(t.map=S(e,null,!0))}),(t.deps||t.callback)&&n.require(t.deps||[],t.callback)},makeShimExports:function(t){return function(){var e;return t.init&&(e=t.init.apply(global,arguments)),e||t.exports&&getGlobal(t.exports)}},makeRequire:function(e,i){function o(l,a,h){var c,d;return i.enableBuildCallback&&a&&isFunction(a)&&(a.__requireJsBuild=!0),"string"==typeof l?isFunction(a)?_(makeError("requireargs","Invalid require call"),h):e&&hasProp(s,l)?s[l](r[e.id]):req.get?req.get(n,l,e,o):(c=S(l,e,!1,!0).id,hasProp(u,c)?u[c]:_(makeError("notloaded",'Module name "'+c+'" has not been loaded yet for context: '+t+(e?"":". Use require([])")))):(D(),n.nextTick(function(){D(),(d=b(S(null,e))).skipMap=i.skipMap,d.init(l,a,h,{enabled:!0}),N()}),o)}return i=i||{},mixin(o,{isBrowser:isBrowser,toUrl:function(t){var i,s=t.lastIndexOf("."),o=t.split("/")[0];return-1!==s&&(!("."===o||".."===o)||s>1)&&(i=t.substring(s,t.length),t=t.substring(0,s)),n.nameToUrl(y(t,e&&e.id,!0),i,!0)},defined:function(t){return hasProp(u,S(t,e,!1,!0).id)},specified:function(t){return t=S(t,e,!1,!0).id,hasProp(u,t)||hasProp(r,t)}}),e||(o.undef=function(t){w();var i=S(t,e,!0),s=getOwn(r,t);s.undefed=!0,m(t),delete u[t],delete d[i.url],delete h[t],eachReverse(c,function(e,i){e[0]===t&&c.splice(i,1)}),delete n.defQueueMap[t],s&&(s.events.defined&&(h[t]=s.events),T(t))}),o},enable:function(t){getOwn(r,t.id)&&b(t).enable()},completeLoad:function(t){var e,i,s,o=getOwn(l.shim,t)||{},a=o.exports;for(w();c.length;){if(null===(i=c.shift())[0]){if(i[0]=t,e)break;e=!0}else i[0]===t&&(e=!0);O(i)}if(n.defQueueMap={},s=getOwn(r,t),!e&&!hasProp(u,t)&&s&&!s.inited){if(!(!l.enforceDefine||a&&getGlobal(a)))return v(t)?void 0:_(makeError("nodefine","No define call for "+t,null,[t]));O([t,o.deps||[],o.exportsFn])}N()},nameToUrl:function(t,e,i){var s,o,r,a,h,c,u=getOwn(l.pkgs,t);if(u&&(t=u),c=getOwn(p,t))return n.nameToUrl(c,e,i);if(req.jsExtRegExp.test(t))a=t+(e||"");else{for(s=l.paths,r=(o=t.split("/")).length;r>0;r-=1)if(h=getOwn(s,o.slice(0,r).join("/"))){isArray(h)&&(h=h[0]),o.splice(0,r,h);break}a=o.join("/"),a=("/"===(a+=e||(/^data\:|^blob\:|\?/.test(a)||i?"":".js")).charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":l.baseUrl)+a}return l.urlArgs&&!/^blob\:/.test(a)?a+l.urlArgs(t,a):a},load:function(t,e){req.load(n,t,e)},execCb:function(t,e,i,n){return e.apply(n,i)},onScriptLoad:function(t){if("load"===t.type||readyRegExp.test((t.currentTarget||t.srcElement).readyState)){interactiveScript=null;var e=k(t);n.completeLoad(e.id)}},onScriptError:function(t){var e=k(t);if(!v(e.id)){var i=[];return eachProp(r,function(t,n){0!==n.indexOf("_@r")&&each(t.depMaps,function(t){if(t.id===e.id)return i.push(n),!0})}),_(makeError("scripterror",'Script error for "'+e.id+(i.length?'", needed by: '+i.join(", "):'"'),t,[e.id]))}}}).require=n.makeRequire(),n}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(t){if("interactive"===t.readyState)return interactiveScript=t}),interactiveScript)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),window.define=define,window.requirejs=requirejs},msXi:function(t,e,i){var n=i("77Pl");t.exports=function(t,e,i,s){try{return s?e(n(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},"n+Or":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("wVMr"),s=i("1olR"),o=i("Nkn0"),l=i("7+uW"),r=l.default.extend(s.a),a=function(t,e){this.instance="",this.dataoptions={value:e.value,option:{classId:e.classId,typeId:e.typeId,hideBorder:!0,autoSize:!1}};var i=t;t instanceof HTMLElement||(i=document.getElementById(t)),this.instance=new r({data:{},propsData:this.dataoptions}),this.instance.$mount(),i.appendChild(this.instance.$el);var n=this;this.getValue=function(){return n.instance.getValue()},this.getText=function(){var t=n.instance.getOriginal();return t?t.text:""},this.getPopState=function(){return n.instance.popState},this.setValue=function(t){n.instance.value=t.id,n.instance.text=t.text},this.setWidth=function(t){n.instance.width=t+"px"},this.setHeight=function(t){n.instance.height=t+"px"}};i("JHcO");var h=window._ecp_remote_utils,c=l.default.extend(o.a),u=function(t,e){this.instance="",this.dataoptions={value:e.multiple?[]:"",option:{currentValue:e.multiple,multiple:e.multiple,returnType:e.returnType,refTypeValues:e.refTypeValues,filters:e.filters,embedQzzGrid:!0}},this.instance=new c({propsData:this.dataoptions}),this.instance.$mount(),t.appendChild(this.instance.$el),this.instance.$children[0].$refs.select.inputborder="inputborder";var i=this;this.getValue=function(){return i.instance.$refs.ecpentityselect.$refs.select.value||i.instance.value},this.getText=function(){if(i.instance.currentValue){var t=i.instance.datas,e=void 0,n=i.instance.isReturnObject,s=i.instance.multiple;if(n&&s)i.instance.currentValue.length>0&&(e=i.instance.currentValue[0].gid);else if(n&&!s)e=i.instance.currentValue.gid;else if(!n&&s)if(-1!=i.instance.currentValue.indexOf(",")){var o=i.instance.currentValue.split(",");e=o[0]}else e=i.instance.currentValue;else n||s||(e=i.instance.currentValue);var l="";return t.forEach(function(t){t.gid==e&&(l=t.name)}),h.escapeAngleBrackets(l)}},this.getPopState=function(){return i.instance.selectDropDownState||i.instance.$refs.ecpentityselect.$refs.popentity.visible},this.setValue=function(t){i.instance.text=t.text,i.instance.value=t.id},this.setWidth=function(t){i.instance.$children[0].$refs.select.inputwidth=t},this.setHeight=function(t){i.instance.$children[0].$refs.select.inputheight=t},this.getCurrData=function(){var t=void 0,e=i.instance.$refs.ecpentityselect,n=e.select.value;return e.data&&e.data.forEach(function(e){e.gid!=n||(t=e)}),t},this.refreshFilters=function(t){i.instance.refreshFilters(t)}},d={webPath:"",classId:"sdf11",typeId:"TYPEIDREIMSINGLE0918",autoShow:!1},p=i("kAJ6").create(d),g={mixins:[p.createVueMinxin()],components:{qzzGrid:n.a,enumSelect:s.a,enumGridSelect:a,GenEntitySelect:o.a,GeneralentityTableSelect:u},data:function(){var t=p.createVueModel();return t.vipAddress="${vipAddr}",t.dataModel={gid:null,summary:null,summoney:null,typecode:null,zSingleDt:null,deptname:null,zSingle:null,zSingleGender:null,isReim:null,qtmx:null,mx:null},t.pageConfig={deptname:{returnType:"object",refTypeValues:[{inputerGid:"",itemGid:"c67fced1b3e15b59c680d83208010b0d",refCaption:"部门",refClassId:"11919f5c81917c754ec9b195cbc98294",refTypeId:"TYPEIDDEPT0918"}]},zSingleGender:{classId:"enum",typeId:"ce94d9793698daba7b1a7b5898a73cc1"}},t}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-container bxbl-0",attrs:{candrop:"ecp-rect"}},[i("div",{staticClass:"col-12",attrs:{candrop:"ecp-col"}},[i("div",{staticClass:" bxbl-1",attrs:{candrop:"ecp-rect"}},[i("div",{staticClass:"col-3 verticalMiddle bxbl-2",attrs:{candrop:"ecp-col"}},[i("div",{staticClass:"ellipsis bxbl-3"},[i("font",{staticClass:" bxbl-4"},[t._v("差旅费报销 |")]),t._v(" 编号：1640\n\t\t\t\t\t\t"),i("div",[i("font",{staticClass:" bxbl-5"},[t._v("制单日期：2019-11-28")])],1)],1)]),t._v(" "),i("div",{staticClass:"col-1 bxbl-6",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-7",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-7",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-7",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-7",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-7",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-7",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-7",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-7",attrs:{candrop:"ecp-col"}})])]),t._v(" "),i("div",{staticClass:"dj_piece_wrapper col-12 bxbl-8",attrs:{candrop:"ecp-col"}},[i("div",{staticClass:" bxbl-9",attrs:{candrop:"ecp-rect"}},[i("div",{staticClass:"col-12 bxbl-10",attrs:{candrop:"ecp-col"}},[t._m(0),t._v(" "),i("div",{staticClass:"mainContainer piece_content bxbl-18",attrs:{candrop:"ecp-rect"}},[i("div",{staticClass:"col-12",attrs:{candrop:"ecp-col"}},[i("div",{staticClass:" bxbl-19",attrs:{candrop:"ecp-rect"}},[t._m(1),t._v(" "),i("div",{staticClass:"col-2 bxbl-22",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 bxbl-22",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 bxbl-23",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 bxbl-22",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 bxbl-22",attrs:{candrop:"ecp-col"}}),t._v(" "),t._m(2),t._v(" "),i("div",{staticClass:"col-2 bxbl-26",attrs:{candrop:"ecp-col"}},[i("ecp-select",{ref:"ecp_component_select_ae5v",staticClass:" bxbl-27",attrs:{idfield:"value",data:t.data,textfield:"label",showmore:"",size:"mini",placeholder:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),t._m(3),t._v(" "),i("div",{staticClass:"col-2 bxbl-26",attrs:{candrop:"ecp-col"}},[i("el-input",{ref:"el_input_d6ot",staticClass:"xdeer-x-input bxbl-28",attrs:{size:"mini",type:"text"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),t._m(4),t._v(" "),i("div",{staticClass:"col-2 bxbl-26",attrs:{candrop:"ecp-col"}},[i("el-input",{ref:"el_input_5t8y",staticClass:"xdeer-x-input3 bxbl-28",attrs:{size:"mini",type:"text"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),t._m(5),t._v(" "),i("div",{staticClass:"col-2 bxbl-26",attrs:{candrop:"ecp-col"}},[i("el-input",{ref:"el_input_amk9",staticClass:"xdeer-x-input1 bxbl-28",attrs:{size:"mini",type:"text"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),t._m(6),t._v(" "),i("div",{staticClass:"col-2 bxbl-26",attrs:{candrop:"ecp-col"}},[i("el-input",{ref:"el_input_1srv",staticClass:"xdeer-x-input2 bxbl-28",attrs:{size:"mini",type:"text"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),i("div",{staticClass:"col-2 bxbl-22",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 bxbl-22",attrs:{candrop:"ecp-col"}}),t._v(" "),t._m(7),t._v(" "),i("div",{staticClass:"col-2 bxbl-23",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 bxbl-30",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 bxbl-22",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 bxbl-22",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 bxbl-22",attrs:{candrop:"ecp-col"}}),t._v(" "),t._m(8),t._v(" "),i("div",{staticClass:"col-2 bxbl-31",attrs:{candrop:"ecp-col"}},[i("ecp-select",{ref:"ecp_component_select_mhnl",staticClass:" bxbl-27",attrs:{idfield:"value",data:t.data,textfield:"label",showmore:"",size:"mini",placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),t._m(9),t._v(" "),i("div",{staticClass:"col-2 bxbl-26",attrs:{candrop:"ecp-col"}},[i("el-input",{ref:"el_input_6cm5",staticClass:"xdeer-x-input4 bxbl-28",attrs:{size:"mini",type:"text"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),t._m(10),t._v(" "),i("div",{staticClass:"col-2 bxbl-26",attrs:{candrop:"ecp-col"}},[i("el-input",{ref:"el_input_bzwc",staticClass:"xdeer-x-input7 bxbl-28",attrs:{size:"mini",type:"text"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),t._m(11),t._v(" "),i("div",{staticClass:"col-2 bxbl-26",attrs:{candrop:"ecp-col"}},[i("el-input",{ref:"el_input_plps",staticClass:"xdeer-x-input5 bxbl-28",attrs:{size:"mini",type:"text"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),t._m(12),t._v(" "),i("div",{staticClass:"col-2 bxbl-26",attrs:{candrop:"ecp-col"}},[i("el-input",{ref:"el_input_mh5i",staticClass:"xdeer-x-input6 bxbl-28",attrs:{size:"mini",type:"text"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),i("div",{staticClass:"col-2 bxbl-22",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 bxbl-22",attrs:{candrop:"ecp-col"}})])])])])])]),t._v(" "),i("div",{staticClass:"dj_piece_wrapper col-12 bxbl-8",attrs:{candrop:"ecp-col"}},[i("div",{staticClass:" bxbl-9",attrs:{candrop:"ecp-rect"}},[i("div",{staticClass:"col-12 bxbl-32",attrs:{candrop:"ecp-col"}},[t._m(13),t._v(" "),i("div",{staticClass:"mainContainer piece_content bxbl-34",attrs:{candrop:"ecp-rect"}},[i("div",{staticClass:"col-12",attrs:{candrop:"ecp-col"}},[i("div",{staticClass:" bxbl-35",attrs:{candrop:"ecp-rect"}},[t._m(14),t._v(" "),i("div",{staticClass:"col-2 bxbl-37",attrs:{candrop:"ecp-col"}},[i("el-date-picker",{ref:"el_date_picker_pe3v",staticClass:" bxbl-28",attrs:{size:"mini",clearable:!0,align:"right","range-separator":"至"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),t._m(15),t._v(" "),i("div",{staticClass:"col-2 bxbl-37",attrs:{candrop:"ecp-col"}},[i("el-input",{ref:"el_input_mo5e",staticClass:"xdeer-x-input8 bxbl-28",attrs:{size:"mini",type:"text"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),t._m(16),t._v(" "),i("div",{staticClass:"col-2 bxbl-39",attrs:{candrop:"ecp-col"}}),t._v(" "),t._m(17),t._v(" "),i("div",{staticClass:"col-10 bxbl-41",attrs:{candrop:"ecp-col"}},[i("el-input",{ref:"el_textarea_kemz",staticClass:"xdeer-x-input9",attrs:{type:"textarea","show-word-limit":"",rows:"2",maxlength:"200"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),t._m(18),t._v(" "),i("div",{staticClass:"col-2 bxbl-44",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 bxbl-45",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 bxbl-45",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 bxbl-44",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 alignRight verticalMiddle bxbl-46",attrs:{candrop:"ecp-col"}},[i("el-button-group",{ref:"el_button_group_pkib",attrs:{nestedcom:""}},[i("el-button",{attrs:{id:"BUTTON_8135",default:"",undefined:"",size:"mini",type:"default",icon:"fa fa-plus"}}),i("el-button",{attrs:{id:"BUTTON_3833",default:"",undefined:"",size:"mini",type:"default",icon:"fa fa-times"}}),i("el-button",{attrs:{id:"BUTTON_3132",default:"",undefined:"",size:"mini",type:"default",icon:"fa fa-bars"}})],1)],1),t._v(" "),i("div",{staticClass:"col-12 bxbl-47",attrs:{candrop:"ecp-col"}},[i("el-table",{ref:"el_table_74cm",staticClass:" bxbl-48",attrs:{data:t.data,height:"200",stripe:!0,border:!0,fit:!0,"show-header":!0,"highlight-current-row":!1,"empty-text":"暂无数据","show-summary":!1,"sum-text":"合计"}},[i("el-table-column",{attrs:{width:"50px",align:"center",type:"index",label:"序号","class-name":"xdeer__xbt_0 xuhao"}}),t._v(" "),i("el-table-column",{attrs:{com:"el-table-column",label:"新项目1",prop:"new_item1",align:"center","class-name":"xdeer__new_item1"}}),t._v(" "),i("el-table-column",{attrs:{com:"el-table-column",label:"新项目2",prop:"new_item2",align:"center","class-name":"xdeer__new_item2"}}),t._v(" "),i("el-table-column",{attrs:{com:"el-table-column",label:"新项目3",prop:"new_item3",align:"center","class-name":"xdeer__new_item3"}})],1)],1),t._v(" "),t._m(19),t._v(" "),i("div",{staticClass:"col-2 bxbl-44",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 bxbl-45",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 bxbl-45",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 bxbl-45",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-2 alignRight verticalMiddle bxbl-46",attrs:{candrop:"ecp-col"}},[i("el-button-group",{ref:"el_button_group_tt7h",attrs:{nestedcom:""}},[i("el-button",{attrs:{id:"BUTTON_8135",default:"",undefined:"",size:"mini",type:"default",icon:"fa fa-plus"}}),i("el-button",{attrs:{id:"BUTTON_3833",default:"",undefined:"",size:"mini",type:"default",icon:"fa fa-times"}}),i("el-button",{attrs:{id:"BUTTON_3132",default:"",undefined:"",size:"mini",type:"default",icon:"fa fa-bars"}})],1)],1),t._v(" "),i("div",{staticClass:"col-12 bxbl-47",attrs:{candrop:"ecp-col"}},[i("el-table",{ref:"el_table_60bl",staticClass:" bxbl-48",attrs:{data:t.data,height:"200",stripe:!0,border:!0,fit:!0,"show-header":!0,"highlight-current-row":!1,"empty-text":"暂无数据","show-summary":!1,"sum-text":"合计"}},[i("el-table-column",{attrs:{width:"50px",align:"center",type:"index",label:"序号","class-name":"xdeer__xbt_0 xuhao"}}),t._v(" "),i("el-table-column",{attrs:{com:"el-table-column",label:"新项目1",prop:"new_item1",align:"center","class-name":"xdeer__new_item1"}}),t._v(" "),i("el-table-column",{attrs:{com:"el-table-column",label:"新项目2",prop:"new_item2",align:"center","class-name":"xdeer__new_item2"}}),t._v(" "),i("el-table-column",{attrs:{com:"el-table-column",label:"新项目3",prop:"new_item3",align:"center","class-name":"xdeer__new_item3"}})],1)],1)])])])])])]),t._v(" "),i("div",{staticClass:"col-12 bxbl-49",attrs:{candrop:"ecp-col"}},[i("div",{staticClass:"navbar-fixed-bottom bxbl-50",attrs:{candrop:"ecp-rect"}},[i("div",{staticClass:"verticalMiddle col-6 bxbl-51",attrs:{candrop:"ecp-col"}},[i("div",{staticClass:"ellipsis bxbl-52"},[t._v("共合计 \n\t\t\t\t\t\t"),i("font",{staticClass:" bxbl-53"},[t._v("0.00")])],1)]),t._v(" "),i("div",{staticClass:"verticalMiddle col-6 bxbl-54",attrs:{candrop:"ecp-col"}},[i("div",{ref:"el_button_group_v3yq"},[i("el-button",{staticClass:" bxbl-55",attrs:{id:"BUTTON_2147",default:"",size:"mini",type:"primary",icon:""}},[t._v("传递")])],1)])])]),t._v(" "),t._m(20),t._v(" "),t._m(21)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:" bxbl-11",attrs:{candrop:"ecp-rect"}},[i("div",{staticClass:"col-1 bxbl-12",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 verticalMiddle bxbl-13",attrs:{candrop:"ecp-col"}},[i("div",{staticClass:"ellipsis bxbl-14"},[t._v("基本信息")])]),t._v(" "),i("div",{staticClass:"verticalMiddle col-1 bxbl-15",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-17",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-20",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-21"},[this._v("报销方")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-24",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-25"},[this._v("报销人：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-26",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-25"},[this._v("经办人：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-26",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-25"},[this._v("电话：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-29",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-25"},[this._v("部门：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-26",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-25"},[this._v("工号：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-29",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-21"},[this._v("收款方")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-24",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-25"},[this._v("收款人账号：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-26",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-25"},[this._v("银行账号：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-26",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-25"},[this._v("开户银行：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-24",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-25"},[this._v("工号：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-26",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-25"},[this._v("银行联行号：")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:" bxbl-11",attrs:{candrop:"ecp-rect"}},[i("div",{staticClass:"col-1 bxbl-12",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 verticalMiddle bxbl-13",attrs:{candrop:"ecp-col"}},[i("div",{staticClass:"ellipsis bxbl-33"},[t._v("单据详情")])]),t._v(" "),i("div",{staticClass:"verticalMiddle col-1 bxbl-15",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-36",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-25"},[e("span",{staticClass:"required"},[this._v("*")]),this._v("发生日期：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-37",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-25"},[e("span",{staticClass:"required"},[this._v("*")]),this._v("附件张数（不含封面）：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-37",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-38"},[this._v(" 张")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-40",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-25"},[e("span",{staticClass:"required"},[this._v("*")]),this._v("出差事由：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-42",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-43"},[this._v(" 公共交通")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2 bxbl-42",attrs:{candrop:"ecp-col"}},[e("div",{staticClass:"ellipsis bxbl-21"},[this._v(" 住宿费")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dj_piece_wrapper col-12 bxbl-8",attrs:{candrop:"ecp-col"}},[i("div",{staticClass:" bxbl-9",attrs:{candrop:"ecp-rect"}},[i("div",{staticClass:"col-12 bxbl-56",attrs:{candrop:"ecp-col"}},[i("div",{staticClass:" bxbl-11",attrs:{candrop:"ecp-rect"}},[i("div",{staticClass:"col-1 bxbl-12",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 verticalMiddle bxbl-13",attrs:{candrop:"ecp-col"}},[i("div",{staticClass:"ellipsis bxbl-33"},[t._v("附件文档")])]),t._v(" "),i("div",{staticClass:"col-1 verticalMiddle bxbl-57",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-17",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}})]),t._v(" "),i("div",{staticClass:"mainContainer piece_content bxbl-18",attrs:{candrop:"ecp-rect"}},[i("div",{staticClass:"col-2",attrs:{candrop:"ecp-col"}})])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dj_piece_wrapper col-12 bxbl-8",attrs:{candrop:"ecp-col"}},[i("div",{staticClass:" bxbl-9",attrs:{candrop:"ecp-rect"}},[i("div",{staticClass:"col-12 bxbl-60",attrs:{candrop:"ecp-col"}},[i("div",{staticClass:" bxbl-11",attrs:{candrop:"ecp-rect"}},[i("div",{staticClass:"col-1 bxbl-12",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 verticalMiddle bxbl-13",attrs:{candrop:"ecp-col"}},[i("div",{staticClass:"ellipsis bxbl-33"},[t._v("流程轨迹")])]),t._v(" "),i("div",{staticClass:"col-1 verticalMiddle bxbl-57",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}}),t._v(" "),i("div",{staticClass:"col-1 bxbl-16",attrs:{candrop:"ecp-col"}})]),t._v(" "),i("div",{staticClass:"mainContainer piece_content bxbl-61",attrs:{candrop:"ecp-rect"}})])])])}]};var y=i("VU/8")(g,f,!1,function(t){i("3b4O")},null,null);e.default=y.exports},nrqG:function(t,e){},qyJz:function(t,e,i){"use strict";var n=i("+ZMJ"),s=i("kM2E"),o=i("sB3e"),l=i("msXi"),r=i("Mhyx"),a=i("QRG4"),h=i("fBQ2"),c=i("3fs2");s(s.S+s.F*!i("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,s,u,d=o(t),p="function"==typeof this?this:Array,g=arguments.length,f=g>1?arguments[1]:void 0,y=void 0!==f,m=0,v=c(d);if(y&&(f=n(f,g>2?arguments[2]:void 0,2)),void 0==v||p==Array&&r(v))for(i=new p(e=a(d.length));e>m;m++)h(i,m,y?f(d[m],m):d[m]);else for(u=v.call(d),i=new p;!(s=u.next()).done;m++)h(i,m,y?l(u,f,[s.value,m],!0):s.value);return i.length=m,i}})},vX3g:function(t,e){!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=29)}([function(t,e,i){"use strict";var n=i(5),s=i(11),o=Object.prototype.toString;function l(t){return"[object Array]"===o.call(t)}function r(t){return null!==t&&"object"==typeof t}function a(t){return"[object Function]"===o.call(t)}function h(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),l(t))for(var i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)}t.exports={isArray:l,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:s,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:r,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:a,isStream:function(t){return r(t)&&a(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:h,merge:function t(){var e={};function i(i,n){"object"==typeof e[n]&&"object"==typeof i?e[n]=t(e[n],i):e[n]=i}for(var n=0,s=arguments.length;n<s;n++)h(arguments[n],i);return e},extend:function(t,e,i){return h(e,function(e,s){t[s]=i&&"function"==typeof e?n(e,i):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,i){"use strict";i.r(e),null==window._ecp_remote_constants&&(window._ecp_remote_constants={ModelState:{DEFAULT:1,NEW:4,MODIFY:8,DELETE:2,SELECTED:16,ACTIVE:32,CHILD_MODIFY:64,EMPTY:128},EcpClass:{COMBOBOX:"ecp.component.comboBox",NUMBERBOX:"ecp.component.numberBox"},THOURSAND:1e3,ALL:"all",CURRENT:"current",ELEM_WIDTH_STYLE:["border-left-width","border-right-width","padding-left","padding-right","margin-left","margin-right"],ELEM_HEIGHT_STYLE:["border-top-height","border-bottom-height","padding-top","padding-bottom","margin-top","margin-bottom"],IE_ELEM_WIDTH_STYLE:["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight","marginLeft","marginRight"],IE_ELEM_HEIGHT_STYLE:["borderTopHeight","borderBottomHeight","paddingTop","paddingBottom","marginTop","marginBottom"],LETTER:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],TABLE_CELL_STYLE:["td.tfg-grid-select-border-all"],Portal:{SETTING_VIEW_NAME:"portal_setting_view_name",CACHE_VIEW:"portal_cache_view"},INPUT_KEYWORD:"输入关键字",DEFAULT_USERCODE:"-0000",DEFAULT_LOGINORGID:"-9999",GO_TO:"定位",OLD_PLATFORM_URL:"YGFMISWeb",COMMONSCENEBH:"10001",CTRL_UNUSABLE_EXTENDID:"authority.subfunc",CTRL_PRINCIPAL_TYPE:"all",RowHeight:{ROWHEIGHT_MAX:161,ROWHEIGHT_MIN:23,ROWHEIGHT_TOPBOTTON_MIN:26,ROWHEIGHT_MARK:10,ROWHEIGHT_PADDING:5},CellOfBlurECPType:["ecp.ui.datafield.NumberBox","ecp.ui.datafield.ValidateBox"],PRIMARY_KEY:"__Gid",CHI_ALL:"全部",TEN_MILLION:1e7,PROCESSOR_FORMAT:"ecp-component-processor-format-",Print:{SETPRINT:2,PRINT:1},NumUnit:{PERTHOURSAND:.001,PERCENT:.01,TEN:10,HUNDRED:100,THOURSAND:1e3,TEN_THOURSAND:1e4,HUNDRED_THOURSAND:1e5,MILLION:1e6,TEN_MILLION:1e7,HUNDRED_MILLION:1e8,BILLION:1e9},AMOUNT:{hundred:100,thousand:1e3,wanyuan:1e4,shiwanyuan:1e5,million:1e6,qianwanyuan:1e7,billion:1e8},CHINESE_L_NUMBER:["〇","一","二","三","四","五","六","七","八","九","十","百","千","万","亿","万亿","亿亿"],CHINESE_U_NUMBER:["零","壹","贰","叁","肆","伍","陆","柒","捌","玖","拾","佰","仟","萬","億","萬億","億億"],CHINESE_CURRENCY:["圆","元","角","分","厘"],CHINESE_DATETIME:["年","月","日","时","分","秒"],PrintOrPreview:{PRINT:1,PREVIEW:2},Punctuation:{DEFAULT:{COMMA:"，",SEMICOLON:"；",EXCALMATORY:"！"}},ExportStyle:{STYLE_DEFAULT:"d",STYLE_HEAD:"h",STYLE_TITLE:"t",STYLE_BOLD_CENTER:"b|c",STYLE_BOLD_LEFT:"b|l",STYLE_BOLD_RIGHT:"b|r",STYLE_BOLD:"b",STYLE_LEFT:"l",STYLE_RIGHT:"r",STYLE_CENTER:"c"},KeyCode:{ENTER:13,TAB:9,UP:38,DOWN:40,Left:37,Right:39,LEFT:37,RIGHT:39,BACKSPACE:8,ESC:27,DEL:46,PAGEUP:33,PAGEDOWN:34,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,C:67,D:68,N:78,F:84,O:79,P:80,LArrow:188,RArrow:190},QuickKey:{HELP:81},ScrollBarSize:17});var n=window._ecp_remote_constants;function s(){}s.prototype={isArray:function(t){return/\[object array\]/gi.test(Object.prototype.toString.call(t))},isNumber:function(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)},round:function(t,e,i){"number"!=typeof t&&(t=parseFloat(t));var n=Math.pow(10,e);return t*=n,null!=i&&(t+=5/Math.pow(10,i)),(t=Math.round(t))/n},formatNumber:function(t,e){return e=e>=0&&e<=20?e:2,""==(t=parseFloat((t+"").replace(/[^\d\.-]/g,"")).toFixed(e)+"")||isNaN(t)||(t=t.replace(/(\d{1,3})(?=(\d{3})+(?:$|\.))/g,"$1,")),t},format:function(t){var e=arguments.length;if(0!==e){if(1===e)return t;var i=arguments[1];"string"==typeof i&&(i=Array.prototype.slice.call(arguments,1)),e=i.length;for(var n=t,s=0;s<e;s++)n=n.replace(new RegExp("\\{\\s*"+s+"\\s*\\}","g"),i[s]);return n}},originalAngleBrackets:function(t){return!this.isNotEmpty(t)||"string"!=typeof t||this.isNumber(t)?t:t=(t=t.replace(/(&gt;|&lt;|&nbsp;)/g,function(t){return"&gt;"==t?">":"&lt;"==t?"<":"&nbsp;"==t?" ":void 0})).replace(/&amp;/g,"&")},escapeAngleBrackets:function(t){return!this.isNotEmpty(t)||"string"!=typeof t||this.isNumber(t)?t:t=(t=t.replace(/&/g,"&amp;")).replace(/[<> ]/g,function(t){return">"==t?"&gt;":"<"===t?"&lt;":" "===t?"&nbsp;":void 0})},replaceJquerySelecter:function(t){return t&&t.replace(/[\[,\],\.,\:]/g,function(t){return"\\"+t})},splitStr:function(t){return 0===(t=t.replace(/\[(\d*)\]/g,".$1")).indexOf(".")&&(t=t.replace(/(\.*)(.*)/,"$2")),t.split(".")},split:function(t,e,i,n){var s;if(null==t)s=null;else if(""===t||null==e||""===e)s=[t];else if(s=t.split(e),null!=i&&0!==i){var o=s.splice(i,s.length);s=[s.join(e),o.join(e)]}return null!=s&&"function"==typeof n&&(s=n(s)),s},formartToZh:function(t,e,i){function s(t,e){for(var i,n="",s=t.length,o=0;o<s;o++)i=+t[o],n+=c?e[i]:u?(i>1||o===s-1?e[i]:"")+(0===i?"":o<s-1?e[9+s-o-1]:""):e[i]+(0===i?"":o<s-1?e[9+s-o-1]:"");return n}var o,l="",r="",a=e.toLowerCase().startsWith("u"),h=e.toLowerCase().endsWith("m"),c=e.toLowerCase().endsWith("y"),u=e.toLowerCase().endsWith("d");if(h&&(o=a?n.CHINESE_CURRENCY[0]:n.CHINESE_CURRENCY[1]),t=(""+t).trim(),!0!==i&&!1!==i){var d="";return(t=t.split("."))[0]&&""!==t[0]&&((t[0].startsWith("-")||t[0].startsWith("+"))&&(d=t[0].substring(0,1),t[0]=t[0].from(1)),l=this.formartToZh(t[0],e,!1)),t[1]&&""!==t[1]&&(r=(h?"":"点")+this.formartToZh(t[1],e,!0)),d+(h?l+o+(""==r?"整":r):l+r)}var p=a?n.CHINESE_U_NUMBER:n.CHINESE_L_NUMBER,g=p[0];if(!1===i){for(var f,y=function(t){for(var e=[],i="",n=t.length,s=1;n--;s++)i=t[n]+i,s%4!=0&&0!==n||(e.push(i),i="");return e}(t),m=0,v=y.length;m<v;m++)f=s(y[m],p),f=this.removeZero(f,g),m>0&&(f+=p[12+m]),l=f+l;return l}if(!0===i)return r=h?function(t,e){for(var i,s="",o=0,l=(t=t.substring(0,3)).length;o<l;o++)s+=e[i=+t[o]]+(0===i?"":n.CHINESE_CURRENCY[o+2]);return s}(t,p):function(t,e){for(var i=(t=""+t).length,n="",s=0;s<i;s++)n+=e[t.charAt(s)];return n}(t,p),h&&(r=this.removeZero(r,g)),r},transferNumToMoney:function(t){return this.formartToZh(t,"um")},transferNumToChUpper:function(t){return this.formartToZh(t,"u")},transferNumToChLower:function(t){return this.formartToZh(t,"l")},getArguments:function(t,e,i){1===arguments.length&&(e=t,t=location.href);var n=new RegExp("(^|\\?|&|#)"+e+"=([^&]*)(\\s|&|$)","ig");if(!0===i&&(t=this.decodeSearch(t)),n.test(t)){var s=unescape(RegExp.$2.replace(/\+/g," ")),o=s.indexOf("#");return o>-1&&(s=s.substring(0,o)),s}},getAllArgument:function(t,e){var i={};if(null===t)return i;if(0===arguments.length?t=location.href:1===arguments.length&&"boolean"==typeof t?(e=t,t=location.href):"object"==typeof t&&"string"==typeof t.href&&(t=t.href),e=!!e,null==t||""===t)return i;var n=t.split("?");if(n.length>1){n[1]=this.decodeSearch(n[1]);for(var s=n[1].split(/[#&]/),o=0;o<s.length;o++){var l=s[o].split("=");e&&(l[0]=l[0].toLowerCase()),i[l[0]]=l[1]}}return i.url=n[0],i},setCookie:function(t,e,i,n){var s="";if(null!=i&&""!==i&&!isNaN(i)){var o=new Date;o.setTime(o.getTime()+i),s=";expires="+o.toGMTString()}null==n&&(n=""),document.cookie=t+"="+e+";path=/"+n+s},getCookie:function(t){for(var e="",i=document.cookie.split(";"),n=0;n<i.length;n++)if(i[n]&&-1!==i[n].indexOf(t+"=")){(e=i[n].split("="))instanceof Array&&e.length>0&&(e=e[1]);break}return e},getLanguage:function(){return this.getCookie("ecp_locale")},formatDate:function(t){return/^\d{4}[-\/]\d{2}$/.test(t)?t+="-01":/^\d{4}$/.test(t)&&(t+="-01-01"),t},strToTimeMillis:function(t){return t?(-1!==t.indexOf(".")&&(t=t.substring(0,t.indexOf("."))),+new Date(this.formatDate(t).replace(/-/g,"/"))):0},invalidDate:function(t){var e=t.replace(/^(\d{4})(\d{2})?(\d{2})?$/g,function(){return RegExp.$1+"-"+(RegExp.$2||"01")+"-"+(RegExp.$3||"01")});return"NaN"===new Date(e).valueOf().toString()||e},parseDate:function(t,e){if(""===t||null==t)return+new Date;if("number"==typeof t||"date"==typeof t)return+t;if("string"==typeof t){var i=this.invalidDate(t);if("string"==typeof i)return+new Date(i)}var n=this.strToTimeMillis(t);if(!isNaN(n))return n;e=e||/\b\((\-*\d*)\+\b/;var s=t.toString().match(e);return s?s[1]:+new Date},strToDate:function(t,e,i,n){if(null==t||""===t)return"";t=this.parseDate(t);var s=isNaN(t)?new Date:new Date(+t),o=s.getMonth()+1,l=s.getDate(),r=s.getHours(),a=s.getMinutes(),h=s.getSeconds(),c=(r<10?"0"+r:r)+":"+(a<10?"0"+a:a);return n&&(c+=":"+(h<10?"0"+h:h)),"Y"==i||"year"==i?s.getFullYear():"M"==i||"month"==i||"S"==i||"season"==i?s.getFullYear()+"-"+(o<10?"0"+o:o):s.getFullYear()+"-"+(o<10?"0"+o:o)+"-"+(l<10?"0"+l:l)+(e?" "+c:"")},ecpDateToDate:function(t,e){var i=!1;return!0===e&&(i=!0),this.strToDate(t,e,null,i)},dateToEcpDate:function(t){if(arguments.length){if(""===t)return t;var e=this.strToTimeMillis(t);return"/Date("+(e=isNaN(e)?+new Date:e)+"+0800)/"}return"/Date("+ +new Date+"+0800)/"},isEcpDate:function(t){return!(!this.isNotEmpty(t)||"string"!=typeof t)&&/^(\/Date\(){1}[0-9]+(\+0800\)\/)/.test(t)},getObj:function(){var t=null;if(!1===/msie/i.test(window.navigator.appVersion)){null==(t=document.getElementById("dlltool"))&&(t=document.createElement("embed")),t.id="dlltool",t.type="application/rpygtooljs",t.width=1,t.height=1;var e=document.getElementsByTagName("BODY"),i=document.createElement("DIV");i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.width="1px",i.style.height="1px",i.style.overflow="hidden",e[0].appendChild(i),i.appendChild(t)}else(t=new ActiveXObject("dllAdapter.dllAdapter")).utf8=0;return t},activeInvoke:function(t,e,i,n,s,o,l){"function"==typeof e?(l=e,e=null,i=null,n=null,s=null,o=null):"function"==typeof i?(l=i,i=null,n=null,s=null,o=null):"function"==typeof n?(l=n,n=null,s=null,o=null):"function"==typeof s?(l=s,s=null,o=null):"function"==typeof o&&(l=o,o=null);var r="name:"+t+"\n";if(""!==e&&(r+="method:"+e+"\n"),i instanceof Array&&i.length>0)for(var a=i.length,h=0;h<a;h++)r+="params:","number"==(c=typeof i[h])?r+="number\n":"boolean"===c?r+="boolean\n":/^[0-9]+\-[0-9]+\-[0-9]+ [0-9]+:[0-9]+:[0-9]+(.[0-9]+)?$/.test(i[h])?r+="datetime\n":/^[0-9]+\-[0-9]+\-[0-9]+$/.test(i[h])?r+="datetime\n":r+="string\n",r+=i[h]+" \n";if(n instanceof Array&&n.length>0)for(a=n.length,h=0;h<a;h++){r+="property:",r+=n[h].name;var c=typeof n[h].value;r+="number"===c?":number\n":"boolean"===c?":boolean\n":":string\n",r+=n[h].value+"\n"}!1!==s&&(r+="return:true\n"),""!==o&&null!=o&&(r="type:"+o+"\n"+r),r+="\0";var u=this;return new Promise(function(t,e){try{var i=u.getObj();if(null==i||"function"!=typeof i.caller&&0!==i.utf8){var n=new WebSocket("ws://localhost:2063");if(n.onerror=function(t){e(!1,""),"function"==typeof l&&l(!1,""),window.console&&window.console.error("create error:"+t.data),n.close()},n.onopen=function(t){window.console&&window.console.info("Connection established")},n.onclose=function(t){window.console&&window.console.info("Connection disconnection")},n.onmessage=function(e){t(!0,decodeURIComponent(e.data)),"function"==typeof l&&l(!0,decodeURIComponent(e.data)),window.console&&window.console.info(decodeURIComponent(e.data)),n.close()},null!=r&&""!==r)var s=setInterval(function(){1===n.readyState&&(n.send(r),clearInterval(s))},100);else e(!1,""),"function"==typeof l&&l(!1,"")}else{window.console&&window.console.info("use activeX to invoke com+.");var o=i.caller(r);i=null,t(!0,decodeURIComponent(o)),"function"==typeof l&&l(!0,decodeURIComponent(o))}}catch(t){window.console&&window.console.error("error:"+t.message),e(!1,""),"function"==typeof l&&l(!1,"")}})},fromRGBToHex:function(t){for(var e=t.replace(/^rgb\(([0-9]{0,3})\,\s([0-9]{0,3})\,\s([0-9]{0,3})\)/g,"$1 $2 $3").split(" "),i="#",n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],s=0;s<3;s++){for(var o=null,l=e[s],r=[];l>16;)o=l%16,l=l/16>>0,r.push(n[o]);r.push(n[l]),i+=r.reverse().join("")}return i},getQRCodeUrl:function(t,e){null==e&&(e=100);var i="/grm/ecp/barcodeServlet?content="+t+"&barcodeTypeId=QR&width="+e+"&height="+e;return this.getLocaHost()+i},isIDCard:function(t){return/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/.test(t)},isTele:function(t){return/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(t)},isMobile:function(t){return/^1[34578]\d{9}$/.test(t)},isEmail:function(t){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)},isPostid:function(t){return/[1-9]\d{5}(?!\d)/.test(t)},validate:function(t,e){var i=!0,n={qzz:{}},s="";if(this.isNotEmpty(t)&&this.isNotEmpty(e))if(/^email$/i.test(t))i=this.isEmail(e),s=n.qzz.emailVali;else if(/^telePhone$/i.test(t))i=this.isTele(e),s=n.qzz.teleVali;else if(/^mobileTelePhone$/i.test(t))i=this.isMobile(e),s=n.qzz.mobileVali;else if(/^postboat$/i.test(t))i=this.isPostid(e),s=n.qzz.postVali;else{if(!/^idcard$/i.test(t))return{state:!1,message:""};i=this.isIDCard(e),s=n.qzz.idcardVali}return{state:i,message:s}},setTimeZone:function(){var t=(new Date).getTimezoneOffset()/60;return t=t<0?"GMT+"+-t:"GMT-"+t,this.setCookie("ecp_timezone",t),t},isNotEmpty:function(t){var e=!0;if(null==t||""===t)e=!1;else if("object"==typeof t)if(this.isArray(t))e=t.length>0;else for(var i in e=!1,t){e=!0,window.console&&(window.console.info("this object has value:"+i),window.console.info(t[i]));break}return e},extend:function(t,e,i){if(null==t)return e;if(null==i?i=10:!0===i&&(i=0),this.isArray(e)){t=[];for(var n=0,s=e.length;n<s;n++){var o=e[n];null!=o&&"object"==typeof o&&i>0&&(o=this.extend({},e[n],i-1)),t.push(o)}}else for(var n in e){var l=null==e||null==e.__deep||!1!==e.__deep[n];null!=e[n]&&"object"==typeof e[n]&&l&&i>0?(t[n]||(t[n]={}),t[n]=this.extend(t[n],e[n],i-1)):t[n]=e[n]}return t},getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=location.search.substr(1).match(e);return null!=i?unescape(decodeURI(i[2])):null},strToJson:function(t){var e=t;if(/^([ \n\t]+)?[{\[]/.test(t))try{e=JSON.parse(t)}catch(i){window.console&&window.console.info(i);try{e=JSON.parse(t.replace(/([{,])([ ]+)?([a-z]+)([ ]+)?:/gi,'$1$2"$3"$4:'))}catch(i){window.console&&window.console.info(i),e=t}}return e},jsonToStr:function(t){return JSON.stringify(t)}},null==window._ecp_remote_utils&&(window._ecp_remote_utils=new s),e.default=window._ecp_remote_utils},function(t,e,i){t.exports=i(10)},function(t,e,i){"use strict";i.r(e);var n=i(2),s=i.n(n),o=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];function l(t){for(var e="",i=document.cookie.split(";"),n=0;n<i.length;n++)if(i[n]&&-1!=i[n].indexOf(t+"=")){(e=i[n].split("="))instanceof Array&&e.length>0&&(e=e[1]);break}return e}function r(t,e,i,n){var s="";if(null!=i&&""!==i&&!isNaN(i)){var o=new Date;o.setTime(o.getTime()+i),s=";expires="+o.toGMTString()}null==n&&(n=""),document.cookie=t+"="+e+";path=/"+n+s}var a={doReplace:function(t,e){return this.util(t,e)},util:function(t,e){function i(){this._strings=new Array}i.prototype.Append=function(t){this._strings.push(t)},i.prototype.ToString=function(){return this._strings.join("")},i.prototype.Clear=function(){this._strings=[]};var n=function(t,e){this.groupedSource=null,this.text=t,this.encryKey=e,this.secretMatrix=this.getTheMatrix()};return n.prototype.getTheMatrix=function(){var t=new Array(this.encryKey.length),e=(new Array).concat(this.encryKey.split(""));e.sort();for(var i=0;i<this.encryKey.length;i++)for(var n=0;n<this.encryKey.length;n++)this.encryKey.split("")[i]==e[n]&&(t[i]=n);return t},n.prototype.groupSourceString=function(){var t=this.text.length,e=new i;e.Append(this.text);var n=this.encryKey.length;if(this.groupedSource=null,this.groupedSource=t%n!=0?new Array(parseInt(t/n)+1):new Array(parseInt(t/n)),t%n!=0)for(var s=0;s<n-t%n;s++)e.Append("#");t=e.ToString().length,s=6;for(var o=0;s<=t;s+=n,o++)this.groupedSource[o]=(new Array).concat(e.ToString().substring(s-n,s).split(""))},n.prototype.changeSourceMatix=function(){for(var t=new Array(this.groupedSource.length),e=0;e<this.groupedSource.length;e++){t[e]=new Array(this.encryKey.length);for(var i=0;i<this.encryKey.length;i++)t[e][i]=this.groupedSource[e][i]}for(e=0;e<this.groupedSource.length;e++)for(i=0;i<this.encryKey.length;i++)this.groupedSource[e][i]=t[e][this.secretMatrix[i]]},n.prototype.encry=function(){this.groupSourceString(),this.changeSourceMatix(),this.changeSourceMatix();for(var t=new i,e=0;e<this.encryKey.length;e++)for(var n=0;n<this.groupedSource.length;n++)t.Append(this.groupedSource[n][e]);return t.Append("@"),t.Append(this.text.length),t.ToString()},new n(t,e).encry()}},h={md5:function(t){return this.utils(t)},utils:function(t){var e=function(t,e){return t<<e|t>>>32-e},i=function(t,e){var i,n,s,o,l;return s=2147483648&t,o=2147483648&e,l=(1073741823&t)+(1073741823&e),(i=1073741824&t)&(n=1073741824&e)?2147483648^l^s^o:i|n?1073741824&l?3221225472^l^s^o:1073741824^l^s^o:l^s^o},n=function(t,n,s,o,l,r,a){return t=i(t,i(i(n&s|~n&o,l),a)),i(e(t,r),n)},s=function(t,n,s,o,l,r,a){return t=i(t,i(i(n&o|s&~o,l),a)),i(e(t,r),n)},o=function(t,n,s,o,l,r,a){return t=i(t,i(i(n^s^o,l),a)),i(e(t,r),n)},l=function(t,n,s,o,l,r,a){return t=i(t,i(i(s^(n|~o),l),a)),i(e(t,r),n)},r=function(t){var e,i="",n="";for(e=0;e<=3;e++)i+=(n="0"+(t>>>8*e&255).toString(16)).substr(n.length-2,2);return i},a=function(t){t=t||32;for(var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",i=e.length,n="",s=0;s<t;s++)n+=e.charAt(Math.floor(Math.random()*i));return n};return function(t){var e,h,c,u,d,p,g,f,y,m=Array();for(m=function(t){for(var e,i=t.length,n=i+8,s=16*((n-n%64)/64+1),o=Array(s-1),l=0,r=0;r<i;)l=r%4*8,o[e=(r-r%4)/4]=o[e]|t.charCodeAt(r)<<l,r++;return l=r%4*8,o[e=(r-r%4)/4]=o[e]|128<<l,o[s-2]=i<<3,o[s-1]=i>>>29,o}(t=function(t){t=t.replace(/\x0d\x0a/g,"\n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e+=String.fromCharCode(n):n>127&&n<2048?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e}(t)),p=1732584193,g=4023233417,f=2562383102,y=271733878,e=0;e<m.length;e+=16)h=p,c=g,u=f,d=y,p=n(p,g,f,y,m[e+0],7,3614090360),y=n(y,p,g,f,m[e+1],12,3905402710),f=n(f,y,p,g,m[e+2],17,606105819),g=n(g,f,y,p,m[e+3],22,3250441966),p=n(p,g,f,y,m[e+4],7,4118548399),y=n(y,p,g,f,m[e+5],12,1200080426),f=n(f,y,p,g,m[e+6],17,2821735955),g=n(g,f,y,p,m[e+7],22,4249261313),p=n(p,g,f,y,m[e+8],7,1770035416),y=n(y,p,g,f,m[e+9],12,2336552879),f=n(f,y,p,g,m[e+10],17,4294925233),g=n(g,f,y,p,m[e+11],22,2304563134),p=n(p,g,f,y,m[e+12],7,1804603682),y=n(y,p,g,f,m[e+13],12,4254626195),f=n(f,y,p,g,m[e+14],17,2792965006),g=n(g,f,y,p,m[e+15],22,1236535329),p=s(p,g,f,y,m[e+1],5,4129170786),y=s(y,p,g,f,m[e+6],9,3225465664),f=s(f,y,p,g,m[e+11],14,643717713),g=s(g,f,y,p,m[e+0],20,3921069994),p=s(p,g,f,y,m[e+5],5,3593408605),y=s(y,p,g,f,m[e+10],9,38016083),f=s(f,y,p,g,m[e+15],14,3634488961),g=s(g,f,y,p,m[e+4],20,3889429448),p=s(p,g,f,y,m[e+9],5,568446438),y=s(y,p,g,f,m[e+14],9,3275163606),f=s(f,y,p,g,m[e+3],14,4107603335),g=s(g,f,y,p,m[e+8],20,1163531501),p=s(p,g,f,y,m[e+13],5,2850285829),y=s(y,p,g,f,m[e+2],9,4243563512),f=s(f,y,p,g,m[e+7],14,1735328473),g=s(g,f,y,p,m[e+12],20,2368359562),p=o(p,g,f,y,m[e+5],4,4294588738),y=o(y,p,g,f,m[e+8],11,2272392833),f=o(f,y,p,g,m[e+11],16,1839030562),g=o(g,f,y,p,m[e+14],23,4259657740),p=o(p,g,f,y,m[e+1],4,2763975236),y=o(y,p,g,f,m[e+4],11,1272893353),f=o(f,y,p,g,m[e+7],16,4139469664),g=o(g,f,y,p,m[e+10],23,3200236656),p=o(p,g,f,y,m[e+13],4,681279174),y=o(y,p,g,f,m[e+0],11,3936430074),f=o(f,y,p,g,m[e+3],16,3572445317),g=o(g,f,y,p,m[e+6],23,76029189),p=o(p,g,f,y,m[e+9],4,3654602809),y=o(y,p,g,f,m[e+12],11,3873151461),f=o(f,y,p,g,m[e+15],16,530742520),g=o(g,f,y,p,m[e+2],23,3299628645),p=l(p,g,f,y,m[e+0],6,4096336452),y=l(y,p,g,f,m[e+7],10,1126891415),f=l(f,y,p,g,m[e+14],15,2878612391),g=l(g,f,y,p,m[e+5],21,4237533241),p=l(p,g,f,y,m[e+12],6,1700485571),y=l(y,p,g,f,m[e+3],10,2399980690),f=l(f,y,p,g,m[e+10],15,4293915773),g=l(g,f,y,p,m[e+1],21,2240044497),p=l(p,g,f,y,m[e+8],6,1873313359),y=l(y,p,g,f,m[e+15],10,4264355552),f=l(f,y,p,g,m[e+6],15,2734768916),g=l(g,f,y,p,m[e+13],21,1309151649),p=l(p,g,f,y,m[e+4],6,4149444226),y=l(y,p,g,f,m[e+11],10,3174756917),f=l(f,y,p,g,m[e+2],15,718787259),g=l(g,f,y,p,m[e+9],21,3951481745),p=i(p,h),g=i(g,c),f=i(f,u),y=i(y,d);var v=r(p)+r(g)+r(f)+r(y);return(v=(v=a(4)+v+a(4)).split("").reverse().join("")).toLowerCase()}(t)}},c={getEncryKey:function(){var t=l("ecpDataContext.tokenId");t||(t=l("ecp_token"));var e="cipher";if(t&&t.length>0){for(var i="",n=0;n<t.length;n++)-1==i.indexOf(t[n])&&(i+=t[n]);i.length>=6&&(e=i.substring(0,6))}return e},dealwithRequestContent:function(t,e,i,n){var s,o,r={},c=t.split("?"),u=c[0],d="",p=this.getEncryKey();if(c.length>1)for(var g=c[1].split("&"),f=0;f<g.length;f++)if(-1!==g[f].indexOf("=")){s=g[f].split("=");try{o=decodeURIComponent(s[1])}catch(t){o=s[1]}n?(o&&o.length<=4e3?r[s[0]]=a.doReplace(o,p):r[s[0]]=o,0!==d.length&&(d+="&"),d=d+s[0]+"="+encodeURIComponent(r[s[0]])):r[s[0]]=o}if(i){var y={};for(var m in i)if(y[m]=i[m],void 0!==i[m]){if(null!=i[m]&&null!=e&&"GET"==e.toUpperCase())try{o=decodeURIComponent(i[m])}catch(t){o=i[m]}else o=i[m];n?(null==o&&(o=""),(o+="")&&o.length<=4e3?r[m]=a.doReplace(o,p):r[m]=o,y[m]=r[m]):r[m]=o}}var v=new Array;for(var C in r)v.push(C);v.sort();var S="";v.each(function(t,e){null!=r[t]&&"undefined"!==r[t]&&(0!==S.length&&(S+="&"),S=S+t+"="+r[t])}),u.indexOf("?")>-1?u+="&":u+="?",d.length>0?u=d=u+d:d=t;var b=l("ecpDataContext.tokenId")||"",x=e.toUpperCase()+b+S;return x.length>5e3&&(x=x.substr(0,5e3)),x=x.replace(/\n|\r/gi,""),window.console&&console.info(x),{AZ:h.md5(x),RequestURI:d,encryptedParam:y}},getCmSign:function(){var t=parseInt(1e6*Math.random(),10)+"";if(t.length<6)for(var e=t.length;e<6;e++)t+="0";var i=t+","+(new Date).getTime(),n=this.getEncryKey();if(n)return a.doReplace(i,n)}},u={secCheck:null,signCheck:null,cmCheck:null,encCheck:null,getAllSecurityProp:function(){var t=l("SYS_SECS");if(!t)try{s.a.get("/grm/ecp/RemoteParamServlet?p0=SYS_SECS").then(function(e){t=e,r("SYS_SECS",e,{path:"/"})})}catch(t){window.console&&window.console.log(t+"系统参数加载失败。")}return t},getSysProp:function(t){var e={SECURITY_CHECK:1,CODE_CHECK:2,WEB_CHECK:4,SIGN_CHECK:8,REPLAY_CHECK:16,ENCRYPT_CHECK:32,VERIFIER_CHECK:64,WS_CHECK:128},i=this.getAllSecurityProp();if(null!=e[t])return"ENCRYPT_CHECK"===t&&"true"===l("closeEncry")?"false":(e[t]&parseInt(i))>0?"true":"false";var n=l(t);if(""===n)return n;if(!n)try{s.a.get("/grm/ecp/RemoteParamServlet?p0="+t).then(function(e){r(t,n=e)})}catch(e){window.console&&window.console.log(t+"：系统参数加载失败。")}return n},isSec:function(){return null===this.secCheck&&(this.secCheck="false"!=this.getSysProp("SECURITY_CHECK")),this.secCheck},isSign:function(){return!!this.isSec()&&(null===this.signCheck&&(this.signCheck="true"==this.getSysProp("SIGN_CHECK")),this.signCheck)},isCm:function(){return!!this.isSec()&&(null===this.cmCheck&&(this.cmCheck="false"!=this.getSysProp("REPLAY_CHECK")),this.cmCheck)},isEnc:function(){return!!this.isSec()&&(null===this.encCheck&&(this.encCheck="true"==this.getSysProp("ENCRYPT_CHECK")),this.encCheck)}},d={ENCRYSTRING_HEAD:"ISENCRYSTRING",ENCRY_KEYS:["1a8.jf65;j^f2v-0","1a8.jf65;j^f2v-1","1a8.jf65;j^f2v-2"],signData:function(t,e,i){var n=u.isEnc();return(u.isSign()||n)&&c.dealwithRequestContent(t,e,i,n)},getCmSign:function(){return u.isCm()&&c.getCmSign()},signDatawithoutCheck:function(t,e,i){return c.dealwithRequestContent(t,e,i,!0)},getCmSignwithoutCheck:function(){return c.getCmSign()},md5:function(t){return t&&"string"==typeof t?h.md5(t):null},doReplace:function(t,e){return a.doReplace(t,e)},doEncrypt:function(t){var e=arguments[1];"array"!=typeof e&&(e=void 0);for(var i,n,s,o=k(e),l=o.length>3?3:o.length,r=0;r<l;r++)switch(r){case 0:i=o[r];break;case 1:n=o[r];break;case 2:s=o[r]}var a,h,c,u,d,f,y=t.length,m="";if(null!=i&&""!==i&&(u=(a=p(i)).length),null!=n&&""!==n&&(d=(h=p(n)).length),null!=s&&""!==s&&(f=(c=p(s)).length),y>0)if(y<4){var C=g(t);if(null!=i&&""!==i&&null!=n&&""!==n&&null!=s&&""!=s){for(L=C,b=0;b<u;b++)L=S(L,a[b]);for(O=0;O<d;O++)L=S(L,h[O]);for(N=0;N<f;N++)L=S(L,c[N]);T=L}else if(null!=i&&""!==i&&null!=n&&""!==n){for(L=C,b=0;b<u;b++)L=S(L,a[b]);for(O=0;O<d;O++)L=S(L,h[O]);T=L}else if(null!=i&&""!==i){var b=0;for(L=C,b=0;b<u;b++)L=S(L,a[b]);T=L}m=v(T)}else{var x=parseInt(y/4),_=y%4;for(r=0,r=0;r<x;r++){var w=g(t.substring(4*r+0,4*r+4));if(null!=i&&""!==i&&null!=n&&""!==n&&null!=s&&""!=s){for(L=w,b=0;b<u;b++)L=S(L,a[b]);for(O=0;O<d;O++)L=S(L,h[O]);for(N=0;N<f;N++)L=S(L,c[N]);T=L}else if(null!=i&&""!==i&&null!=n&&""!==n){for(L=w,b=0;b<u;b++)L=S(L,a[b]);for(O=0;O<d;O++)L=S(L,h[O]);T=L}else if(null!=i&&""!==i){for(L=w,b=0;b<u;b++)L=S(L,a[b]);T=L}m+=v(T)}if(_>0){var T;if(w=g(t.substring(4*x+0,y)),null!=i&&""!==i&&null!=n&&""!==n&&null!=s&&""!=s){var N;for(L=w,b=0;b<u;b++)L=S(L,a[b]);for(O=0;O<d;O++)L=S(L,h[O]);for(N=0;N<f;N++)L=S(L,c[N]);T=L}else if(null!=i&&""!==i&&null!=n&&""!==n){var O;for(L=w,b=0;b<u;b++)L=S(L,a[b]);for(O=0;O<d;O++)L=S(L,h[O]);T=L}else if(null!=i&&""!==i){var L;for(L=w,b=0;b<u;b++)L=S(L,a[b]);T=L}m+=v(T)}}return m},doDecrypt:function(t){var e=arguments[1];"array"!=typeof e&&(e=void 0);for(var i,n,s,o=k(e),l=o.length>3?3:o.length,r=0;r<l;r++)switch(r){case 0:i=o[r];break;case 1:n=o[r];break;case 2:s=o[r]}var a,h,c,u,d,g,f=t.length,y="";null!=i&&""!==i&&(u=(a=p(i)).length),null!=n&&""!==n&&(d=(h=p(n)).length),null!=s&&""!==s&&(g=(c=p(s)).length);var v=parseInt(f/16);for(r=0,r=0;r<v;r++){var S,x=C(t.substring(16*r+0,16*r+16)),_=new Array(64),w=0;for(w=0;w<64;w++)_[w]=parseInt(x.substring(w,w+1));if(null!=i&&""!==i&&null!=n&&""!==n&&null!=s&&""!==s){for(T=_,N=g-1;N>=0;N--)T=b(T,c[N]);for(O=d-1;O>=0;O--)T=b(T,h[O]);for(L=u-1;L>=0;L--)T=b(T,a[L]);S=T}else if(null!=i&&""!==i&&null!=n&&""!==n){for(T=_,N=d-1;N>=0;N--)T=b(T,h[N]);for(O=u-1;O>=0;O--)T=b(T,a[O]);S=T}else if(null!=i&&""!==i){var T,N,O,L;for(T=_,N=u-1;N>=0;N--)T=b(T,a[N]);S=T}y+=m(S)}return y},encodeBase64:function(t,e){var i,n,s,o,l="",r=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(!1!==e&&(t=this.utf16to8(t)),i=t.length;r<i;){if(n=255&t.charCodeAt(r++),r==i){l+=a.charAt(n>>2),l+=a.charAt((3&n)<<4),l+="==";break}if(s=t.charCodeAt(r++),r===i){l+=a.charAt(n>>2),l+=a.charAt((3&n)<<4|(240&s)>>4),l+=a.charAt((15&s)<<2),l+="=";break}o=t.charCodeAt(r++),l+=a.charAt(n>>2),l+=a.charAt((3&n)<<4|(240&s)>>4),l+=a.charAt((15&s)<<2|(192&o)>>6),l+=a.charAt(63&o)}return l},decodeBase64:function(t,e){var i=function(t){for(var e,i,n,s,l=0,r="",a=o,h=t.length;l<h;){do{e=a[255&t.charCodeAt(l++)]}while(l<h&&-1===e);if(-1===e)break;do{i=a[255&t.charCodeAt(l++)]}while(l<h&&-1===i);if(-1===i)break;r+=String.fromCharCode(e<<2|(48&i)>>4);do{if(61==(n=255&t.charCodeAt(l++)))return r;n=a[n]}while(l<h&&-1===n);if(-1===n)break;r+=String.fromCharCode((15&i)<<4|(60&n)>>2);do{if(61==(s=255&t.charCodeAt(l++)))return r;s=a[s]}while(l<h&&-1===s);if(-1===s)break;r+=String.fromCharCode((3&n)<<6|s)}return r}(t);return!1!==e&&(i=this.utf8to16(i)),i},utf16to8:function(t){var e,i,n,s;for(e="",n=t.length,i=0;i<n;i++)(s=t.charCodeAt(i))>=1&&s<=127?e+=t.charAt(i):s>2047?(e+=String.fromCharCode(224|s>>12&15),e+=String.fromCharCode(128|s>>6&63),e+=String.fromCharCode(128|s>>0&63)):(e+=String.fromCharCode(192|s>>6&31),e+=String.fromCharCode(128|s>>0&63));return e},utf8to16:function(t){var e,i,n,s,o,l;for(e="",n=t.length,i=0;i<n;)switch((s=t.charCodeAt(i++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=t.charAt(i-1);break;case 12:case 13:o=t.charCodeAt(i++),e+=String.fromCharCode((31&s)<<6|63&o);break;case 14:o=t.charCodeAt(i++),l=t.charCodeAt(i++),e+=String.fromCharCode((15&s)<<12|(63&o)<<6|(63&l)<<0)}return e},hashCode:function(t){for(var e=0,i=(t+="").length,n=0;n<i;n++)((e=31*e+t.charCodeAt(n))>2147483647||e<2147483648)&&(e&=4294967295);return e},decodeSearch:function(t){if(!/^\s*_d\s*=|[?&]\s*_d\s*=/.test(t))return t;var e=t.indexOf("?"),i=e>=0?t.substring(e+1):t,n=i.indexOf("_d"),s=i.indexOf("=",n+2),o=i.indexOf("&",s+1),l=i;return o<0&&(o=i.indexOf("#",s+1)),n>-1&&s>-1&&(l=(l=o<0?i.substring(s+1):i.substring(s+1,o)).replace(/%3D/g,"=").replace(/%2B/g,"+").replace(/%2F/g,"/"),l=this.decodeBase64(l)),e>=0&&(l=t.substring(0,e+1)+l),o>0&&(l+=i.substring(o)),l},encodeSearch:function(t){var e,i,n=t.indexOf("?");return e=(e=n>=0?t.substring(n+1):t)+"&_h="+this.hashCode(e),i="_d="+(i=(i=this.encodeBase64(e)).replace(/\=/g,"%3D").replace(/\+/g,"%2B").replace(/\//g,"%2F")),n>=0&&(i=t.substring(0,n+1)+i),i},getCookie:function(t){return l(t)},setCookie:function(t,e,i,n){r(t,e,i,n)}};function p(t){var e=new Array,i=t.length,n=parseInt(i/4),s=i%4,o=0;for(o=0;o<n;o++)e[o]=g(t.substring(4*o+0,4*o+4));return s>0&&(e[o]=g(t.substring(4*o+0,i))),e}function g(t){var e=t.length,i=new Array(64);if(e<4){var n=0,s=0,o=0,l=0;for(n=0;n<e;n++){var r=t.charCodeAt(n);for(s=0;s<16;s++){var a=1,h=0;for(h=15;h>s;h--)a*=2;i[16*n+s]=parseInt(r/a)%2}}for(o=e;o<4;o++)for(r=0,l=0;l<16;l++){for(a=1,h=0,h=15;h>l;h--)a*=2;i[16*o+l]=parseInt(r/a)%2}}else for(n=0;n<4;n++)for(r=t.charCodeAt(n),s=0;s<16;s++){for(a=1,h=15;h>s;h--)a*=2;i[16*n+s]=parseInt(r/a)%2}return i}function f(t){var e;switch(t){case"0000":e="0";break;case"0001":e="1";break;case"0010":e="2";break;case"0011":e="3";break;case"0100":e="4";break;case"0101":e="5";break;case"0110":e="6";break;case"0111":e="7";break;case"1000":e="8";break;case"1001":e="9";break;case"1010":e="A";break;case"1011":e="B";break;case"1100":e="C";break;case"1101":e="D";break;case"1110":e="E";break;case"1111":e="F"}return e}function y(t){var e;switch(t){case"0":e="0000";break;case"1":e="0001";break;case"2":e="0010";break;case"3":e="0011";break;case"4":e="0100";break;case"5":e="0101";break;case"6":e="0110";break;case"7":e="0111";break;case"8":e="1000";break;case"9":e="1001";break;case"A":e="1010";break;case"B":e="1011";break;case"C":e="1100";break;case"D":e="1101";break;case"E":e="1110";break;case"F":e="1111"}return e}function m(t){for(var e="",i=0;i<4;i++){for(var n=0,s=0;s<16;s++){for(var o=1,l=15;l>s;l--)o*=2;n+=t[16*i+s]*o}0!==n&&(e+=String.fromCharCode(n))}return e}function v(t){for(var e="",i=0;i<16;i++){for(var n="",s=0;s<4;s++)n+=t[4*i+s];e+=f(n)}return e}function C(t){for(var e="",i=0;i<16;i++)e+=y(t.substring(i,i+1));return e}function S(t,e){var i=D(e),n=x(t),s=new Array(32),o=new Array(32),l=new Array(32),r=0,a=0,h=0,c=0,u=0;for(h=0;h<32;h++)s[h]=n[h],o[h]=n[32+h];for(r=0;r<16;r++){for(a=0;a<32;a++)l[a]=s[a],s[a]=o[a];var d=new Array(48);for(c=0;c<48;c++)d[c]=i[r][c];var p=w(N(T(w(_(o),d))),l);for(u=0;u<32;u++)o[u]=p[u]}var g=new Array(64);for(r=0;r<32;r++)g[r]=o[r],g[32+r]=s[r];return O(g)}function b(t,e){var i=D(e),n=x(t),s=new Array(32),o=new Array(32),l=new Array(32),r=0,a=0,h=0,c=0,u=0;for(h=0;h<32;h++)s[h]=n[h],o[h]=n[32+h];for(r=15;r>=0;r--){for(a=0;a<32;a++)l[a]=s[a],s[a]=o[a];var d=new Array(48);for(c=0;c<48;c++)d[c]=i[r][c];var p=w(N(T(w(_(o),d))),l);for(u=0;u<32;u++)o[u]=p[u]}var g=new Array(64);for(r=0;r<32;r++)g[r]=o[r],g[32+r]=s[r];return O(g)}function x(t){for(var e=new Array(64),i=0,n=1,s=0;i<4;i++,n+=2,s+=2)for(var o=7,l=0;o>=0;o--,l++)e[8*i+l]=t[8*o+n],e[8*i+l+32]=t[8*o+s];return e}function _(t){for(var e=new Array(48),i=0;i<8;i++)e[6*i+0]=0===i?t[31]:t[4*i-1],e[6*i+1]=t[4*i+0],e[6*i+2]=t[4*i+1],e[6*i+3]=t[4*i+2],e[6*i+4]=t[4*i+3],e[6*i+5]=7===i?t[0]:t[4*i+4];return e}function w(t,e){for(var i=new Array(t.length),n=0;n<t.length;n++)i[n]=t[n]^e[n];return i}function T(t){for(var e=new Array(32),i="",n=[[14,4,13,1,2,15,11,8,3,10,6,12,5,9,0,7],[0,15,7,4,14,2,13,1,10,6,12,11,9,5,3,8],[4,1,14,8,13,6,2,11,15,12,9,7,3,10,5,0],[15,12,8,2,4,9,1,7,5,11,3,14,10,0,6,13]],s=[[15,1,8,14,6,11,3,4,9,7,2,13,12,0,5,10],[3,13,4,7,15,2,8,14,12,0,1,10,6,9,11,5],[0,14,7,11,10,4,13,1,5,8,12,6,9,3,2,15],[13,8,10,1,3,15,4,2,11,6,7,12,0,5,14,9]],o=[[10,0,9,14,6,3,15,5,1,13,12,7,11,4,2,8],[13,7,0,9,3,4,6,10,2,8,5,14,12,11,15,1],[13,6,4,9,8,15,3,0,11,1,2,12,5,10,14,7],[1,10,13,0,6,9,8,7,4,15,14,3,11,5,2,12]],l=[[7,13,14,3,0,6,9,10,1,2,8,5,11,12,4,15],[13,8,11,5,6,15,0,3,4,7,2,12,1,10,14,9],[10,6,9,0,12,11,7,13,15,1,3,14,5,2,8,4],[3,15,0,6,10,1,13,8,9,4,5,11,12,7,2,14]],r=[[2,12,4,1,7,10,11,6,8,5,3,15,13,0,14,9],[14,11,2,12,4,7,13,1,5,0,15,10,3,9,8,6],[4,2,1,11,10,13,7,8,15,9,12,5,6,3,0,14],[11,8,12,7,1,14,2,13,6,15,0,9,10,4,5,3]],a=[[12,1,10,15,9,2,6,8,0,13,3,4,14,7,5,11],[10,15,4,2,7,12,9,5,6,1,13,14,0,11,3,8],[9,14,15,5,2,8,12,3,7,0,4,10,1,13,11,6],[4,3,2,12,9,5,15,10,11,14,1,7,6,0,8,13]],h=[[4,11,2,14,15,0,8,13,3,12,9,7,5,10,6,1],[13,0,11,7,4,9,1,10,14,3,5,12,2,15,8,6],[1,4,11,13,12,3,7,14,10,15,6,8,0,5,9,2],[6,11,13,8,1,4,10,7,9,5,0,15,14,2,3,12]],c=[[13,2,8,4,6,15,11,1,10,9,3,14,5,0,12,7],[1,15,13,8,10,3,7,4,12,5,6,11,0,14,9,2],[7,11,4,1,9,12,14,2,0,6,10,13,15,3,5,8],[2,1,14,7,4,10,8,13,15,12,9,0,3,5,6,11]],u=0;u<8;u++){var d,p;switch(d=2*t[6*u+0]+t[6*u+5],p=2*t[6*u+1]*2*2+2*t[6*u+2]*2+2*t[6*u+3]+t[6*u+4],u){case 0:i=L(n[d][p]);break;case 1:i=L(s[d][p]);break;case 2:i=L(o[d][p]);break;case 3:i=L(l[d][p]);break;case 4:i=L(r[d][p]);break;case 5:i=L(a[d][p]);break;case 6:i=L(h[d][p]);break;case 7:i=L(c[d][p])}e[4*u+0]=parseInt(i.substring(0,1)),e[4*u+1]=parseInt(i.substring(1,2)),e[4*u+2]=parseInt(i.substring(2,3)),e[4*u+3]=parseInt(i.substring(3,4))}return e}function N(t){var e=new Array(32);return e[0]=t[15],e[1]=t[6],e[2]=t[19],e[3]=t[20],e[4]=t[28],e[5]=t[11],e[6]=t[27],e[7]=t[16],e[8]=t[0],e[9]=t[14],e[10]=t[22],e[11]=t[25],e[12]=t[4],e[13]=t[17],e[14]=t[30],e[15]=t[9],e[16]=t[1],e[17]=t[7],e[18]=t[23],e[19]=t[13],e[20]=t[31],e[21]=t[26],e[22]=t[2],e[23]=t[8],e[24]=t[18],e[25]=t[12],e[26]=t[29],e[27]=t[5],e[28]=t[21],e[29]=t[10],e[30]=t[3],e[31]=t[24],e}function O(t){var e=new Array(64);return e[0]=t[39],e[1]=t[7],e[2]=t[47],e[3]=t[15],e[4]=t[55],e[5]=t[23],e[6]=t[63],e[7]=t[31],e[8]=t[38],e[9]=t[6],e[10]=t[46],e[11]=t[14],e[12]=t[54],e[13]=t[22],e[14]=t[62],e[15]=t[30],e[16]=t[37],e[17]=t[5],e[18]=t[45],e[19]=t[13],e[20]=t[53],e[21]=t[21],e[22]=t[61],e[23]=t[29],e[24]=t[36],e[25]=t[4],e[26]=t[44],e[27]=t[12],e[28]=t[52],e[29]=t[20],e[30]=t[60],e[31]=t[28],e[32]=t[35],e[33]=t[3],e[34]=t[43],e[35]=t[11],e[36]=t[51],e[37]=t[19],e[38]=t[59],e[39]=t[27],e[40]=t[34],e[41]=t[2],e[42]=t[42],e[43]=t[10],e[44]=t[50],e[45]=t[18],e[46]=t[58],e[47]=t[26],e[48]=t[33],e[49]=t[1],e[50]=t[41],e[51]=t[9],e[52]=t[49],e[53]=t[17],e[54]=t[57],e[55]=t[25],e[56]=t[32],e[57]=t[0],e[58]=t[40],e[59]=t[8],e[60]=t[48],e[61]=t[16],e[62]=t[56],e[63]=t[24],e}function L(t){var e="";switch(t){case 0:e="0000";break;case 1:e="0001";break;case 2:e="0010";break;case 3:e="0011";break;case 4:e="0100";break;case 5:e="0101";break;case 6:e="0110";break;case 7:e="0111";break;case 8:e="1000";break;case 9:e="1001";break;case 10:e="1010";break;case 11:e="1011";break;case 12:e="1100";break;case 13:e="1101";break;case 14:e="1110";break;case 15:e="1111"}return e}function k(t){var e=[];if(t)for(n=0;n<t.length;n++)e.push(t[n]);else for(var i=d.ENCRY_KEYS,n=0;n<i.length;n++)e.push(i[n]);return e}function D(t){var e=new Array(56),i=new Array;i[0]=new Array,i[1]=new Array,i[2]=new Array,i[3]=new Array,i[4]=new Array,i[5]=new Array,i[6]=new Array,i[7]=new Array,i[8]=new Array,i[9]=new Array,i[10]=new Array,i[11]=new Array,i[12]=new Array,i[13]=new Array,i[14]=new Array,i[15]=new Array;for(var n=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1],s=0;s<7;s++)for(var o=0,l=7;o<8;o++,l--)e[8*s+o]=t[8*l+s];for(s=0,s=0;s<16;s++){var r=0,a=0;for(o=0;o<n[s];o++){for(r=e[0],a=e[28],l=0;l<27;l++)e[l]=e[l+1],e[28+l]=e[29+l];e[27]=r,e[55]=a}var h=new Array(48);h[0]=e[13],h[1]=e[16],h[2]=e[10],h[3]=e[23],h[4]=e[0],h[5]=e[4],h[6]=e[2],h[7]=e[27],h[8]=e[14],h[9]=e[5],h[10]=e[20],h[11]=e[9],h[12]=e[22],h[13]=e[18],h[14]=e[11],h[15]=e[3],h[16]=e[25],h[17]=e[7],h[18]=e[15],h[19]=e[6],h[20]=e[26],h[21]=e[19],h[22]=e[12],h[23]=e[1],h[24]=e[40],h[25]=e[51],h[26]=e[30],h[27]=e[36],h[28]=e[46],h[29]=e[54],h[30]=e[29],h[31]=e[39],h[32]=e[50],h[33]=e[44],h[34]=e[32],h[35]=e[47],h[36]=e[43],h[37]=e[48],h[38]=e[38],h[39]=e[55],h[40]=e[33],h[41]=e[52],h[42]=e[45],h[43]=e[41],h[44]=e[49],h[45]=e[35],h[46]=e[28],h[47]=e[31];var c=0;switch(s){case 0:for(c=0;c<48;c++)i[0][c]=h[c];break;case 1:for(c=0;c<48;c++)i[1][c]=h[c];break;case 2:for(c=0;c<48;c++)i[2][c]=h[c];break;case 3:for(c=0;c<48;c++)i[3][c]=h[c];break;case 4:for(c=0;c<48;c++)i[4][c]=h[c];break;case 5:for(c=0;c<48;c++)i[5][c]=h[c];break;case 6:for(c=0;c<48;c++)i[6][c]=h[c];break;case 7:for(c=0;c<48;c++)i[7][c]=h[c];break;case 8:for(c=0;c<48;c++)i[8][c]=h[c];break;case 9:for(c=0;c<48;c++)i[9][c]=h[c];break;case 10:for(c=0;c<48;c++)i[10][c]=h[c];break;case 11:for(c=0;c<48;c++)i[11][c]=h[c];break;case 12:for(c=0;c<48;c++)i[12][c]=h[c];break;case 13:for(c=0;c<48;c++)i[13][c]=h[c];break;case 14:for(c=0;c<48;c++)i[14][c]=h[c];break;case 15:for(c=0;c<48;c++)i[15][c]=h[c]}}return i}null==window._ecp_remote_des&&(window._ecp_remote_des=d),e.default=window._ecp_remote_des},function(t,e,i){"use strict";(function(e){var n=i(0),s=i(14),o={"Content-Type":"application/x-www-form-urlencoded"};function l(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var r,a={adapter:("undefined"!=typeof XMLHttpRequest?r=i(6):void 0!==e&&(r=i(6)),r),transformRequest:[function(t,e){return s(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(l(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(l(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(t){a.headers[t]={}}),n.forEach(["post","put","patch"],function(t){a.headers[t]=n.merge(o)}),t.exports=a}).call(this,i(13))},function(t,e,i){"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return t.apply(e,i)}}},function(t,e,i){"use strict";var n=i(0),s=i(15),o=i(17),l=i(18),r=i(19),a=i(7),h="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||i(20);t.exports=function(t){return new Promise(function(e,c){var u=t.data,d=t.headers;n.isFormData(u)&&delete d["Content-Type"];var p=new XMLHttpRequest,g="onreadystatechange",f=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||r(t.url)||(p=new window.XDomainRequest,g="onload",f=!0,p.onprogress=function(){},p.ontimeout=function(){}),t.auth){var y=t.auth.username||"",m=t.auth.password||"";d.Authorization="Basic "+h(y+":"+m)}if(p.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p[g]=function(){if(p&&(4===p.readyState||f)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:i,config:t,request:p};s(e,c,n),p=null}},p.onerror=function(){c(a("Network Error",t,null,p)),p=null},p.ontimeout=function(){c(a("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var v=i(21),C=(t.withCredentials||r(t.url))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;C&&(d[t.xsrfHeaderName]=C)}if("setRequestHeader"in p&&n.forEach(d,function(t,e){void 0===u&&"content-type"===e.toLowerCase()?delete d[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),c(t),p=null)}),void 0===u&&(u=null),p.send(u)})}},function(t,e,i){"use strict";var n=i(16);t.exports=function(t,e,i,s,o){var l=new Error(t);return n(l,e,i,s,o)}},function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,i){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,i){"use strict";var n=i(0),s=i(5),o=i(12),l=i(4);function r(t){var e=new o(t),i=s(o.prototype.request,e);return n.extend(i,o.prototype,e),n.extend(i,e),i}var a=r(l);a.Axios=o,a.create=function(t){return r(n.merge(l,t))},a.Cancel=i(9),a.CancelToken=i(27),a.isCancel=i(8),a.all=function(t){return Promise.all(t)},a.spread=i(28),t.exports=a,t.exports.default=a},function(t,e){function i(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */t.exports=function(t){return null!=t&&(i(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&i(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,i){"use strict";var n=i(4),s=i(0),o=i(22),l=i(23);function r(t){this.defaults=t,this.interceptors={request:new o,response:new o}}r.prototype.request=function(t){"string"==typeof t&&(t=s.merge({url:arguments[0]},arguments[1])),(t=s.merge(n,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[l,void 0],i=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)i=i.then(e.shift(),e.shift());return i},s.forEach(["delete","get","head","options"],function(t){r.prototype[t]=function(e,i){return this.request(s.merge(i||{},{method:t,url:e}))}}),s.forEach(["post","put","patch"],function(t){r.prototype[t]=function(e,i,n){return this.request(s.merge(n||{},{method:t,url:e,data:i}))}}),t.exports=r},function(t,e){var i,n,s=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function r(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{n="function"==typeof clearTimeout?clearTimeout:l}catch(t){n=l}}();var a,h=[],c=!1,u=-1;function d(){c&&a&&(c=!1,a.length?h=a.concat(h):u=-1,h.length&&p())}function p(){if(!c){var t=r(d);c=!0;for(var e=h.length;e;){for(a=h,h=[];++u<e;)a&&a[u].run();u=-1,e=h.length}a=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===l||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function f(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new g(t,e)),1!==h.length||c||r(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=f,s.addListener=f,s.once=f,s.off=f,s.removeListener=f,s.removeAllListeners=f,s.emit=f,s.prependListener=f,s.prependOnceListener=f,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,i){"use strict";var n=i(0);t.exports=function(t,e){n.forEach(t,function(i,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[n])})}},function(t,e,i){"use strict";var n=i(7);t.exports=function(t,e,i){var s=i.config.validateStatus;i.status&&s&&!s(i.status)?e(n("Request failed with status code "+i.status,i.config,null,i.request,i)):t(i)}},function(t,e,i){"use strict";t.exports=function(t,e,i,n,s){return t.config=e,i&&(t.code=i),t.request=n,t.response=s,t}},function(t,e,i){"use strict";var n=i(0);function s(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var o;if(i)o=i(e);else if(n.isURLSearchParams(e))o=e.toString();else{var l=[];n.forEach(e,function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),l.push(s(e)+"="+s(t))}))}),o=l.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,i){"use strict";var n=i(0),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,o,l={};return t?(n.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),i=n.trim(t.substr(o+1)),e){if(l[e]&&s.indexOf(e)>=0)return;l[e]="set-cookie"===e?(l[e]?l[e]:[]).concat([i]):l[e]?l[e]+", "+i:i}}),l):l}},function(t,e,i){"use strict";var n=i(0);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function s(t){var n=t;return e&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=s(window.location.href),function(e){var i=n.isString(e)?s(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0}},function(t,e,i){"use strict";function n(){this.message="String contains an invalid character"}n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,i,s=String(t),o="",l=0,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.charAt(0|l)||(r="=",l%1);o+=r.charAt(63&e>>8-l%1*8)){if((i=s.charCodeAt(l+=.75))>255)throw new n;e=e<<8|i}return o}},function(t,e,i){"use strict";var n=i(0);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,i,s,o,l){var r=[];r.push(t+"="+encodeURIComponent(e)),n.isNumber(i)&&r.push("expires="+new Date(i).toGMTString()),n.isString(s)&&r.push("path="+s),n.isString(o)&&r.push("domain="+o),!0===l&&r.push("secure"),document.cookie=r.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,i){"use strict";var n=i(0);function s(){this.handlers=[]}s.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},s.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},s.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=s},function(t,e,i){"use strict";var n=i(0),s=i(24),o=i(8),l=i(4),r=i(25),a=i(26);function h(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return h(t),t.baseURL&&!r(t.url)&&(t.url=a(t.baseURL,t.url)),t.headers=t.headers||{},t.data=s(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||l.adapter)(t).then(function(e){return h(t),e.data=s(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(h(t),e&&e.response&&(e.response.data=s(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,i){"use strict";var n=i(0);t.exports=function(t,e,i){return n.forEach(i,function(i){t=i(t,e)}),t}},function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,i){"use strict";var n=i(9);function s(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var i=this;t(function(t){i.reason||(i.reason=new n(t),e(i.reason))})}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var t;return{token:new s(function(e){t=e}),cancel:t}},t.exports=s},function(t,e,i){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,i){"use strict";i.r(e);var n=i(2),s=i.n(n),o=i(1),l=i(3),r={sign:function(t,e){return u.dealwithRequestContent("",e,t,!0)}},a={sign:function(){return u.getCmSign()}},h={doReplace:function(t,e){return this.util(t,e)},util:function(t,e){function i(){this._strings=new Array}i.prototype.Append=function(t){this._strings.push(t)},i.prototype.ToString=function(){return this._strings.join("")},i.prototype.Clear=function(){this._strings=[]};var n=function(t,e){this.groupedSource=null,this.text=t,this.encryKey=e,this.secretMatrix=this.getTheMatrix()};return n.prototype.getTheMatrix=function(){var t=new Array(this.encryKey.length),e=(new Array).concat(this.encryKey.split(""));e.sort();for(var i=0;i<this.encryKey.length;i++)for(var n=0;n<this.encryKey.length;n++)this.encryKey.split("")[i]==e[n]&&(t[i]=n);return t},n.prototype.groupSourceString=function(){var t=this.text.length,e=new i;e.Append(this.text);var n=this.encryKey.length;if(this.groupedSource=null,this.groupedSource=t%n!=0?new Array(parseInt(t/n)+1):new Array(parseInt(t/n)),t%n!=0)for(var s=0;s<n-t%n;s++)e.Append("#");t=e.ToString().length,s=6;for(var o=0;s<=t;s+=n,o++)this.groupedSource[o]=(new Array).concat(e.ToString().substring(s-n,s).split(""))},n.prototype.changeSourceMatix=function(){for(var t=new Array(this.groupedSource.length),e=0;e<this.groupedSource.length;e++){t[e]=new Array(this.encryKey.length);for(var i=0;i<this.encryKey.length;i++)t[e][i]=this.groupedSource[e][i]}for(e=0;e<this.groupedSource.length;e++)for(i=0;i<this.encryKey.length;i++)this.groupedSource[e][i]=t[e][this.secretMatrix[i]]},n.prototype.encry=function(){this.groupSourceString(),this.changeSourceMatix(),this.changeSourceMatix();for(var t=new i,e=0;e<this.encryKey.length;e++)for(var n=0;n<this.groupedSource.length;n++)t.Append(this.groupedSource[n][e]);return t.Append("@"),t.Append(this.text.length),t.ToString()},new n(t,e).encry()}},c={md5:function(t){return this.utils(t)},utils:function(t){var e=function(t,e){return t<<e|t>>>32-e},i=function(t,e){var i,n,s,o,l;return s=2147483648&t,o=2147483648&e,l=(1073741823&t)+(1073741823&e),(i=1073741824&t)&(n=1073741824&e)?2147483648^l^s^o:i|n?1073741824&l?3221225472^l^s^o:1073741824^l^s^o:l^s^o},n=function(t,n,s,o,l,r,a){return t=i(t,i(i(n&s|~n&o,l),a)),i(e(t,r),n)},s=function(t,n,s,o,l,r,a){return t=i(t,i(i(n&o|s&~o,l),a)),i(e(t,r),n)},o=function(t,n,s,o,l,r,a){return t=i(t,i(i(n^s^o,l),a)),i(e(t,r),n)},l=function(t,n,s,o,l,r,a){return t=i(t,i(i(s^(n|~o),l),a)),i(e(t,r),n)},r=function(t){var e,i="",n="";for(e=0;e<=3;e++)i+=(n="0"+(t>>>8*e&255).toString(16)).substr(n.length-2,2);return i},a=function(t){t=t||32;for(var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",i=e.length,n="",s=0;s<t;s++)n+=e.charAt(Math.floor(Math.random()*i));return n};return function(t){var e,h,c,u,d,p,g,f,y,m=Array();for(m=function(t){for(var e,i=t.length,n=i+8,s=16*((n-n%64)/64+1),o=Array(s-1),l=0,r=0;r<i;)l=r%4*8,o[e=(r-r%4)/4]=o[e]|t.charCodeAt(r)<<l,r++;return l=r%4*8,o[e=(r-r%4)/4]=o[e]|128<<l,o[s-2]=i<<3,o[s-1]=i>>>29,o}(t=function(t){t=t.replace(/\x0d\x0a/g,"\n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e+=String.fromCharCode(n):n>127&&n<2048?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e}(t)),p=1732584193,g=4023233417,f=2562383102,y=271733878,e=0;e<m.length;e+=16)h=p,c=g,u=f,d=y,p=n(p,g,f,y,m[e+0],7,3614090360),y=n(y,p,g,f,m[e+1],12,3905402710),f=n(f,y,p,g,m[e+2],17,606105819),g=n(g,f,y,p,m[e+3],22,3250441966),p=n(p,g,f,y,m[e+4],7,4118548399),y=n(y,p,g,f,m[e+5],12,1200080426),f=n(f,y,p,g,m[e+6],17,2821735955),g=n(g,f,y,p,m[e+7],22,4249261313),p=n(p,g,f,y,m[e+8],7,1770035416),y=n(y,p,g,f,m[e+9],12,2336552879),f=n(f,y,p,g,m[e+10],17,4294925233),g=n(g,f,y,p,m[e+11],22,2304563134),p=n(p,g,f,y,m[e+12],7,1804603682),y=n(y,p,g,f,m[e+13],12,4254626195),f=n(f,y,p,g,m[e+14],17,2792965006),g=n(g,f,y,p,m[e+15],22,1236535329),p=s(p,g,f,y,m[e+1],5,4129170786),y=s(y,p,g,f,m[e+6],9,3225465664),f=s(f,y,p,g,m[e+11],14,643717713),g=s(g,f,y,p,m[e+0],20,3921069994),p=s(p,g,f,y,m[e+5],5,3593408605),y=s(y,p,g,f,m[e+10],9,38016083),f=s(f,y,p,g,m[e+15],14,3634488961),g=s(g,f,y,p,m[e+4],20,3889429448),p=s(p,g,f,y,m[e+9],5,568446438),y=s(y,p,g,f,m[e+14],9,3275163606),f=s(f,y,p,g,m[e+3],14,4107603335),g=s(g,f,y,p,m[e+8],20,1163531501),p=s(p,g,f,y,m[e+13],5,2850285829),y=s(y,p,g,f,m[e+2],9,4243563512),f=s(f,y,p,g,m[e+7],14,1735328473),g=s(g,f,y,p,m[e+12],20,2368359562),p=o(p,g,f,y,m[e+5],4,4294588738),y=o(y,p,g,f,m[e+8],11,2272392833),f=o(f,y,p,g,m[e+11],16,1839030562),g=o(g,f,y,p,m[e+14],23,4259657740),p=o(p,g,f,y,m[e+1],4,2763975236),y=o(y,p,g,f,m[e+4],11,1272893353),f=o(f,y,p,g,m[e+7],16,4139469664),g=o(g,f,y,p,m[e+10],23,3200236656),p=o(p,g,f,y,m[e+13],4,681279174),y=o(y,p,g,f,m[e+0],11,3936430074),f=o(f,y,p,g,m[e+3],16,3572445317),g=o(g,f,y,p,m[e+6],23,76029189),p=o(p,g,f,y,m[e+9],4,3654602809),y=o(y,p,g,f,m[e+12],11,3873151461),f=o(f,y,p,g,m[e+15],16,530742520),g=o(g,f,y,p,m[e+2],23,3299628645),p=l(p,g,f,y,m[e+0],6,4096336452),y=l(y,p,g,f,m[e+7],10,1126891415),f=l(f,y,p,g,m[e+14],15,2878612391),g=l(g,f,y,p,m[e+5],21,4237533241),p=l(p,g,f,y,m[e+12],6,1700485571),y=l(y,p,g,f,m[e+3],10,2399980690),f=l(f,y,p,g,m[e+10],15,4293915773),g=l(g,f,y,p,m[e+1],21,2240044497),p=l(p,g,f,y,m[e+8],6,1873313359),y=l(y,p,g,f,m[e+15],10,4264355552),f=l(f,y,p,g,m[e+6],15,2734768916),g=l(g,f,y,p,m[e+13],21,1309151649),p=l(p,g,f,y,m[e+4],6,4149444226),y=l(y,p,g,f,m[e+11],10,3174756917),f=l(f,y,p,g,m[e+2],15,718787259),g=l(g,f,y,p,m[e+9],21,3951481745),p=i(p,h),g=i(g,c),f=i(f,u),y=i(y,d);var v=r(p)+r(g)+r(f)+r(y);return(v=(v=a(4)+v+a(4)).split("").reverse().join("")).toLowerCase()}(t)}},u={getEncryKey:function(){var t=o.default.getCookie("ecpDataContext.tokenId");t||(t=o.default.getCookie("ecp_token"));var e="cipher";if(t&&t.length>0){for(var i="",n=0;n<t.length;n++)-1==i.indexOf(t[n])&&(i+=t[n]);i.length>=6&&(e=i.substring(0,6))}return e},dealwithRequestContent:function(t,e,i,n){var s,l,r={},a=t.split("?"),u=a[0],d="",p=this.getEncryKey();if(a.length>1)for(var g=a[1].split("&"),f=0;f<g.length;f++)if(-1!=g[f].indexOf("=")){s=g[f].split("=");try{l=decodeURIComponent(s[1])}catch(t){l=s[1]}n?(l&&l.length<=4e3?r[s[0]]=h.doReplace(l,p):r[s[0]]=l,0!=d.length&&(d+="&"),d=d+s[0]+"="+encodeURIComponent(r[s[0]])):r[s[0]]=l}if(i){var y={};for(var m in i)if(y[m]=i[m],void 0!==i[m]){try{l=decodeURIComponent(i[m])}catch(t){l=i[m]}n?(l&&l.length<=4e3?r[m]=h.doReplace(l,p):r[m]=l,y[m]=r[m]):r[m]=l}}var v=new Array;for(var C in r)v.push(C);v.sort();var S="";v.forEach(function(t,e){null!=r[t]&&"undefined"!=r[t]&&(0!=S.length&&(S+="&"),S=S+t+"="+r[t])}),u.indexOf("?")>-1?u+="&":u+="?",d.length>0?u=d=u+d:d=t;var b=o.default.getCookie("ecp_token")||o.default.getCookie("ecpDataContext.tokenId")||"",x=e.toUpperCase()+b+S;return x.length>5e3&&(x=x.substr(0,5e3)),x=x.replace(/\n|\r/gi,""),{AZ:c.md5(x),RequestURI:d,encryptedParam:y}},getCmSign:function(){var t=parseInt(1e6*Math.random(),10)+"";if(t.length<6)for(var e=t.length;e<6;e++)t+="0";var i=t+","+(new Date).getTime(),n=this.getEncryKey();if(n)return h.doReplace(i,n)}},d={az:r,cm:a,isSecurity:function(){return!0===window._ecp_remote_security_state}};null==window._ecp_remote_security&&(window._ecp_remote_security=d);var p=window._ecp_remote_security,g="/grm/ecp/webcore/remoteService",f="/ecp/xdeer/",y="/ecp/doc/vue/";function m(){}m.prototype={_eableDes:function(){var t=window.location.href;return!(t.indexOf(f)>=0||t.indexOf(y)>=0)},_getHeaders:function(t){var e=window.isDebug?{debug:1}:{};t&&t.AZ&&(e.AZ=t.AZ);var i=null;return this._eableDes()&&(i=l.default.getCmSign()),i&&(e.CM=i),e.V4=1,e},_paramsToStr:function(t){var e="";if(null!=t){var i=[];if(t instanceof Array)for(var n=0,s=t.length;n<s;n++){var o=t[n];i.push("p"+n+"="+o)}else if("object"==typeof t)return t;e=i.join("&")}return e},_toJson:function(t){var e=t;if(/^([ \n\t]+)?[{\[]/.test(t))try{e=JSON.parse(t)}catch(i){window.console&&window.console.info(i);try{e=JSON.parse(t.replace(/([{,])([ ]+)?([a-z]+)([ ]+)?:/gi,'$1$2"$3"$4:'))}catch(i){window.console&&window.console.info(i),e=t}}return e},_createStandardXHR:function(){try{return new window.XMLHttpRequest}catch(t){}},_createActiveXHR:function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}},_createaXhr:function(){return this._createStandardXHR()||this._createActiveXHR()},_fluxAjax:function(t){var e=this._createaXhr(),i="";if(/get/i.test(t.method)&&t.params){for(var n in t.params)i=""!==i?i+"&"+n+"="+escape(t.params[n]):n+"="+escape(t.params[n]);t.url.indexOf("?")<0?t.url=t.url+"?"+i:t.url=t.url+"&"+i}else t.data=JSON.stringify(t.params);return e.open(t.method,t.url,!1),e.setRequestHeader("Accept","application/stream+json"),/get/i.test(t.method)?e.send():e.send(t.data),e},_getFullPath:function(t){var e=window._ecp_remote_context_path;if(null!=e&&""!==e){var i="/";/[\\\/]$/.test(e)&&(i="");var n=t;return 0!==t.indexOf("/")&&(n=e+i+t),n}var s=t,o=-1;if("string"==typeof s){if(0===s.indexOf("/"))return s;o=s.indexOf("/mapp/")}var l=window.location.pathname,r=l.indexOf("/mapp/");return n="",r>=0&&o>=0&&(l=l.substr(0,r),s="/"+s.substr(0,o),n=l.replace(s,"")),window.console&&window.console.log("context path is:"+n),i="/",/[\\\/]$/.test(n)&&(i=""),n+i+t},_getRestServiceParams:function(t,e,i,n,s){null==n&&(n={}),window.isDebug&&(n.debug=1),n.Accept="application/json;charset=UTF-8",n.V4=1;var o,l="",r=t;if(t&&t.indexOf("?")>0){var a=t.indexOf("?");r=t.substring(0,a),l=t.substring(a+1)}var h=JSON.stringify(e),c={param:h};if(p.isSecurity()){if((o=p.az.sign(c,s))&&(o.AZ&&(n.AZ=o.AZ,n.METHOD=s),o.encryptedParam))for(var u in c=o.encryptedParam)c[u]&&(c[u]=encodeURIComponent(c[u]));var d=p.cm.sign();if(d&&(n.CM=d),h=JSON.stringify(c),l&&(o=p.az.sign({param:l},s))){o.AZ&&(n.UAZ=o.AZ);var g=o.encryptedParam;t=r+"?up="+encodeURIComponent(g.param)}var f=e=JSON.parse(h);if(/GET/i.test(s)){var y=[];for(var m in c)y.push(m+"="+c[m]);t.indexOf("?")>0?t+="&"+y.join("&"):t+="?"+y.join("&"),f=h}}return{method:s,url:this._getFullPath(t),params:e,headers:n,responseType:i||"json",data:f}},restService_DoPostAsync:function(t,e,i,n,o){var l=this._getRestServiceParams(t,e,i,n,"POST");return new Promise(function(t,e){if(o)try{var i=this._fluxAjax(l),n=!0;"function"==typeof window._ecp_interceptor_common&&(n=window._ecp_interceptor_common(i)),!1!==n&&t(i)}catch(t){n=!0,"function"==typeof window._ecp_interceptor_error&&(n=window._ecp_interceptor_error(t)),!1!==n&&e(t)}else l.data=l.params,l.params={},s()(l).then(function(e){var i=!0;"function"==typeof window._ecp_interceptor_common&&(i=window._ecp_interceptor_common(e)),!1!==i&&t(e)}).catch(function(t){var i=!0;"function"==typeof window._ecp_interceptor_error&&(i=window._ecp_interceptor_error(t)),!1!==i&&e(t)})})},restService_DoGetAsync:function(t,e,i,n,o){var l=this._getRestServiceParams(t,e,i,n,"GET");return new Promise(function(t,e){if(o)try{var i=this._fluxAjax(l),n=!0;"function"==typeof window._ecp_interceptor_common&&(n=window._ecp_interceptor_common(i)),!1!==n&&t(i)}catch(t){n=!0,"function"==typeof window._ecp_interceptor_error&&(n=window._ecp_interceptor_error(t)),!1!==n&&e(t)}else s()(l).then(function(e){var i=!0;"function"==typeof window._ecp_interceptor_common&&(i=window._ecp_interceptor_common(e)),!1!==i&&t(e)}).catch(function(t){var i=!0;"function"==typeof window._ecp_interceptor_error&&(i=window._ecp_interceptor_error(t)),!1!==i&&e(t)})})},restService_DoPostSync:function(t,e,i,n,s){var o=this._getRestServiceParams(t,e,i,n,"POST");try{var l=this._fluxAjax(o);"function"==typeof window._ecp_interceptor_common&&window._ecp_interceptor_common(l);var r=l.responseText;return/json/i.test(o.responseType)&&(r=this._toJson(r)),r}catch(t){window.console&&window.console.error(t),"function"==typeof window._ecp_interceptor_error&&window._ecp_interceptor_error(t)}return null},restService_DoGetSync:function(t,e,i,n,s){var o=this._getRestServiceParams(t,e,i,n,"GET");try{var l=this._fluxAjax(o);"function"==typeof window._ecp_interceptor_common&&window._ecp_interceptor_common(l);var r=l.responseText;return/json/i.test(o.responseType)&&(r=this._toJson(r)),r}catch(t){window.console&&window.console.error(t),"function"==typeof window._ecp_interceptor_error&&window._ecp_interceptor_error(t)}return null},_getRemoteServiceParams:function(t,e,i,n,s){var r="/grm/ecp/webcore/remoteService?name="+t+"."+e,a={name:t+"."+e,params:i,ecp_timezone:o.default.setTimeZone()},h=null;this._eableDes()&&(h=l.default.signData(g,s,a));var c=this._getHeaders(h);if(h&&h.encryptedParam)for(var u in a=h.encryptedParam)a[u]&&(a[u]=encodeURIComponent(a[u]));var d={};if(null!=i&&i instanceof Array){if(/POST/i.test(s)){u=0;for(var p=i.length;u<p;u++){var f=i[u];d["p"+u]=f}}else d=i;d={params:JSON.stringify(d)}}return{method:s,url:r,params:d,headers:c,data:a,responseType:n||"json"}},remoteService_DoPostAsync:function(t,e,i,n){var o=this._getRemoteServiceParams(t,e,i,n,"POST");return new Promise(function(t,e){s()(o).then(function(e){var i=!0;"function"==typeof window._ecp_interceptor_common&&(i=window._ecp_interceptor_common(e)),!1!==i&&t(e)}).catch(function(t){var i=!0;"function"==typeof window._ecp_interceptor_error&&(i=window._ecp_interceptor_error(t)),!1!==i&&e(t)})})},remoteService_DoGetAsync:function(t,e,i,n){var o=this._getRemoteServiceParams(t,e,i,n,"GET");return new Promise(function(t,e){s.a.get(o.url,{params:o.params,headers:o.headers,data:o.data}).then(function(e){var i=!0;"function"==typeof window._ecp_interceptor_common&&(i=window._ecp_interceptor_common(e)),!1!==i&&t(e)}).catch(function(t){var i=!0;"function"==typeof window._ecp_interceptor_error&&(i=window._ecp_interceptor_error(t)),!1!==i&&e(t)})})},remoteService_DoPostSync:function(t,e,i,n){var s=this._getRemoteServiceParams(t,e,i,n,"POST");try{var o=this._fluxAjax(s);"function"==typeof window._ecp_interceptor_common&&window._ecp_interceptor_common(o);var l=o.responseText;return/json/i.test(s.responseType)&&(l=this._toJson(l)),l}catch(t){window.console&&window.console.error(t),"function"==typeof window._ecp_interceptor_error&&window._ecp_interceptor_error(t)}return null},remoteService_DoGetSync:function(t,e,i,n){var s=this._getRemoteServiceParams(t,e,i,n,"GET");try{var o=this._fluxAjax(s);"function"==typeof window._ecp_interceptor_common&&window._ecp_interceptor_common(o);var l=o.responseText;return/json/i.test(s.responseType)&&(l=this._toJson(l)),l}catch(t){window.console&&window.console.error(t),"function"==typeof window._ecp_interceptor_error&&window._ecp_interceptor_error(t)}return null},doPostSync:function(t,e,i,n){var s=null;if(null==e||""===e||"object"==typeof e){var o=t,l=i;i=e,s=this.restService_DoPostSync(o,i,l,n)}else s=this.remoteService_DoPostSync(t,e,i,n);return s},doGetSync:function(t,e,i,n){var s=null;if(null==e||""===e||"object"==typeof e&&(null==i||"string"==typeof i)){var o=t,l=i;i=e,s=this.restService_DoGetSync(o,i,l,n)}else s=this.remoteService_DoGetSync(t,e,i,n);return s},doPost:function(t,e,i,n){var s=null;if(null==e||""===e||"object"==typeof e){var o=t,l=i;i=e,s=this.restService_DoPostAsync(o,i,l,n)}else s=this.remoteService_DoPostAsync(t,e,i,n);return s},doGet:function(t,e,i,n){var s=null;if(null==e||""===e||"object"==typeof e&&(null==i||"string"==typeof i)){var o=t,l=i;i=e,s=this.restService_DoGetAsync(o,i,l,n)}else s=this.remoteService_DoGetAsync(t,e,i,n);return s}},null==window._ecp_remote_service&&(window._ecp_remote_service=new m),e.default=window._ecp_remote_service}])},vzCy:function(t,e,i){"use strict";var n,s="object"==typeof Reflect?Reflect:null,o=s&&"function"==typeof s.apply?s.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)};n=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var l=Number.isNaN||function(t){return t!=t};function r(){r.init.call(this)}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var a=10;function h(t){return void 0===t._maxListeners?r.defaultMaxListeners:t._maxListeners}function c(t,e,i,n){var s,o,l,r;if("function"!=typeof i)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i);if(void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),o=t._events),l=o[e]),void 0===l)l=o[e]=i,++t._eventsCount;else if("function"==typeof l?l=o[e]=n?[i,l]:[l,i]:n?l.unshift(i):l.push(i),(s=h(t))>0&&l.length>s&&!l.warned){l.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=l.length,r=a,console&&console.warn&&console.warn(r)}return t}function u(t,e,i){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},s=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,t))}.bind(n);return s.listener=i,n.wrapFn=s,s}function d(t,e,i){var n=t._events;if(void 0===n)return[];var s=n[e];return void 0===s?[]:"function"==typeof s?i?[s.listener||s]:[s]:i?function(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}(s):g(s,s.length)}function p(t){var e=this._events;if(void 0!==e){var i=e[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function g(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t[n];return i}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||l(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),r.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||l(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},r.prototype.getMaxListeners=function(){return h(this)},r.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var n="error"===t,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){var l;if(e.length>0&&(l=e[0]),l instanceof Error)throw l;var r=new Error("Unhandled error."+(l?" ("+l.message+")":""));throw r.context=l,r}var a=s[t];if(void 0===a)return!1;if("function"==typeof a)o(a,this,e);else{var h=a.length,c=g(a,h);for(i=0;i<h;++i)o(c[i],this,e)}return!0},r.prototype.addListener=function(t,e){return c(this,t,e,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(t,e){return c(this,t,e,!0)},r.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,u(this,t,e)),this},r.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,u(this,t,e)),this},r.prototype.removeListener=function(t,e){var i,n,s,o,l;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(n=this._events))return this;if(void 0===(i=n[t]))return this;if(i===e||i.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){for(s=-1,o=i.length-1;o>=0;o--)if(i[o]===e||i[o].listener===e){l=i[o].listener,s=o;break}if(s<0)return this;0===s?i.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(i,s),1===i.length&&(n[t]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",t,l||e)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(t){var e,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var s,o=Object.keys(i);for(n=0;n<o.length;++n)"removeListener"!==(s=o[n])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=i[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},r.prototype.listeners=function(t){return d(this,t,!0)},r.prototype.rawListeners=function(t){return d(this,t,!1)},r.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},r.prototype.listenerCount=p,r.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},wBb9:function(t,e){},wVMr:function(t,e,i){"use strict";i("DFvq"),i("bgFC");var n={name:"QzzGrid",props:["id","option","data"],model:{prop:"data",event:"onChange"},data:function(){return{cid:this.id||"qzzgrid",idhash:+new Date+parseInt(10*Math.random(),10),cdata:this.data,coption:this.option}},created:function(){},watch:{option:function(t){this.coption=t},data:function(t){this.cdata=t},coption:function(t){this.ui&&this.ui.refreshTitle(t)},cdata:function(t){if(this.ui&&!0!==this.ui._send){var e=this.ui.getScrollIndex(),i=this.ui.dataSet.getIndex();this.ui.value(t,function(){this.scrollToIndex(e),this.locate("@INDEX",i)})}this.ui._send=!1}},mounted:function(){window.console.log("grid mounted."+this.cid+this.idhash);var t=this.$refs.griddom;null==this.ui?this.ui=new window.qzz.ui.grid(t,this.coption):this.ui.refreshTitle(this.coption),this.option&&null!=this.option.data&&this.option.data.length>0&&0===this.cdata.length||this.ui.value(this.cdata);var e=this;this.ui.bind("onChanged",function(){e.cdata=e.ui.value(),e.ui._send=!0,e.$emit("onChange",e.cdata)})}},s={render:function(){var t=this.$createElement;return(this._self._c||t)("table",{ref:"griddom",attrs:{id:this.cid+this.idhash}},[this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td")])}]};var o=i("VU/8")(n,s,!1,function(t){i("wBb9")},null,null);e.a=o.exports},"y8/q":function(t,e){},yrxK:function(t,e){}});